<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6NNLV89K44"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NNLV89K44');
    </script>

    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-53D9MP2H');</script>
    <!-- End Google Tag Manager -->

    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS - Clase 7: User Stories y Story Mapping</title>
    <meta name="description" content="User Stories y Story Mapping: técnicas ágiles para capturar requisitos y planificar productos">
    <meta name="keywords" content="user stories, story mapping, requisitos ágiles, INVEST, épicas, criterios aceptación">
    <meta name="author" content="Curso AMS">
    <script src="js/mermaid.min.js"></script>
    <style>
        :root {
            /* Colores principales */
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --info-color: #17a2b8;
            
            /* Sistema de colores para modo claro */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Gradientes */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        [data-theme="dark"] {
            /* Sistema de colores para modo oscuro */
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-card: rgba(26, 26, 26, 0.95);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --border-color: #4a5568;
            --shadow: rgba(0, 0, 0, 0.3);
            
            /* Gradientes modo oscuro */
            --gradient-primary: linear-gradient(135deg, #232526 0%, #414345 100%);
            --gradient-secondary: linear-gradient(45deg, #2c3e50, #34495e);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--gradient-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Botón de tema */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header del curso */
        .course-header {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .course-title {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .course-subtitle {
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .course-meta {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 25px;
        }

        .meta-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            transition: transform 0.2s ease;
        }

        .meta-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        [data-theme="dark"] .progress-bar {
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .objectives {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            padding: 30px;
            border-radius: 15px;
            color: #000000;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(255, 245, 157, 0.4);
            border: 2px solid #ffeb3b;
        }

        .objectives h2 {
            color: #000000;
            border: none;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: bold;
        }

        .objectives ul {
            list-style: none;
            padding: 0;
        }

        .objectives ul li {
            padding: 12px 0;
            padding-left: 30px;
            position: relative;
            font-size: 1.05em;
            line-height: 1.6;
            color: #000000;
            font-weight: 500;
        }

        .objectives ul li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: bold;
            font-size: 1.2em;
        }

        .course-title {
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px var(--shadow);
        }

        .course-subtitle {
            font-size: 1.2em;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .course-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .meta-card {
            background: var(--gradient-secondary);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .meta-card h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .progress-fill {
            height: 100%;
            background: var(--success-color);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Secciones de contenido */
        .content-section {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
            transition: transform 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .content-section:hover {
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--secondary-color);
            color: var(--text-primary);
        }

        .section-title::before {
            margin-right: 10px;
        }

        

        .objectives h2 {
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .objectives ul {
            list-style: none;
            padding: 0;
        }

        .objectives li {
            background: rgba(255, 255, 255, 0.1);
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
        }

        /* Cajas de contenido */
        .content-box {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary-color);
            border: 1px solid var(--border-color);
        }

        .content-box.warning {
            border-left-color: var(--warning-color);
            background: rgba(243, 156, 18, 0.1);
        }

        .content-box.info {
            border-left-color: var(--info-color);
            background: rgba(23, 162, 184, 0.1);
        }

        .content-box.success {
            border-left-color: var(--success-color);
            background: rgba(39, 174, 96, 0.1);
        }

        .content-box.danger {
            border-left-color: var(--accent-color);
            background: rgba(231, 76, 60, 0.1);
        }

        /* Diagramas */
        .diagram-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            border: 2px solid var(--border-color);
            overflow: hidden;
        }

        .diagram-container .mermaid {
            margin-bottom: 0;
        }

        .diagram-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        /* User Stories específico */
        .story-format {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--info-color);
        }

        .story-template {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .story-part {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .story-part:hover {
            transform: translateY(-2px);
            border-color: var(--secondary-color);
        }

        .story-part.como {
            border-color: var(--success-color);
            background: rgba(39, 174, 96, 0.1);
        }

        .story-part.quiero {
            border-color: var(--warning-color);
            background: rgba(243, 156, 18, 0.1);
        }

        .story-part.para {
            border-color: var(--info-color);
            background: rgba(23, 162, 184, 0.1);
        }

        /* INVEST criteria */
        .invest-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .invest-card {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .invest-card:hover {
            transform: translateY(-2px);
            border-color: var(--success-color);
        }

        .invest-letter {
            font-size: 2em;
            font-weight: bold;
            color: var(--success-color);
            margin-bottom: 10px;
        }

        /* Story mapping */
        .story-map {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border-color);
        }

        .backbone {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--info-color);
            border-radius: 10px;
        }

        .backbone-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            color: var(--primary-color);
        }

        .release-section {
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--secondary-color);
        }

        .release-section.release-1 {
            background: rgba(39, 174, 96, 0.1);
            border-left-color: var(--success-color);
        }

        .release-section.release-2 {
            background: rgba(243, 156, 18, 0.1);
            border-left-color: var(--warning-color);
        }

        .release-section.release-3 {
            background: rgba(23, 162, 184, 0.1);
            border-left-color: var(--info-color);
        }

        .story-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }

        .story-card {
            background: #fff3cd;
            border: 1px solid var(--warning-color);
            border-radius: 8px;
            padding: 12px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .story-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Estimación */
        .estimation-scale {
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .fibonacci-item {
            background: var(--bg-card);
            border: 2px solid var(--secondary-color);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            color: var(--secondary-color);
            transition: all 0.3s ease;
        }

        .fibonacci-item:hover {
            background: var(--secondary-color);
            color: white;
            transform: scale(1.1);
        }

        /* Comparación tabla */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-card);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--gradient-secondary);
            color: white;
            font-weight: bold;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        .comparison-table tr:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        /* Quiz */
        .quiz-container {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid var(--border-color);
        }

        .quiz-container h2 {
            color: var(--primary-color);
            margin-bottom: 30px;
            text-align: center;
        }

        .question {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary-color);
            border: 1px solid var(--border-color);
        }

        .question h4 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .options {
            list-style: none;
            padding: 0;
        }

        .options li {
            background: var(--bg-card);
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .options li:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateX(5px);
        }

        .options li.selected {
            background: var(--success-color);
            color: white;
        }

        .options li.correct {
            background: var(--success-color);
            color: white;
        }

        .options li.incorrect {
            background: var(--accent-color);
            color: white;
        }

        /* Resultados del quiz */
        .quiz-results {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
            border: 1px solid var(--border-color);
            display: none;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
        }

        .score-excellent { background: var(--success-color); }
        .score-good { background: var(--info-color); }
        .score-fair { background: var(--warning-color); }
        .score-poor { background: var(--accent-color); }

        /* Botones */
        .btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
        }

        .btn-primary { background: var(--secondary-color); }
        .btn-success { background: var(--success-color); }
        .btn-warning { background: var(--warning-color); }
        .btn-danger { background: var(--accent-color); }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .course-title {
                font-size: 2em;
            }
            
            .story-template {
                grid-template-columns: 1fr;
            }
            
            .invest-grid {
                grid-template-columns: 1fr;
            }
            
            .estimation-scale {
                justify-content: center;
            }
        }

        /* Animaciones */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content-section {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Accesibilidad */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* Focus states */
        button:focus,
        .options li:focus {
            outline: 2px solid var(--secondary-color);
            outline-offset: 2px;
        }

        /* Nuevos estilos para refinamiento, splitting y estimación */
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .before, .after {
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px solid transparent;
        }

        .before {
            background: linear-gradient(145deg, #ffebee, #fce4ec);
            border-color: #f44336;
        }

        .after {
            background: linear-gradient(145deg, #e8f5e8, #f1f8e9);
            border-color: #4caf50;
        }

        [data-theme="dark"] .before {
            background: linear-gradient(145deg, #4a2c2a, #5d4037);
            border-color: #f44336;
        }

        [data-theme="dark"] .after {
            background: linear-gradient(145deg, #2e4a2e, #388e3c);
            border-color: #4caf50;
        }

        .user-story {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            box-shadow: 0 2px 4px var(--shadow);
        }

        [data-theme="dark"] .user-story {
            background: rgba(42, 42, 42, 0.9);
            border-color: var(--border-color);
        }

        .story-points {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-top: 0.5rem;
            text-align: right;
        }

        .issues {
            margin-top: 1rem;
            color: var(--accent-color);
            font-size: 0.9rem;
        }

        .issues ul {
            margin-left: 1rem;
        }

        /* Estilos de técnicas de splitting */
        .splitting-technique {
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 1.5rem;
            background: var(--bg-card);
        }

        .epic-example {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            border-radius: 5px;
            margin-top: 1rem;
        }

        .split-stories {
            margin-top: 1rem;
        }

        .split-stories .user-story {
            margin: 0.5rem 0;
            position: relative;
        }

        .points {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--success-color);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Estilos de estimación */
        .estimation-level {
            margin-bottom: 3rem;
        }

        .epic-estimation {
            display: grid;
            gap: 2rem;
        }

        .epic-item {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            background: var(--bg-card);
        }

        .epic-header {
            background: var(--gradient-secondary);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .epic-points {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
        }

        .epic-breakdown {
            padding: 1.5rem;
        }

        .epic-breakdown ul {
            margin-left: 1rem;
            margin-bottom: 1rem;
        }

        .epic-confidence {
            font-size: 0.9rem;
            color: var(--warning-color);
            font-weight: bold;
        }

        /* Stories por complejidad */
        .stories-by-complexity {
            display: grid;
            gap: 2rem;
        }

        .complexity-group {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            background: var(--bg-card);
        }

        .complexity-group h6 {
            padding: 1rem;
            margin: 0;
            font-size: 1.1rem;
        }

        .complexity-group h6:contains("🟢") {
            background: linear-gradient(45deg, #4caf50, #66bb6a);
            color: white;
        }

        .complexity-group h6:contains("🟡") {
            background: linear-gradient(45deg, #ff9800, #ffb74d);
            color: white;
        }

        .complexity-group h6:contains("🟠") {
            background: linear-gradient(45deg, #f44336, #ef5350);
            color: white;
        }

        .story-examples, .task-examples {
            padding: 1rem;
        }

        .story-item, .task-item {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.5);
        }

        [data-theme="dark"] .story-item,
        [data-theme="dark"] .task-item {
            background: rgba(42, 42, 42, 0.5);
        }

        .story-text, .task-text {
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .story-meta, .task-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
        }

        .story-meta .points,
        .task-meta .points {
            background: var(--secondary-color);
            color: white;
            padding: 0.2rem 0.8rem;
            border-radius: 15px;
            font-weight: bold;
            position: static;
            transform: none;
        }

        .reasoning {
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Tareas técnicas */
        .technical-tasks {
            display: grid;
            gap: 2rem;
        }

        .task-group {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            background: var(--bg-card);
        }

        .task-group h6 {
            background: var(--gradient-primary);
            color: white;
            padding: 1rem;
            margin: 0;
        }

        /* Planning Poker */
        .planning-session {
            border: 2px solid var(--secondary-color);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            background: var(--bg-card);
        }

        .story-to-estimate {
            background: rgba(52, 152, 219, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .estimation-round {
            margin: 2rem 0;
        }

        .team-estimates {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .estimate-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 4px var(--shadow);
        }

        .discussion {
            background: rgba(241, 196, 15, 0.1);
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }

        .discussion ul {
            margin-left: 1rem;
        }

        .final-estimate {
            background: rgba(39, 174, 96, 0.1);
            border: 2px solid var(--success-color);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }

        .final-points {
            color: var(--success-color);
            font-size: 1.5rem;
            font-weight: bold;
        }

        .estimate-reasoning {
            margin-top: 1rem;
            font-style: italic;
        }

        .refinement-suggestion {
            background: rgba(23, 162, 184, 0.1);
            border: 2px solid var(--info-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .split-proposals {
            margin: 1rem 0;
        }

        .split-story {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 0.8rem;
            margin: 0.5rem 0;
        }

        [data-theme="dark"] .split-story {
            background: rgba(42, 42, 42, 0.8);
        }

        .split-story .points {
            background: var(--success-color);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 0.5rem;
        }

        .team-agreement {
            background: rgba(39, 174, 96, 0.1);
            border-left: 4px solid var(--success-color);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 5px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .before-after {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .team-estimates {
                grid-template-columns: 1fr;
            }

            .planning-session {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53D9MP2H"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    
    <!-- Botón cambio de tema -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema">
        <span id="theme-icon">🌓</span>
    </button>

    <div class="container">
        <!-- Header del curso -->
                        <header class="course-header">
            <h1 class="course-title">📚 Introducción a UML</h1>
            <p class="course-subtitle">Lenguaje Unificado de Modelado para sistemas orientados a objetos</p>
            <div class="course-meta">
                <span class="meta-item">📚 Unidad 3: Modelado</span>
                <span class="meta-item">🎯 Clase 07</span>
                <span class="meta-item">⏱️ 90 minutos</span>
                <span class="meta-item">📈 Nivel: Intermedio</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 43.75%"></div>
            </div>
        </header>

        <!-- Objetivos de aprendizaje -->
        <section class="objectives">
            <h2>🎯 Objetivos de Aprendizaje</h2>
            <ul>
                <li><strong>Dominar la técnica de user stories</strong> para capturar requisitos de manera ágil y centrada en el usuario</li>
                <li><strong>Comprender el story mapping</strong> como herramienta de planificación y visualización del producto</li>
                <li><strong>Analizar técnicas de estimación ágil</strong> incluyendo story points y planning poker</li>
                <li><strong>Aplicar criterios INVEST</strong> para evaluar la calidad de las user stories</li>
                <li><strong>Implementar técnicas de priorización</strong> y planificación de releases</li>
                <li><strong>Desarrollar habilidades de facilitación</strong> en workshops de story mapping</li>
            </ul>
        </section>

        <!-- Contenido principal -->
        <section class="content-section">
            <h2 class="section-title">📝 1. Fundamentos de User Stories</h2>
            
            <div class="content-box info">
                <h3>📖 Definición</h3>
                <p><strong>User Story (Historia de Usuario):</strong> Una descripción corta y simple de una característica del software escrita desde la perspectiva de la persona que desea la nueva capacidad, generalmente un usuario o cliente del sistema.</p>
            </div>

            <div class="story-format">
                <h3>📝 Formato Estándar de User Story</h3>
                
                <div class="story-template">
                    <div class="story-part como">
                        <h4>👤 COMO</h4>
                        <p><strong>[Tipo de usuario]</strong></p>
                        <p>Define quién es el usuario</p>
                    </div>
                    
                    <div class="story-part quiero">
                        <h4>💭 QUIERO</h4>
                        <p><strong>[Acción/Función]</strong></p>
                        <p>Describe qué quiere hacer</p>
                    </div>
                    
                    <div class="story-part para">
                        <h4>🎯 PARA QUE</h4>
                        <p><strong>[Beneficio/Valor]</strong></p>
                        <p>Explica el valor obtenido</p>
                    </div>
                </div>
            </div>

            <div class="content-box success">
                <h3>💡 Ejemplo de User Story</h3>
                <p><strong>Como</strong> cliente de un e-commerce, <strong>quiero</strong> filtrar productos por precio <strong>para que</strong> pueda encontrar artículos dentro de mi presupuesto.</p>
                
                <h4>📋 Criterios de Aceptación:</h4>
                <ul>
                    <li><strong>Dado que</strong> estoy en la página de productos, <strong>cuando</strong> selecciono un rango de precios, <strong>entonces</strong> solo se muestran productos dentro de ese rango</li>
                    <li><strong>Dado que</strong> he aplicado un filtro de precio, <strong>cuando</strong> agrego un producto al carrito, <strong>entonces</strong> el filtro se mantiene activo</li>
                    <li><strong>Dado que</strong> no hay productos en el rango seleccionado, <strong>cuando</strong> aplico el filtro, <strong>entonces</strong> se muestra un mensaje informativo</li>
                </ul>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🔄 User Stories vs Requisitos Tradicionales</div>
                <div class="mermaid">
                    graph TB
                        A[Requisitos Tradicionales] --> A1[Especificaciones detalladas]
                        A --> A2[Lenguaje técnico]
                        A --> A3[Documentación extensa]
                        A --> A4[Difícil de cambiar]
                        
                        B[User Stories] --> B1[Descripciones conversacionales]
                        B --> B2[Lenguaje natural]
                        B --> B3[Documentación mínima]
                        B --> B4[Fácil adaptación]
                        
                        style A fill:#ffebee
                        style B fill:#e8f5e8
                        style A1 fill:#ffcdd2
                        style A2 fill:#ffcdd2
                        style A3 fill:#ffcdd2
                        style A4 fill:#ffcdd2
                        style B1 fill:#c8e6c8
                        style B2 fill:#c8e6c8
                        style B3 fill:#c8e6c8
                        style B4 fill:#c8e6c8
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">⭐ 2. Criterios INVEST</h2>
            
            <div class="content-box">
                <p>Los criterios <strong>INVEST</strong> fueron introducidos por Bill Wake como una forma de evaluar la calidad de las user stories. Cada letra representa una característica esencial:</p>
            </div>

            <div class="invest-grid">
                <div class="invest-card">
                    <div class="invest-letter">I</div>
                    <h4>Independent</h4>
                    <p><strong>Independiente</strong></p>
                    <p>La story puede desarrollarse sin depender de otras stories, permitiendo flexibilidad en la planificación.</p>
                </div>
                
                <div class="invest-card">
                    <div class="invest-letter">N</div>
                    <h4>Negotiable</h4>
                    <p><strong>Negociable</strong></p>
                    <p>Los detalles pueden discutirse y ajustarse durante el desarrollo, manteniendo flexibilidad.</p>
                </div>
                
                <div class="invest-card">
                    <div class="invest-letter">V</div>
                    <h4>Valuable</h4>
                    <p><strong>Valiosa</strong></p>
                    <p>Aporta valor claro al usuario final o al negocio, justificando el esfuerzo de desarrollo.</p>
                </div>
                
                <div class="invest-card">
                    <div class="invest-letter">E</div>
                    <h4>Estimable</h4>
                    <p><strong>Estimable</strong></p>
                    <p>El equipo puede estimar razonablemente el esfuerzo necesario para completar la story.</p>
                </div>
                
                <div class="invest-card">
                    <div class="invest-letter">S</div>
                    <h4>Small</h4>
                    <p><strong>Pequeña</strong></p>
                    <p>Puede completarse dentro de un sprint, permitiendo entregas frecuentes.</p>
                </div>
                
                <div class="invest-card">
                    <div class="invest-letter">T</div>
                    <h4>Testable</h4>
                    <p><strong>Testeable</strong></p>
                    <p>Incluye criterios claros que permiten verificar si se cumplieron los requisitos.</p>
                </div>
            </div>

            <div class="content-box warning">
                <h3>⚠️ Señales de Alerta en User Stories</h3>
                <ul>
                    <li><strong>Muy técnica:</strong> "Como desarrollador, quiero usar PostgreSQL..."</li>
                    <li><strong>Muy grande:</strong> "Como usuario, quiero un sistema completo de CRM..."</li>
                    <li><strong>Sin valor claro:</strong> "Como usuario, quiero hacer login para hacer login"</li>
                    <li><strong>No testeable:</strong> "Como usuario, quiero una interfaz bonita"</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">📊 3. Jerarquía de User Stories</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">🏗️ Niveles de Detalle</div>
                <div class="mermaid">
                    graph TD
                        A[Epic: Gestión de Usuarios<br/>3-6 meses<br/>200-500 puntos] --> B[Feature: Autenticación<br/>2-4 sprints<br/>50-100 puntos]
                        A --> C[Feature: Perfil de Usuario<br/>2-3 sprints<br/>40-80 puntos]
                        
                        B --> D[Story: Registro<br/>1-2 sprints<br/>8-13 puntos]
                        B --> E[Story: Login<br/>1 sprint<br/>5-8 puntos]
                        B --> F[Story: Logout<br/>1 sprint<br/>3-5 puntos]
                        
                        D --> G[Task: Validar email<br/>2-4 horas]
                        D --> H[Task: Crear BD<br/>4-6 horas]
                        D --> I[Task: UI formulario<br/>3-5 horas]
                        
                        style A fill:#667eea,color:#fff
                        style B fill:#4facfe,color:#fff
                        style C fill:#4facfe,color:#fff
                        style D fill:#ffeaa7
                        style E fill:#ffeaa7
                        style F fill:#ffeaa7
                        style G fill:#fab1a0
                        style H fill:#fab1a0
                        style I fill:#fab1a0
                </div>
            </div>

            <div class="content-box">
                <h3>📝 Definiciones por Nivel</h3>
                <ul>
                    <li><strong>Épicas:</strong> Objetivos de alto nivel que requieren múltiples releases</li>
                    <li><strong>Features:</strong> Conjuntos de funcionalidades relacionadas</li>
                    <li><strong>User Stories:</strong> Funcionalidades específicas completables en 1-2 sprints</li>
                    <li><strong>Tasks:</strong> Actividades técnicas para implementar una story</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">🛤️ 3.5. User Journey: El Camino del Usuario</h2>

            <div class="content-box info">
                <h3>🎯 ¿Qué es un User Journey?</h3>
                <p>Un <strong>journey</strong> (viaje o recorrido) representa la secuencia completa de pasos, acciones y experiencias que un usuario realiza para lograr un objetivo específico con nuestro producto o servicio. Este concepto es fundamental para entender cómo organizar y priorizar las user stories.</p>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🗺️ Journey del Usuario en E-commerce</div>
                <div class="mermaid">
                    journey
                        title User Journey - Plataforma E-commerce
                        section Descubrir Productos
                            Buscar productos: 5: Usuario
                            Ver catálogo: 4: Usuario
                            Usar filtros: 3: Usuario
                        section Evaluar Opciones
                            Ver detalles producto: 5: Usuario
                            Comparar productos: 4: Usuario
                            Leer reviews: 3: Usuario
                        section Realizar Compra
                            Agregar al carrito: 5: Usuario
                            Proceso checkout: 2: Usuario
                            Completar pago: 1: Usuario
                        section Recibir Producto
                            Confirmar pedido: 5: Usuario
                            Tracking envío: 4: Usuario
                            Recibir producto: 5: Usuario
                        section Gestionar Post-venta
                            Calificar producto: 3: Usuario
                            Soporte técnico: 2: Usuario
                            Recomprar: 4: Usuario
                </div>
            </div>

            <div class="content-box">
                <h3>🔗 Relación Journey ↔ User Stories</h3>
                <ul>
                    <li><strong>Journey define el FLUJO:</strong> La secuencia lógica de actividades del usuario</li>
                    <li><strong>User Stories definen las FUNCIONALIDADES:</strong> Qué necesita el usuario en cada paso</li>
                    <li><strong>Epic agrupa OBJETIVOS:</strong> Conjunto de journeys relacionados</li>
                    <li><strong>Tasks detallan la IMPLEMENTACIÓN:</strong> Cómo construir cada funcionalidad</li>
                </ul>
            </div>

            <div class="workflow-grid">
                <div class="workflow-card">
                    <h4>🎯 Touchpoints</h4>
                    <p>Puntos específicos donde el usuario interactúa con el sistema</p>
                    <div class="pros">✅ Identifican oportunidades de mejora</div>
                </div>

                <div class="workflow-card">
                    <h4>😊 Pain Points</h4>
                    <p>Momentos de frustración o dificultad en el journey</p>
                    <div class="cons">❌ Deben ser priorizados para resolver</div>
                </div>

                <div class="workflow-card">
                    <h4>💎 Moments of Truth</h4>
                    <p>Experiencias críticas que definen la percepción del usuario</p>
                    <div class="pros">✅ Determinan éxito o abandono</div>
                </div>
            </div>

            <div class="content-box warning">
                <h3>🎯 Importancia del Journey en Desarrollo Ágil</h3>
                <p>Entender el journey del usuario es crucial porque:</p>
                <ul>
                    <li><strong>Priorización inteligente:</strong> Las funcionalidades se ordenan según el flujo natural del usuario</li>
                    <li><strong>MVP coherente:</strong> El primer release cubre un journey completo básico</li>
                    <li><strong>Validación temprana:</strong> Se puede testear cada etapa del journey con usuarios reales</li>
                    <li><strong>Evita funcionalidades huérfanas:</strong> Cada story tiene su lugar en el flujo general</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">🗺️ 4. Story Mapping</h2>
            
            <div class="content-box info">
                <h3>🎯 ¿Qué es Story Mapping?</h3>
                <p>Una técnica visual de planificación que organiza user stories en un mapa bidimensional, mostrando el flujo de actividades del usuario (backbone) y las prioridades de implementación (releases).</p>
            </div>

            <div class="story-map">
                <h3>🏗️ Estructura del Story Map</h3>
                
                <h4>📋 Backbone (Actividades Principales)</h4>
                <div class="backbone">
                    <div class="backbone-item">Descubrir<br/>Productos</div>
                    <div class="backbone-item">Evaluar<br/>Opciones</div>
                    <div class="backbone-item">Realizar<br/>Compra</div>
                    <div class="backbone-item">Recibir<br/>Producto</div>
                    <div class="backbone-item">Gestionar<br/>Post-venta</div>
                </div>

                <div class="release-section release-1">
                    <h4>🚀 Release 1 - MVP (Walking Skeleton)</h4>
                    <div class="story-cards">
                        <div class="story-card">Buscar productos básico</div>
                        <div class="story-card">Ver detalles producto</div>
                        <div class="story-card">Agregar al carrito</div>
                        <div class="story-card">Checkout simple</div>
                        <div class="story-card">Confirmar pedido</div>
                    </div>
                </div>

                <div class="release-section release-2">
                    <h4>⭐ Release 2 - Funcionalidades Clave</h4>
                    <div class="story-cards">
                        <div class="story-card">Filtros avanzados</div>
                        <div class="story-card">Comparar productos</div>
                        <div class="story-card">Wishlist</div>
                        <div class="story-card">Múltiples pagos</div>
                        <div class="story-card">Tracking pedido</div>
                    </div>
                </div>

                <div class="release-section release-3">
                    <h4>🎨 Release 3 - Mejoras y Optimizaciones</h4>
                    <div class="story-cards">
                        <div class="story-card">Recomendaciones IA</div>
                        <div class="story-card">Reviews y ratings</div>
                        <div class="story-card">Programa lealtad</div>
                        <div class="story-card">Chat soporte</div>
                        <div class="story-card">Devoluciones</div>
                    </div>
                </div>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🔄 Proceso de Story Mapping</div>
                <div class="mermaid">
                    flowchart LR
                        A[Identificar Usuarios] --> B[Mapear Journey]
                        B --> C[Crear Backbone]
                        C --> D[Agregar Stories]
                        D --> E[Priorizar Releases]
                        E --> F[Validar con Usuarios]
                        F --> G[Iterar y Refinar]
                        
                        style A fill:#e8f5e8
                        style B fill:#fff3e0
                        style C fill:#e3f2fd
                        style D fill:#f3e5f5
                        style E fill:#fff8e1
                        style F fill:#fce4ec
                        style G fill:#e1f5fe
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">📏 5. Estimación con Story Points</h2>
            
            <div class="content-box">
                <h3>🔢 ¿Qué son los Story Points?</h3>
                <p>Una unidad de medida relativa que considera <strong>complejidad</strong>, <strong>esfuerzo</strong> y <strong>riesgo</strong> de una user story, usando la secuencia de Fibonacci para reflejar la incertidumbre natural en las estimaciones.</p>
            </div>

            <div class="estimation-scale">
                <div class="fibonacci-item">1</div>
                <div class="fibonacci-item">2</div>
                <div class="fibonacci-item">3</div>
                <div class="fibonacci-item">5</div>
                <div class="fibonacci-item">8</div>
                <div class="fibonacci-item">13</div>
                <div class="fibonacci-item">21</div>
                <div class="fibonacci-item">?</div>
            </div>

            <div class="content-box success">
                <h3>🎯 Planning Poker</h3>
                <p>Técnica colaborativa de estimación donde cada miembro del equipo:</p>
                <ol>
                    <li>Escucha la descripción de la story</li>
                    <li>Hace preguntas para clarificar</li>
                    <li>Estima individualmente en secreto</li>
                    <li>Revela estimaciones simultáneamente</li>
                    <li>Discute diferencias y re-estima si es necesario</li>
                </ol>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Story Points</th>
                        <th>Complejidad</th>
                        <th>Ejemplo</th>
                        <th>Tiempo Estimado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>1-2</strong></td>
                        <td>Muy Simple</td>
                        <td>Cambiar texto de botón</td>
                        <td>2-4 horas</td>
                    </tr>
                    <tr>
                        <td><strong>3-5</strong></td>
                        <td>Simple</td>
                        <td>Formulario básico</td>
                        <td>1-2 días</td>
                    </tr>
                    <tr>
                        <td><strong>8</strong></td>
                        <td>Moderada</td>
                        <td>Integración con API</td>
                        <td>3-5 días</td>
                    </tr>
                    <tr>
                        <td><strong>13</strong></td>
                        <td>Compleja</td>
                        <td>Sistema de notificaciones</td>
                        <td>1-2 semanas</td>
                    </tr>
                    <tr>
                        <td><strong>21+</strong></td>
                        <td>Muy Compleja</td>
                        <td>Necesita dividirse</td>
                        <td>Épica o Feature</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="content-section">
            <h2 class="section-title">🔄 6. Refinamiento y Splitting</h2>
            
            <div class="content-box warning">
                <h3>✂️ Técnicas para Dividir User Stories</h3>
                
                <h4>🎯 Por Criterios de Aceptación</h4>
                <p><strong>Original:</strong> "Como usuario, quiero buscar productos"</p>
                <p><strong>División:</strong></p>
                <ul>
                    <li>Buscar por nombre</li>
                    <li>Buscar por categoría</li>
                    <li>Buscar por precio</li>
                </ul>

                <h4>👥 Por Tipo de Usuario</h4>
                <p><strong>Original:</strong> "Como usuario, quiero ver reportes"</p>
                <p><strong>División:</strong></p>
                <ul>
                    <li>Como admin, ver todos los reportes</li>
                    <li>Como manager, ver reportes de mi equipo</li>
                    <li>Como empleado, ver mis reportes</li>
                </ul>

                <h4>🔄 Por Flujo de Trabajo</h4>
                <p><strong>Original:</strong> "Como usuario, quiero hacer una compra"</p>
                <p><strong>División:</strong></p>
                <ul>
                    <li>Agregar productos al carrito</li>
                    <li>Revisar carrito</li>
                    <li>Procesar pago</li>
                    <li>Confirmar pedido</li>
                </ul>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🔍 Proceso de Refinamiento</div>
                <div class="mermaid">
                    graph LR
                        A[Story Grande] --> B{¿Es INVEST?}
                        B -->|No| C[Aplicar Técnica Splitting]
                        C --> D[Stories Más Pequeñas]
                        D --> B
                        B -->|Sí| E[Story Lista para Sprint]
                        
                        F[Clarificar Criterios] --> B
                        G[Remover Dependencias] --> B
                        H[Validar Valor] --> B
                        
                        style A fill:#ffebee
                        style E fill:#e8f5e8
                        style C fill:#fff3e0
                        style D fill:#e3f2fd
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">📋 7. Planificación con Story Mapping</h2>
            
            <div class="content-box info">
                <h3>🎯 Planificación Integral con Story Mapping</h3>
                <p>La planificación con Story Mapping permite crear una estrategia de releases que maximiza el valor entregado al usuario, organizando las funcionalidades de manera lógica y priorizando según el journey del usuario.</p>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🗺️ Story Map Completo - Sistema E-commerce</div>
                
                <svg viewBox="0 0 1400 800" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: auto; background: var(--bg-secondary); border-radius: 10px;">
                    <!-- Backbone Header -->
                    <rect x="50" y="20" width="1300" height="60" fill="#3498db" rx="8"/>
                    <text x="700" y="45" text-anchor="middle" fill="white" font-size="16" font-weight="bold">BACKBONE - JOURNEY DEL USUARIO</text>
                    
                    <!-- Backbone Activities -->
                    <g id="backbone-activities">
                        <rect x="50" y="90" width="240" height="50" fill="#2c3e50" rx="5"/>
                        <text x="170" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">DESCUBRIR</text>
                        <text x="170" y="130" text-anchor="middle" fill="white" font-size="12">PRODUCTOS</text>
                        
                        <rect x="310" y="90" width="240" height="50" fill="#2c3e50" rx="5"/>
                        <text x="430" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">EVALUAR</text>
                        <text x="430" y="130" text-anchor="middle" fill="white" font-size="12">OPCIONES</text>
                        
                        <rect x="570" y="90" width="240" height="50" fill="#2c3e50" rx="5"/>
                        <text x="690" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">REALIZAR</text>
                        <text x="690" y="130" text-anchor="middle" fill="white" font-size="12">COMPRA</text>
                        
                        <rect x="830" y="90" width="240" height="50" fill="#2c3e50" rx="5"/>
                        <text x="950" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">RECIBIR</text>
                        <text x="950" y="130" text-anchor="middle" fill="white" font-size="12">PRODUCTO</text>
                        
                        <rect x="1090" y="90" width="240" height="50" fill="#2c3e50" rx="5"/>
                        <text x="1210" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">POST-VENTA</text>
                        <text x="1210" y="130" text-anchor="middle" fill="white" font-size="12">SOPORTE</text>
                    </g>
                    
                    <!-- Release 1 - MVP -->
                    <g id="release1">
                        <rect x="20" y="160" width="1360" height="160" fill="#27ae60" fill-opacity="0.1" stroke="#27ae60" stroke-width="2" rx="8"/>
                        <text x="30" y="180" fill="#27ae60" font-size="14" font-weight="bold">RELEASE 1 - MVP (Walking Skeleton) 🚀</text>
                        <text x="30" y="200" fill="#27ae60" font-size="12">4-6 semanas | 80-120 story points</text>
                        
                        <!-- MVP Stories -->
                        <rect x="60" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="115" y="240" text-anchor="middle" font-size="10" font-weight="bold">Catálogo</text>
                        <text x="115" y="255" text-anchor="middle" font-size="9">Básico</text>
                        <text x="115" y="270" text-anchor="middle" font-size="8">Ver productos</text>
                        <text x="115" y="285" text-anchor="middle" font-size="8" fill="#856404">8 pts</text>
                        
                        <rect x="180" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="235" y="240" text-anchor="middle" font-size="10" font-weight="bold">Búsqueda</text>
                        <text x="235" y="255" text-anchor="middle" font-size="9">Simple</text>
                        <text x="235" y="270" text-anchor="middle" font-size="8">Por nombre</text>
                        <text x="235" y="285" text-anchor="middle" font-size="8" fill="#856404">5 pts</text>
                        
                        <rect x="320" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="375" y="240" text-anchor="middle" font-size="10" font-weight="bold">Detalles</text>
                        <text x="375" y="255" text-anchor="middle" font-size="9">Producto</text>
                        <text x="375" y="270" text-anchor="middle" font-size="8">Info básica</text>
                        <text x="375" y="285" text-anchor="middle" font-size="8" fill="#856404">3 pts</text>
                        
                        <rect x="440" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="495" y="240" text-anchor="middle" font-size="10" font-weight="bold">Comparar</text>
                        <text x="495" y="255" text-anchor="middle" font-size="9">Básico</text>
                        <text x="495" y="270" text-anchor="middle" font-size="8">2 productos</text>
                        <text x="495" y="285" text-anchor="middle" font-size="8" fill="#856404">8 pts</text>
                        
                        <rect x="580" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="635" y="240" text-anchor="middle" font-size="10" font-weight="bold">Carrito</text>
                        <text x="635" y="255" text-anchor="middle" font-size="9">Agregar</text>
                        <text x="635" y="270" text-anchor="middle" font-size="8">Modificar</text>
                        <text x="635" y="285" text-anchor="middle" font-size="8" fill="#856404">13 pts</text>
                        
                        <rect x="700" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="755" y="240" text-anchor="middle" font-size="10" font-weight="bold">Checkout</text>
                        <text x="755" y="255" text-anchor="middle" font-size="9">Simple</text>
                        <text x="755" y="270" text-anchor="middle" font-size="8">Una forma pago</text>
                        <text x="755" y="285" text-anchor="middle" font-size="8" fill="#856404">21 pts</text>
                        
                        <rect x="840" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="895" y="240" text-anchor="middle" font-size="10" font-weight="bold">Confirmar</text>
                        <text x="895" y="255" text-anchor="middle" font-size="9">Pedido</text>
                        <text x="895" y="270" text-anchor="middle" font-size="8">Email básico</text>
                        <text x="895" y="285" text-anchor="middle" font-size="8" fill="#856404">8 pts</text>
                        
                        <rect x="960" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="1015" y="240" text-anchor="middle" font-size="10" font-weight="bold">Estado</text>
                        <text x="1015" y="255" text-anchor="middle" font-size="9">Pedido</text>
                        <text x="1015" y="270" text-anchor="middle" font-size="8">Consulta básica</text>
                        <text x="1015" y="285" text-anchor="middle" font-size="8" fill="#856404">5 pts</text>
                        
                        <rect x="1100" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="1155" y="240" text-anchor="middle" font-size="10" font-weight="bold">Contacto</text>
                        <text x="1155" y="255" text-anchor="middle" font-size="9">Básico</text>
                        <text x="1155" y="270" text-anchor="middle" font-size="8">Formulario</text>
                        <text x="1155" y="285" text-anchor="middle" font-size="8" fill="#856404">3 pts</text>
                        
                        <rect x="1220" y="220" width="110" height="80" fill="#fff3cd" stroke="#856404" rx="3"/>
                        <text x="1275" y="240" text-anchor="middle" font-size="10" font-weight="bold">FAQ</text>
                        <text x="1275" y="255" text-anchor="middle" font-size="9">Básico</text>
                        <text x="1275" y="270" text-anchor="middle" font-size="8">Preguntas</text>
                        <text x="1275" y="285" text-anchor="middle" font-size="8" fill="#856404">2 pts</text>
                    </g>
                    
                    <!-- Release 2 - Core Features -->
                    <g id="release2">
                        <rect x="20" y="340" width="1360" height="160" fill="#f39c12" fill-opacity="0.1" stroke="#f39c12" stroke-width="2" rx="8"/>
                        <text x="30" y="360" fill="#f39c12" font-size="14" font-weight="bold">RELEASE 2 - FUNCIONALIDADES CORE ⭐</text>
                        <text x="30" y="380" fill="#f39c12" font-size="12">6-8 semanas | 120-180 story points</text>
                        
                        <!-- Core Features Stories -->
                        <rect x="60" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="115" y="420" text-anchor="middle" font-size="10" font-weight="bold">Filtros</text>
                        <text x="115" y="435" text-anchor="middle" font-size="9">Avanzados</text>
                        <text x="115" y="450" text-anchor="middle" font-size="8">Precio, marca</text>
                        <text x="115" y="465" text-anchor="middle" font-size="8" fill="#d63031">13 pts</text>
                        
                        <rect x="180" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="235" y="420" text-anchor="middle" font-size="10" font-weight="bold">Categorías</text>
                        <text x="235" y="435" text-anchor="middle" font-size="9">Navegación</text>
                        <text x="235" y="450" text-anchor="middle" font-size="8">Árbol categorías</text>
                        <text x="235" y="465" text-anchor="middle" font-size="8" fill="#d63031">8 pts</text>
                        
                        <rect x="320" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="375" y="420" text-anchor="middle" font-size="10" font-weight="bold">Reviews</text>
                        <text x="375" y="435" text-anchor="middle" font-size="9">Y Ratings</text>
                        <text x="375" y="450" text-anchor="middle" font-size="8">Opiniones users</text>
                        <text x="375" y="465" text-anchor="middle" font-size="8" fill="#d63031">21 pts</text>
                        
                        <rect x="440" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="495" y="420" text-anchor="middle" font-size="10" font-weight="bold">Wishlist</text>
                        <text x="495" y="435" text-anchor="middle" font-size="9">Favoritos</text>
                        <text x="495" y="450" text-anchor="middle" font-size="8">Guardar productos</text>
                        <text x="495" y="465" text-anchor="middle" font-size="8" fill="#d63031">8 pts</text>
                        
                        <rect x="580" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="635" y="420" text-anchor="middle" font-size="10" font-weight="bold">Cuentas</text>
                        <text x="635" y="435" text-anchor="middle" font-size="9">Usuario</text>
                        <text x="635" y="450" text-anchor="middle" font-size="8">Login/registro</text>
                        <text x="635" y="465" text-anchor="middle" font-size="8" fill="#d63031">13 pts</text>
                        
                        <rect x="700" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="755" y="420" text-anchor="middle" font-size="10" font-weight="bold">Múltiples</text>
                        <text x="755" y="435" text-anchor="middle" font-size="9">Pagos</text>
                        <text x="755" y="450" text-anchor="middle" font-size="8">Tarjeta, PayPal</text>
                        <text x="755" y="465" text-anchor="middle" font-size="8" fill="#d63031">21 pts</text>
                        
                        <rect x="840" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="895" y="420" text-anchor="middle" font-size="10" font-weight="bold">Tracking</text>
                        <text x="895" y="435" text-anchor="middle" font-size="9">Avanzado</text>
                        <text x="895" y="450" text-anchor="middle" font-size="8">Estados detalle</text>
                        <text x="895" y="465" text-anchor="middle" font-size="8" fill="#d63031">13 pts</text>
                        
                        <rect x="960" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="1015" y="420" text-anchor="middle" font-size="10" font-weight="bold">Notific.</text>
                        <text x="1015" y="435" text-anchor="middle" font-size="9">Email/SMS</text>
                        <text x="1015" y="450" text-anchor="middle" font-size="8">Estados pedido</text>
                        <text x="1015" y="465" text-anchor="middle" font-size="8" fill="#d63031">8 pts</text>
                        
                        <rect x="1100" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="1155" y="420" text-anchor="middle" font-size="10" font-weight="bold">Chat</text>
                        <text x="1155" y="435" text-anchor="middle" font-size="9">Soporte</text>
                        <text x="1155" y="450" text-anchor="middle" font-size="8">Tiempo real</text>
                        <text x="1155" y="465" text-anchor="middle" font-size="8" fill="#d63031">21 pts</text>
                        
                        <rect x="1220" y="400" width="110" height="80" fill="#ffeaa7" stroke="#d63031" rx="3"/>
                        <text x="1275" y="420" text-anchor="middle" font-size="10" font-weight="bold">Base</text>
                        <text x="1275" y="435" text-anchor="middle" font-size="9">Conocim.</text>
                        <text x="1275" y="450" text-anchor="middle" font-size="8">Artículos ayuda</text>
                        <text x="1275" y="465" text-anchor="middle" font-size="8" fill="#d63031">5 pts</text>
                    </g>
                    
                    <!-- Release 3 - Advanced Features -->
                    <g id="release3">
                        <rect x="20" y="520" width="1360" height="160" fill="#17a2b8" fill-opacity="0.1" stroke="#17a2b8" stroke-width="2" rx="8"/>
                        <text x="30" y="540" fill="#17a2b8" font-size="14" font-weight="bold">RELEASE 3 - FUNCIONALIDADES AVANZADAS 🎨</text>
                        <text x="30" y="560" fill="#17a2b8" font-size="12">8-10 semanas | 150-220 story points</text>
                        
                        <!-- Advanced Features Stories -->
                        <rect x="60" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="115" y="600" text-anchor="middle" font-size="10" font-weight="bold">IA</text>
                        <text x="115" y="615" text-anchor="middle" font-size="9">Recomend.</text>
                        <text x="115" y="630" text-anchor="middle" font-size="8">ML productos</text>
                        <text x="115" y="645" text-anchor="middle" font-size="8" fill="#1976d2">21 pts</text>
                        
                        <rect x="180" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="235" y="600" text-anchor="middle" font-size="10" font-weight="bold">Social</text>
                        <text x="235" y="615" text-anchor="middle" font-size="9">Features</text>
                        <text x="235" y="630" text-anchor="middle" font-size="8">Compartir, likes</text>
                        <text x="235" y="645" text-anchor="middle" font-size="8" fill="#1976d2">13 pts</text>
                        
                        <rect x="320" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="375" y="600" text-anchor="middle" font-size="10" font-weight="bold">Analíticas</text>
                        <text x="375" y="615" text-anchor="middle" font-size="9">Usuario</text>
                        <text x="375" y="630" text-anchor="middle" font-size="8">Comportamiento</text>
                        <text x="375" y="645" text-anchor="middle" font-size="8" fill="#1976d2">8 pts</text>
                        
                        <rect x="440" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="495" y="600" text-anchor="middle" font-size="10" font-weight="bold">Programa</text>
                        <text x="495" y="615" text-anchor="middle" font-size="9">Lealtad</text>
                        <text x="495" y="630" text-anchor="middle" font-size="8">Puntos, desctos</text>
                        <text x="495" y="645" text-anchor="middle" font-size="8" fill="#1976d2">21 pts</text>
                        
                        <rect x="580" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="635" y="600" text-anchor="middle" font-size="10" font-weight="bold">Subscripc.</text>
                        <text x="635" y="615" text-anchor="middle" font-size="9">Productos</text>
                        <text x="635" y="630" text-anchor="middle" font-size="8">Entrega regular</text>
                        <text x="635" y="645" text-anchor="middle" font-size="8" fill="#1976d2">21 pts</text>
                        
                        <rect x="700" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="755" y="600" text-anchor="middle" font-size="10" font-weight="bold">Mobile</text>
                        <text x="755" y="615" text-anchor="middle" font-size="9">App</text>
                        <text x="755" y="630" text-anchor="middle" font-size="8">iOS/Android</text>
                        <text x="755" y="645" text-anchor="middle" font-size="8" fill="#1976d2">34 pts</text>
                        
                        <rect x="840" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="895" y="600" text-anchor="middle" font-size="10" font-weight="bold">Realidad</text>
                        <text x="895" y="615" text-anchor="middle" font-size="9">Aumentada</text>
                        <text x="895" y="630" text-anchor="middle" font-size="8">Probar productos</text>
                        <text x="895" y="645" text-anchor="middle" font-size="8" fill="#1976d2">34 pts</text>
                        
                        <rect x="960" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="1015" y="600" text-anchor="middle" font-size="10" font-weight="bold">Integr.</text>
                        <text x="1015" y="615" text-anchor="middle" font-size="9">Logística</text>
                        <text x="1015" y="630" text-anchor="middle" font-size="8">3PL avanzado</text>
                        <text x="1015" y="645" text-anchor="middle" font-size="8" fill="#1976d2">21 pts</text>
                        
                        <rect x="1100" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="1155" y="600" text-anchor="middle" font-size="10" font-weight="bold">Devoluc.</text>
                        <text x="1155" y="615" text-anchor="middle" font-size="9">Automát.</text>
                        <text x="1155" y="630" text-anchor="middle" font-size="8">Self-service</text>
                        <text x="1155" y="645" text-anchor="middle" font-size="8" fill="#1976d2">13 pts</text>
                        
                        <rect x="1220" y="580" width="110" height="80" fill="#e3f2fd" stroke="#1976d2" rx="3"/>
                        <text x="1275" y="600" text-anchor="middle" font-size="10" font-weight="bold">BI</text>
                        <text x="1275" y="615" text-anchor="middle" font-size="9">Dashboard</text>
                        <text x="1275" y="630" text-anchor="middle" font-size="8">Analytics avanz</text>
                        <text x="1275" y="645" text-anchor="middle" font-size="8" fill="#1976d2">13 pts</text>
                    </g>
                    
                    <!-- Release Labels -->
                    <g id="release-timeline">
                        <line x1="50" y1="740" x2="1350" y2="740" stroke="#666" stroke-width="2"/>
                        
                        <circle cx="200" cy="740" r="8" fill="#27ae60"/>
                        <text x="200" y="760" text-anchor="middle" font-size="12" font-weight="bold" fill="#27ae60">Q1</text>
                        <text x="200" y="775" text-anchor="middle" font-size="10" fill="#27ae60">MVP</text>
                        
                        <circle cx="650" cy="740" r="8" fill="#f39c12"/>
                        <text x="650" y="760" text-anchor="middle" font-size="12" font-weight="bold" fill="#f39c12">Q2</text>
                        <text x="650" y="775" text-anchor="middle" font-size="10" fill="#f39c12">Core</text>
                        
                        <circle cx="1100" cy="740" r="8" fill="#17a2b8"/>
                        <text x="1100" y="760" text-anchor="middle" font-size="12" font-weight="bold" fill="#17a2b8">Q3-Q4</text>
                        <text x="1100" y="775" text-anchor="middle" font-size="10" fill="#17a2b8">Advanced</text>
                    </g>
                </svg>
            </div>

            <div class="content-box success">
                <h3>📊 Métricas de Planificación</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div style="background: var(--bg-secondary); padding: 20px; border-radius: 10px; border-left: 4px solid #27ae60;">
                        <h4 style="color: #27ae60; margin-bottom: 10px;">📈 Release 1 - MVP</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li>🎯 <strong>Objetivo:</strong> Walking Skeleton</li>
                            <li>⏱️ <strong>Duración:</strong> 4-6 semanas</li>
                            <li>📊 <strong>Story Points:</strong> 76 pts</li>
                            <li>👥 <strong>Usuarios objetivo:</strong> Early adopters</li>
                            <li>💰 <strong>ROI esperado:</strong> Validación mercado</li>
                        </ul>
                    </div>
                    
                    <div style="background: var(--bg-secondary); padding: 20px; border-radius: 10px; border-left: 4px solid #f39c12;">
                        <h4 style="color: #f39c12; margin-bottom: 10px;">⭐ Release 2 - Core</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li>🎯 <strong>Objetivo:</strong> Funcionalidades clave</li>
                            <li>⏱️ <strong>Duración:</strong> 6-8 semanas</li>
                            <li>📊 <strong>Story Points:</strong> 130 pts</li>
                            <li>👥 <strong>Usuarios objetivo:</strong> Mainstream</li>
                            <li>💰 <strong>ROI esperado:</strong> +200% usuarios</li>
                        </ul>
                    </div>
                    
                    <div style="background: var(--bg-secondary); padding: 20px; border-radius: 10px; border-left: 4px solid #17a2b8;">
                        <h4 style="color: #17a2b8; margin-bottom: 10px;">🎨 Release 3 - Advanced</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li>🎯 <strong>Objetivo:</strong> Diferenciación</li>
                            <li>⏱️ <strong>Duración:</strong> 8-10 semanas</li>
                            <li>📊 <strong>Story Points:</strong> 199 pts</li>
                            <li>👥 <strong>Usuarios objetivo:</strong> Power users</li>
                            <li>💰 <strong>ROI esperado:</strong> +50% retención</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="content-box warning">
                <h3>🎯 Estrategias de Priorización</h3>
                
                <h4>🏆 Matriz de Valor vs Esfuerzo</h4>
                <div style="background: var(--bg-secondary); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <h5 style="color: #27ae60;">🚀 Alto Valor, Bajo Esfuerzo (Quick Wins)</h5>
                            <ul>
                                <li>Búsqueda básica (5 pts)</li>
                                <li>Detalles producto (3 pts)</li>
                                <li>FAQ básico (2 pts)</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="color: #f39c12;">⭐ Alto Valor, Alto Esfuerzo (Major Projects)</h5>
                            <ul>
                                <li>Checkout completo (21 pts)</li>
                                <li>Sistema reviews (21 pts)</li>
                                <li>Mobile app (34 pts)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h4>🎲 Criterios de Decisión</h4>
                <ul>
                    <li><strong>Impacto en usuario:</strong> ¿Mejora significativamente la experiencia?</li>
                    <li><strong>Viabilidad técnica:</strong> ¿Tenemos capacidad y conocimiento?</li>
                    <li><strong>Dependencias:</strong> ¿Bloquea o habilita otras funcionalidades?</li>
                    <li><strong>Riesgo:</strong> ¿Qué probabilidad de éxito/fallo tiene?</li>
                    <li><strong>Learning:</strong> ¿Nos permite validar hipótesis clave?</li>
                </ul>
            </div>

            <div class="diagram-container">
                <div class="diagram-title">🔄 Flujo de Planificación con Story Mapping</div>
                <div class="mermaid">
                    flowchart TD
                        A[📋 Definir Visión del Producto] --> B[👥 Identificar Personas]
                        B --> C[🗺️ Mapear Customer Journey]
                        C --> D[🏗️ Crear Backbone Activities]
                        D --> E[📝 Escribir User Stories]
                        E --> F[📊 Estimar Story Points]
                        F --> G[🎯 Priorizar por Valor]
                        G --> H[📦 Organizar en Releases]
                        H --> I[✅ Validar con Stakeholders]
                        I --> J[🔄 Iterar y Refinar]
                        J --> K[🚀 Planificar Sprints]
                        
                        style A fill:#e8f5e8
                        style B fill:#fff3e0
                        style C fill:#e3f2fd
                        style D fill:#f3e5f5
                        style E fill:#fff8e1
                        style F fill:#fce4ec
                        style G fill:#e1f5fe
                        style H fill:#f1f8e9
                        style I fill:#fef7e0
                        style J fill:#e8eaf6
                        style K fill:#e0f2f1
                </div>
            </div>
            
            <!-- Refinamiento de User Stories -->
            <div class="content-box warning">
                <h3>🔍 Refinamiento de User Stories para E-commerce</h3>
                <p>El refinamiento permite tomar épicas y user stories grandes o vagas y convertirlas en elementos más pequeños, claros y manejables.</p>
            </div>

            <div class="example-container">
                <h4>📝 Ejemplos de Refinamiento - E-commerce</h4>
                
                <div class="grid-container">
                    <div class="before-after">
                        <div class="before">
                            <h5>❌ Historia Original (Vaga)</h5>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero gestionar mi cuenta para tener control sobre mi perfil.
                                <div class="story-points">Story Points: ? (No estimable)</div>
                            </div>
                            <div class="issues">
                                <strong>Problemas:</strong>
                                <ul>
                                    <li>Muy vaga - "gestionar" es ambiguo</li>
                                    <li>No especifica qué aspectos</li>
                                    <li>Demasiado grande</li>
                                </ul>
                            </div>
                        </div>
                        <div class="after">
                            <h5>✅ Historias Refinadas</h5>
                            <div class="user-story">
                                <strong>Como usuario registrado</strong>, quiero actualizar mi información personal (nombre, teléfono, dirección) para mantener mis datos actualizados.
                                <div class="story-points">Story Points: 3</div>
                            </div>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero cambiar mi contraseña para mejorar la seguridad de mi cuenta.
                                <div class="story-points">Story Points: 2</div>
                            </div>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero ver mi historial de pedidos para hacer seguimiento de mis compras.
                                <div class="story-points">Story Points: 5</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="before-after">
                        <div class="before">
                            <h5>❌ Historia Original (Muy Grande)</h5>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero un sistema de búsqueda para encontrar productos.
                                <div class="story-points">Story Points: 21+ (Epic)</div>
                            </div>
                            <div class="issues">
                                <strong>Problemas:</strong>
                                <ul>
                                    <li>Demasiado amplia</li>
                                    <li>Múltiples funcionalidades</li>
                                    <li>Requiere varios sprints</li>
                                </ul>
                            </div>
                        </div>
                        <div class="after">
                            <h5>✅ Historias Refinadas por Funcionalidad</h5>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero buscar productos por nombre para encontrar artículos específicos.
                                <div class="story-points">Story Points: 5</div>
                            </div>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero filtrar productos por categoría para navegar más fácilmente.
                                <div class="story-points">Story Points: 3</div>
                            </div>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero filtrar por rango de precio para ajustarme a mi presupuesto.
                                <div class="story-points">Story Points: 3</div>
                            </div>
                            <div class="user-story">
                                <strong>Como usuario</strong>, quiero ver sugerencias de búsqueda mientras escribo para encontrar productos más rápido.
                                <div class="story-points">Story Points: 8</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Técnicas de Splitting -->
            <div class="content-box success">
                <h3>✂️ Técnicas de Splitting para E-commerce</h3>
                <p>El splitting es el arte de dividir historias grandes en pedazos más pequeños y manejables, manteniendo el valor de negocio.</p>
            </div>

            <div class="example-container">
                <h4>🎯 Técnicas de Splitting con Ejemplos</h4>

                <div class="splitting-technique">
                    <h5>1. 🎭 Split por Roles de Usuario</h5>
                    <div class="epic-example">
                        <strong>Epic:</strong> Como usuario, quiero gestionar mis productos favoritos
                        <div class="split-stories">
                            <div class="user-story">👤 <strong>Como comprador</strong>, quiero agregar productos a mis favoritos para guardarlos para después. <span class="points">3 pts</span></div>
                            <div class="user-story">👤 <strong>Como comprador</strong>, quiero ver mi lista de favoritos para revisar productos guardados. <span class="points">2 pts</span></div>
                            <div class="user-story">👤 <strong>Como comprador</strong>, quiero eliminar productos de favoritos cuando ya no me interesan. <span class="points">1 pt</span></div>
                            <div class="user-story">🏪 <strong>Como vendedor</strong>, quiero ver cuántas veces mis productos fueron agregados a favoritos para analizar el interés. <span class="points">5 pts</span></div>
                        </div>
                    </div>
                </div>

                <div class="splitting-technique">
                    <h5>2. 💾 Split por Operaciones CRUD</h5>
                    <div class="epic-example">
                        <strong>Epic:</strong> Como administrador, quiero gestionar el catálogo de productos
                        <div class="split-stories">
                            <div class="user-story">➕ <strong>Crear:</strong> Como administrador, quiero agregar nuevos productos al catálogo. <span class="points">5 pts</span></div>
                            <div class="user-story">👀 <strong>Leer:</strong> Como administrador, quiero ver la lista completa de productos. <span class="points">3 pts</span></div>
                            <div class="user-story">✏️ <strong>Actualizar:</strong> Como administrador, quiero editar información de productos existentes. <span class="points">3 pts</span></div>
                            <div class="user-story">🗑️ <strong>Eliminar:</strong> Como administrador, quiero desactivar productos que ya no se venden. <span class="points">2 pts</span></div>
                        </div>
                    </div>
                </div>

                <div class="splitting-technique">
                    <h5>3. 📱 Split por Plataformas/Canales</h5>
                    <div class="epic-example">
                        <strong>Epic:</strong> Como usuario, quiero recibir notificaciones sobre mis pedidos
                        <div class="split-stories">
                            <div class="user-story">📧 <strong>Email:</strong> Como usuario, quiero recibir confirmación por email al realizar un pedido. <span class="points">3 pts</span></div>
                            <div class="user-story">📱 <strong>SMS:</strong> Como usuario, quiero recibir SMS cuando mi pedido esté en camino. <span class="points">5 pts</span></div>
                            <div class="user-story">🔔 <strong>Push:</strong> Como usuario, quiero notificaciones push en la app móvil para actualizaciones importantes. <span class="points">8 pts</span></div>
                            <div class="user-story">📞 <strong>WhatsApp:</strong> Como usuario, quiero recibir updates por WhatsApp sobre el estado de entrega. <span class="points">8 pts</span></div>
                        </div>
                    </div>
                </div>

                <div class="splitting-technique">
                    <h5>4. 🚀 Split por Niveles de Sofisticación</h5>
                    <div class="epic-example">
                        <strong>Epic:</strong> Como usuario, quiero un sistema de recomendaciones personalizado
                        <div class="split-stories">
                            <div class="user-story">🎯 <strong>Básico:</strong> Como usuario, quiero ver productos relacionados basados en la categoría actual. <span class="points">5 pts</span></div>
                            <div class="user-story">📊 <strong>Intermedio:</strong> Como usuario, quiero recomendaciones basadas en mi historial de compras. <span class="points">13 pts</span></div>
                            <div class="user-story">🤖 <strong>Avanzado:</strong> Como usuario, quiero recomendaciones usando machine learning basadas en usuarios similares. <span class="points">21 pts</span></div>
                        </div>
                    </div>
                </div>

                <div class="splitting-technique">
                    <h5>5. 📋 Split por Flujos de Trabajo</h5>
                    <div class="epic-example">
                        <strong>Epic:</strong> Como usuario, quiero procesar devoluciones
                        <div class="split-stories">
                            <div class="user-story">📝 <strong>Solicitar:</strong> Como usuario, quiero solicitar la devolución de un producto. <span class="points">5 pts</span></div>
                            <div class="user-story">✅ <strong>Aprobar:</strong> Como atención al cliente, quiero revisar y aprobar solicitudes de devolución. <span class="points">3 pts</span></div>
                            <div class="user-story">📦 <strong>Enviar:</strong> Como usuario, quiero generar etiquetas de envío para devolver el producto. <span class="points">8 pts</span></div>
                            <div class="user-story">💰 <strong>Reembolsar:</strong> Como sistema, quiero procesar el reembolso automáticamente al recibir el producto. <span class="points">13 pts</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Estimación Detallada -->
            <div class="content-box info">
                <h3>📏 Estimación Detallada con Story Points - E-commerce</h3>
                <p>Ejemplos prácticos de estimación para épicas, user stories y tareas en un proyecto de e-commerce real.</p>
            </div>

            <div class="example-container">
                <h4>🎯 Estimación por Niveles</h4>

                <!-- Épicas -->
                <div class="estimation-level">
                    <h5>🌟 ÉPICAS (50-200+ story points)</h5>
                    <div class="epic-estimation">
                        <div class="epic-item">
                            <div class="epic-header">
                                <h6>🛒 Sistema de Carrito de Compras Completo</h6>
                                <div class="epic-points">89 story points total</div>
                            </div>
                            <div class="epic-breakdown">
                                <strong>Desglose:</strong>
                                <ul>
                                    <li>Agregar productos al carrito (5 pts)</li>
                                    <li>Modificar cantidades (3 pts)</li>
                                    <li>Eliminar productos (2 pts)</li>
                                    <li>Persistir carrito entre sesiones (8 pts)</li>
                                    <li>Calcular totales con impuestos (5 pts)</li>
                                    <li>Aplicar cupones de descuento (13 pts)</li>
                                    <li>Carrito abandonado - email recovery (21 pts)</li>
                                    <li>Carrito compartido entre dispositivos (21 pts)</li>
                                    <li>Checkout básico (11 pts)</li>
                                </ul>
                                <div class="epic-confidence">Confianza: 75% | Riesgo: Medio</div>
                            </div>
                        </div>

                        <div class="epic-item">
                            <div class="epic-header">
                                <h6>💳 Sistema de Pagos Integrado</h6>
                                <div class="epic-points">144 story points total</div>
                            </div>
                            <div class="epic-breakdown">
                                <strong>Desglose:</strong>
                                <ul>
                                    <li>Pago con tarjeta de crédito (21 pts)</li>
                                    <li>Pago con PayPal (13 pts)</li>
                                    <li>Pago con transferencia bancaria (8 pts)</li>
                                    <li>Almacenar métodos de pago (13 pts)</li>
                                    <li>Facturación automática (21 pts)</li>
                                    <li>Manejo de pagos fallidos (13 pts)</li>
                                    <li>Reembolsos automáticos (21 pts)</li>
                                    <li>Dashboard de transacciones (21 pts)</li>
                                    <li>Compliance PCI DSS (13 pts)</li>
                                </ul>
                                <div class="epic-confidence">Confianza: 60% | Riesgo: Alto</div>
                            </div>
                        </div>

                        <div class="epic-item">
                            <div class="epic-header">
                                <h6>📊 Sistema de Analytics y Reporting</h6>
                                <div class="epic-points">233 story points total</div>
                            </div>
                            <div class="epic-breakdown">
                                <strong>Desglose:</strong>
                                <ul>
                                    <li>Tracking de eventos de usuario (21 pts)</li>
                                    <li>Dashboard de ventas (34 pts)</li>
                                    <li>Reportes de productos más vendidos (13 pts)</li>
                                    <li>Analytics de comportamiento de usuario (55 pts)</li>
                                    <li>Reportes financieros (34 pts)</li>
                                    <li>Integración con Google Analytics (21 pts)</li>
                                    <li>Alertas automáticas (21 pts)</li>
                                    <li>Export de datos (21 pts)</li>
                                    <li>Predicciones con ML (13 pts)</li>
                                </ul>
                                <div class="epic-confidence">Confianza: 45% | Riesgo: Muy Alto</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- User Stories -->
                <div class="estimation-level">
                    <h5>📝 USER STORIES (1-21 story points)</h5>
                    <div class="stories-by-complexity">
                        <div class="complexity-group">
                            <h6>🟢 Simples (1-3 story points)</h6>
                            <div class="story-examples">
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero ver el precio total de mi carrito para saber cuánto voy a pagar.</div>
                                    <div class="story-meta">
                                        <span class="points">2 pts</span>
                                        <span class="reasoning">Simple cálculo y display</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero eliminar productos de mi carrito cuando cambie de opinión.</div>
                                    <div class="story-meta">
                                        <span class="points">1 pt</span>
                                        <span class="reasoning">CRUD básico, función simple</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como administrador, quiero activar/desactivar productos para controlar disponibilidad.</div>
                                    <div class="story-meta">
                                        <span class="points">3 pts</span>
                                        <span class="reasoning">Lógica de estado + validaciones</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="complexity-group">
                            <h6>🟡 Moderadas (5-8 story points)</h6>
                            <div class="story-examples">
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero buscar productos por nombre y categoría para encontrar lo que necesito.</div>
                                    <div class="story-meta">
                                        <span class="points">5 pts</span>
                                        <span class="reasoning">Lógica de búsqueda + filtros múltiples</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero recibir notificaciones por email sobre el estado de mi pedido.</div>
                                    <div class="story-meta">
                                        <span class="points">8 pts</span>
                                        <span class="reasoning">Sistema email + templates + triggers</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como vendedor, quiero subir múltiples imágenes de producto con vista previa.</div>
                                    <div class="story-meta">
                                        <span class="points">8 pts</span>
                                        <span class="reasoning">Upload files + validación + optimización</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="complexity-group">
                            <h6>🟠 Complejas (13-21 story points)</h6>
                            <div class="story-examples">
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero aplicar cupones de descuento con validaciones automáticas.</div>
                                    <div class="story-meta">
                                        <span class="points">13 pts</span>
                                        <span class="reasoning">Lógica compleja de descuentos + validaciones + edge cases</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como sistema, quiero sincronizar inventario en tiempo real entre múltiples canales.</div>
                                    <div class="story-meta">
                                        <span class="points">21 pts</span>
                                        <span class="reasoning">Integración compleja + tiempo real + manejo de conflictos</span>
                                    </div>
                                </div>
                                <div class="story-item">
                                    <div class="story-text">Como usuario, quiero recomendaciones personalizadas basadas en mi historial de compras.</div>
                                    <div class="story-meta">
                                        <span class="points">21 pts</span>
                                        <span class="reasoning">Algoritmo ML + análisis de datos + personalización</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tareas Técnicas -->
                <div class="estimation-level">
                    <h5>⚙️ TAREAS TÉCNICAS (1-13 story points)</h5>
                    <div class="technical-tasks">
                        <div class="task-group">
                            <h6>🔧 Configuración e Infraestructura</h6>
                            <div class="task-examples">
                                <div class="task-item">
                                    <div class="task-text">Configurar base de datos PostgreSQL para producción</div>
                                    <div class="task-meta">
                                        <span class="points">5 pts</span>
                                        <span class="reasoning">Setup estándar + configuraciones</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Implementar CI/CD pipeline con testing automático</div>
                                    <div class="task-meta">
                                        <span class="points">13 pts</span>
                                        <span class="reasoning">Pipeline complejo + integración múltiple</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Configurar Redis para caché de sesiones</div>
                                    <div class="task-meta">
                                        <span class="points">3 pts</span>
                                        <span class="reasoning">Configuración conocida + documentada</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="task-group">
                            <h6>🛡️ Seguridad y Performance</h6>
                            <div class="task-examples">
                                <div class="task-item">
                                    <div class="task-text">Implementar autenticación JWT con refresh tokens</div>
                                    <div class="task-meta">
                                        <span class="points">8 pts</span>
                                        <span class="reasoning">Seguridad compleja + manejo de tokens</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Optimizar queries de base de datos con índices</div>
                                    <div class="task-meta">
                                        <span class="points">5 pts</span>
                                        <span class="reasoning">Análisis + optimización específica</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Implementar rate limiting para APIs públicas</div>
                                    <div class="task-meta">
                                        <span class="points">3 pts</span>
                                        <span class="reasoning">Middleware estándar + configuración</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="task-group">
                            <h6>🧪 Testing y Calidad</h6>
                            <div class="task-examples">
                                <div class="task-item">
                                    <div class="task-text">Escribir tests unitarios para servicios de pago</div>
                                    <div class="task-meta">
                                        <span class="points">8 pts</span>
                                        <span class="reasoning">Tests complejos + mocks + edge cases</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Configurar tests de integración para APIs</div>
                                    <div class="task-meta">
                                        <span class="points">5 pts</span>
                                        <span class="reasoning">Setup testing + casos básicos</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-text">Implementar logging estructurado con ELK stack</div>
                                    <div class="task-meta">
                                        <span class="points">13 pts</span>
                                        <span class="reasoning">Configuración compleja + integración</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guía de Planning Poker para E-commerce -->
            <div class="content-box success">
                <h3>🃏 Planning Poker Session - E-commerce Stories</h3>
                <p>Ejemplo práctico de una sesión de Planning Poker estimando stories reales de e-commerce.</p>
            </div>

            <div class="example-container">
                <h4>🎯 Simulación de Planning Poker</h4>
                
                <div class="planning-session">
                    <div class="story-to-estimate">
                        <h5>📋 Story a Estimar:</h5>
                        <div class="user-story">
                            <strong>Como usuario</strong>, quiero filtrar productos por múltiples criterios (precio, marca, rating, disponibilidad) para encontrar exactamente lo que busco.
                        </div>
                    </div>

                    <div class="estimation-round">
                        <h6>🔄 Primera Ronda de Estimación:</h6>
                        <div class="team-estimates">
                            <div class="estimate-card">👩‍💻 <strong>Ana (Frontend)</strong>: 8 puntos<br><small>"UI compleja con múltiples filtros"</small></div>
                            <div class="estimate-card">👨‍💻 <strong>Carlos (Backend)</strong>: 3 puntos<br><small>"Solo queries con WHERE"</small></div>
                            <div class="estimate-card">🧪 <strong>María (QA)</strong>: 13 puntos<br><small>"Muchos casos de test"</small></div>
                            <div class="estimate-card">🎨 <strong>Luis (UX)</strong>: 5 puntos<br><small>"Interfaz moderadamente compleja"</small></div>
                        </div>

                        <div class="discussion">
                            <h6>💬 Discusión:</h6>
                            <ul>
                                <li><strong>Ana:</strong> "Necesitamos componentes complejos de filtros con estado múltiple"</li>
                                <li><strong>Carlos:</strong> "Pero ya tenemos la estructura de base de datos lista"</li>
                                <li><strong>María:</strong> "Hay que testear todas las combinaciones posibles de filtros"</li>
                                <li><strong>Luis:</strong> "La UX debe ser intuitiva pero no es súper compleja"</li>
                            </ul>
                        </div>
                    </div>

                    <div class="estimation-round">
                        <h6>🔄 Segunda Ronda (después de discusión):</h6>
                        <div class="team-estimates">
                            <div class="estimate-card">👩‍💻 <strong>Ana:</strong> 5 puntos<br><small>"Reutilizando componentes existentes"</small></div>
                            <div class="estimate-card">👨‍💻 <strong>Carlos:</strong> 5 puntos<br><small>"Incluyendo optimización de queries"</small></div>
                            <div class="estimate-card">🧪 <strong>María:</strong> 8 puntos<br><small>"Tests automatizados más eficientes"</small></div>
                            <div class="estimate-card">🎨 <strong>Luis:</strong> 5 puntos<br><small>"Diseño consistente con el sistema"</small></div>
                        </div>

                        <div class="final-estimate">
                            <h6>✅ Estimación Final Consensuada: <span class="final-points">5 Story Points</span></h6>
                            <div class="estimate-reasoning">
                                <strong>Razonamiento:</strong> Funcionalidad moderadamente compleja que requiere desarrollo en frontend y backend, pero aprovecha infraestructura existente. Testing necesario pero manejable con herramientas automatizadas.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Otro ejemplo -->
                <div class="planning-session">
                    <div class="story-to-estimate">
                        <h5>📋 Story a Estimar:</h5>
                        <div class="user-story">
                            <strong>Como administrador</strong>, quiero un dashboard en tiempo real que muestre métricas clave de ventas, inventario y usuarios para tomar decisiones informadas.
                        </div>
                    </div>

                    <div class="estimation-round">
                        <h6>🔄 Primera Ronda:</h6>
                        <div class="team-estimates">
                            <div class="estimate-card">👩‍💻 <strong>Ana:</strong> 21 puntos<br><small>"Dashboard complejo con tiempo real"</small></div>
                            <div class="estimate-card">👨‍💻 <strong>Carlos:</strong> 13 puntos<br><small>"WebSockets + agregación de datos"</small></div>
                            <div class="estimate-card">🧪 <strong>María:</strong> 21 puntos<br><small>"Testing de tiempo real es complejo"</small></div>
                            <div class="estimate-card">🎨 <strong>Luis:</strong> 8 puntos<br><small>"Dashboard estándar de admin"</small></div>
                        </div>

                        <div class="refinement-suggestion">
                            <h6>💡 Sugerencia del Scrum Master:</h6>
                            <p><strong>Esta story parece muy grande. ¿Podemos dividirla?</strong></p>
                            
                            <div class="split-proposals">
                                <div class="split-story">
                                    <strong>Story 1:</strong> Dashboard estático con métricas básicas (ventas del día, productos en stock) - <span class="points">5 pts</span>
                                </div>
                                <div class="split-story">
                                    <strong>Story 2:</strong> Actualización automática cada 30 segundos - <span class="points">8 pts</span>
                                </div>
                                <div class="split-story">
                                    <strong>Story 3:</strong> Gráficos interactivos con drill-down - <span class="points">13 pts</span>
                                </div>
                            </div>

                            <div class="team-agreement">
                                <strong>✅ Acuerdo del equipo:</strong> Dividir la story y estimar cada parte por separado. Comenzar con la versión estática para el próximo sprint.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz de evaluación -->
        <section class="quiz-container">
            <h2>🧠 Evaluación de Conocimientos - 20 Preguntas</h2>
            <p style="text-align: center; margin-bottom: 30px; color: var(--text-secondary);">
                Responde todas las preguntas para evaluar tu comprensión de User Stories y Story Mapping
            </p>
            
            <div id="quiz-questions">
                <div class="question">
                    <h4>1. ¿Cuál es el formato estándar de una User Story?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Qué, Por qué, Cómo</li>
                        <li onclick="selectOption(this, true)">B) Como [usuario], quiero [acción], para que [beneficio]</li>
                        <li onclick="selectOption(this, false)">C) Dado que, cuando, entonces</li>
                        <li onclick="selectOption(this, false)">D) Requisito, Solución, Validación</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>2. ¿Qué significa la "I" en los criterios INVEST?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, true)">A) Independent (Independiente)</li>
                        <li onclick="selectOption(this, false)">B) Iterative (Iterativo)</li>
                        <li onclick="selectOption(this, false)">C) Integrated (Integrado)</li>
                        <li onclick="selectOption(this, false)">D) Innovative (Innovador)</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>3. ¿Cuál es el objetivo principal del Story Mapping?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Documentar todos los requisitos</li>
                        <li onclick="selectOption(this, true)">B) Visualizar el journey del usuario y planificar releases</li>
                        <li onclick="selectOption(this, false)">C) Estimar el tiempo de desarrollo</li>
                        <li onclick="selectOption(this, false)">D) Asignar tareas al equipo</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>4. ¿Qué son los Story Points?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Puntos de calidad del código</li>
                        <li onclick="selectOption(this, true)">B) Unidad de medida relativa de complejidad, esfuerzo y riesgo</li>
                        <li onclick="selectOption(this, false)">C) Número de líneas de código</li>
                        <li onclick="selectOption(this, false)">D) Horas exactas de desarrollo</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>5. ¿Cuál es la secuencia más común para estimar Story Points?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) 1, 2, 3, 4, 5, 6, 7, 8</li>
                        <li onclick="selectOption(this, true)">B) 1, 2, 3, 5, 8, 13, 21</li>
                        <li onclick="selectOption(this, false)">C) 10, 20, 30, 40, 50</li>
                        <li onclick="selectOption(this, false)">D) S, M, L, XL, XXL</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>6. ¿Qué representa el "backbone" en Story Mapping?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Las stories más importantes</li>
                        <li onclick="selectOption(this, true)">B) El flujo principal de actividades del usuario</li>
                        <li onclick="selectOption(this, false)">C) La arquitectura técnica</li>
                        <li onclick="selectOption(this, false)">D) Los criterios de aceptación</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>7. ¿Cuál es un criterio de aceptación bien formado?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, true)">A) Dado que [contexto], cuando [acción], entonces [resultado]</li>
                        <li onclick="selectOption(this, false)">B) El sistema debe ser rápido</li>
                        <li onclick="selectOption(this, false)">C) Usar tecnología moderna</li>
                        <li onclick="selectOption(this, false)">D) Implementar según buenas prácticas</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>8. ¿Qué significa que una User Story sea "Testeable" (INVEST)?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Que requiere muchas pruebas unitarias</li>
                        <li onclick="selectOption(this, true)">B) Que tiene criterios claros para verificar si se completó</li>
                        <li onclick="selectOption(this, false)">C) Que es fácil de programar</li>
                        <li onclick="selectOption(this, false)">D) Que no tiene bugs</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>9. ¿Cuál es una señal de que una User Story es muy grande?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Tiene muchos criterios de aceptación</li>
                        <li onclick="selectOption(this, false)">B) Requiere más de un sprint para completarse</li>
                        <li onclick="selectOption(this, false)">C) Tiene múltiples responsabilidades</li>
                        <li onclick="selectOption(this, true)">D) Todas las anteriores</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>10. ¿Qué es Planning Poker?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Un juego para el team building</li>
                        <li onclick="selectOption(this, true)">B) Una técnica colaborativa de estimación</li>
                        <li onclick="selectOption(this, false)">C) Una herramienta de planificación</li>
                        <li onclick="selectOption(this, false)">D) Un método de priorización</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>11. ¿Cuál es una diferencia clave entre User Stories y requisitos tradicionales?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, true)">A) User Stories priorizan la conversación sobre documentación</li>
                        <li onclick="selectOption(this, false)">B) User Stories son más técnicas</li>
                        <li onclick="selectOption(this, false)">C) User Stories requieren más detalle</li>
                        <li onclick="selectOption(this, false)">D) User Stories son más rígidas</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>12. ¿Qué es una Épica en el contexto de User Stories?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Una story muy importante</li>
                        <li onclick="selectOption(this, true)">B) Un objetivo de alto nivel que requiere múltiples sprints</li>
                        <li onclick="selectOption(this, false)">C) Una story técnica</li>
                        <li onclick="selectOption(this, false)">D) Una story sin valor de negocio</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>13. ¿Cuál es el primer release típico en Story Mapping?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) El producto completo</li>
                        <li onclick="selectOption(this, true)">B) Walking Skeleton (MVP)</li>
                        <li onclick="selectOption(this, false)">C) Las funcionalidades más complejas</li>
                        <li onclick="selectOption(this, false)">D) Solo la interfaz de usuario</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>14. ¿Qué significa que una story sea "Negociable"?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Que su precio se puede negociar</li>
                        <li onclick="selectOption(this, true)">B) Que los detalles de implementación pueden discutirse</li>
                        <li onclick="selectOption(this, false)">C) Que puede cancelarse fácilmente</li>
                        <li onclick="selectOption(this, false)">D) Que puede cambiarse por completo</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>15. ¿Cuál es una técnica para dividir User Stories?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Por complejidad técnica</li>
                        <li onclick="selectOption(this, false)">B) Por tipo de usuario</li>
                        <li onclick="selectOption(this, false)">C) Por flujo de trabajo</li>
                        <li onclick="selectOption(this, true)">D) Todas las anteriores</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>16. ¿Qué es la "Definition of Done"?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Los criterios específicos de una story</li>
                        <li onclick="selectOption(this, true)">B) Criterios generales que se aplican a todas las stories</li>
                        <li onclick="selectOption(this, false)">C) La fecha límite del sprint</li>
                        <li onclick="selectOption(this, false)">D) La estimación final de la story</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>17. ¿Cuándo es apropiado usar una story de más de 13 puntos?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Cuando el equipo es muy experimentado</li>
                        <li onclick="selectOption(this, false)">B) En sprints largos</li>
                        <li onclick="selectOption(this, true)">C) Nunca, debe dividirse</li>
                        <li onclick="selectOption(this, false)">D) Solo en casos especiales</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>18. ¿Qué ventaja principal ofrece el formato "Como... quiero... para que..."?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Es más técnico</li>
                        <li onclick="selectOption(this, true)">B) Enfoca en el usuario y el valor</li>
                        <li onclick="selectOption(this, false)">C) Es más rápido de escribir</li>
                        <li onclick="selectOption(this, false)">D) Requiere menos detalles</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>19. ¿Cuál es el objetivo del refinamiento de User Stories?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Aumentar la estimación</li>
                        <li onclick="selectOption(this, true)">B) Mejorar claridad, precisión y estimabilidad</li>
                        <li onclick="selectOption(this, false)">C) Reducir el número de stories</li>
                        <li onclick="selectOption(this, false)">D) Asignar responsables</li>
                    </ul>
                </div>

                <div class="question">
                    <h4>20. ¿Quién debería participar en la creación de User Stories?</h4>
                    <ul class="options">
                        <li onclick="selectOption(this, false)">A) Solo el Product Owner</li>
                        <li onclick="selectOption(this, false)">B) Solo el equipo de desarrollo</li>
                        <li onclick="selectOption(this, false)">C) Solo los stakeholders</li>
                        <li onclick="selectOption(this, true)">D) Colaboración entre PO, equipo y stakeholders</li>
                    </ul>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-primary" onclick="submitQuiz()">📊 Evaluar Respuestas</button>
                <button class="btn btn-warning" onclick="resetQuiz()">🔄 Reiniciar Quiz</button>
            </div>

            <div id="quiz-results" class="quiz-results">
                <div id="score-circle" class="score-circle">
                    <span id="score-percentage">0%</span>
                </div>
                <h3 id="score-message">¡Excelente trabajo!</h3>
                <p id="score-details">Has respondido correctamente X de 20 preguntas.</p>
                <div id="score-feedback"></div>
            </div>
        </section>
    </div>

    <script>
        // Sistema de temas
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.textContent = '🌓';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Variable para rastrear si Mermaid ya fue inicializado
        window.mermaidInitialized = false;

        // Función para inicializar Mermaid una sola vez
        function initializeMermaid() {
            if (window.mermaidInitialized) return;

            const savedTheme = localStorage.getItem('theme');
            const mermaidTheme = savedTheme === 'dark' ? 'dark' : 'default';

            mermaid.initialize({
                startOnLoad: false,
                theme: mermaidTheme
            });

            window.mermaidInitialized = true;

            // Renderizar manualmente para asegurar que funciona en iframes
            try {
                mermaid.run();
            } catch (error) {
                console.error('Error rendering Mermaid:', error);
            }
        }

        // Cargar tema guardado
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.getElementById('theme-icon');

            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '☀️';
            }

            // Inicializar Mermaid
            // Inicializar Mermaid con un pequeño delay para iframes

            setTimeout(initializeMermaid, 100);
        });

        // Sistema de Quiz
        let selectedAnswers = {};
        let totalQuestions = 20;

        function selectOption(element, isCorrect) {
            const question = element.closest('.question');
            const questionNumber = Array.from(document.querySelectorAll('.question')).indexOf(question) + 1;
            const options = question.querySelectorAll('.options li');
            
            // Remover selección previa
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Marcar nueva selección
            element.classList.add('selected');
            
            // Guardar respuesta
            selectedAnswers[questionNumber] = {
                selected: element,
                isCorrect: isCorrect
            };
        }

        function submitQuiz() {
            if (Object.keys(selectedAnswers).length < totalQuestions) {
                alert('Por favor responde todas las preguntas antes de evaluar.');
                return;
            }

            let correctAnswers = 0;
            
            // Evaluar cada respuesta
            Object.values(selectedAnswers).forEach(answer => {
                if (answer.isCorrect) {
                    answer.selected.classList.add('correct');
                    correctAnswers++;
                } else {
                    answer.selected.classList.add('incorrect');
                }
            });

            // Mostrar respuestas correctas
            document.querySelectorAll('.question').forEach((question, index) => {
                const options = question.querySelectorAll('.options li');
                options.forEach(option => {
                    const isCorrect = option.getAttribute('onclick').includes('true');
                    if (isCorrect && !option.classList.contains('selected')) {
                        option.style.backgroundColor = '#27ae60';
                        option.style.color = 'white';
                        option.style.fontWeight = 'bold';
                    }
                });
            });

            // Mostrar resultados
            showResults(correctAnswers);
        }

        function showResults(correctAnswers) {
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            const resultsDiv = document.getElementById('quiz-results');
            const scoreCircle = document.getElementById('score-circle');
            const scorePercentage = document.getElementById('score-percentage');
            const scoreMessage = document.getElementById('score-message');
            const scoreDetails = document.getElementById('score-details');
            const scoreFeedback = document.getElementById('score-feedback');

            scorePercentage.textContent = percentage + '%';
            scoreDetails.textContent = `Has respondido correctamente ${correctAnswers} de ${totalQuestions} preguntas.`;

            // Determinar clase y mensaje según el puntaje
            scoreCircle.className = 'score-circle';
            if (percentage >= 90) {
                scoreCircle.classList.add('score-excellent');
                scoreMessage.textContent = '¡Excelente dominio de User Stories!';
                scoreFeedback.innerHTML = '<p>Tienes un entendimiento excepcional de las técnicas ágiles de requisitos. ¡Felicitaciones!</p>';
            } else if (percentage >= 75) {
                scoreCircle.classList.add('score-good');
                scoreMessage.textContent = '¡Buen conocimiento!';
                scoreFeedback.innerHTML = '<p>Tienes una comprensión sólida de User Stories y Story Mapping. Revisa los temas donde tuviste dificultades.</p>';
            } else if (percentage >= 60) {
                scoreCircle.classList.add('score-fair');
                scoreMessage.textContent = 'Conocimiento básico';
                scoreFeedback.innerHTML = '<p>Tienes conceptos básicos. Te recomendamos repasar el material y practicar más con ejemplos.</p>';
            } else {
                scoreCircle.classList.add('score-poor');
                scoreMessage.textContent = 'Necesitas reforzar';
                scoreFeedback.innerHTML = '<p>Te recomendamos revisar todo el material nuevamente y consultar recursos adicionales sobre metodologías ágiles.</p>';
            }

            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            selectedAnswers = {};
            
            // Limpiar todas las selecciones y estilos
            document.querySelectorAll('.options li').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.style.backgroundColor = '';
                option.style.color = '';
                option.style.fontWeight = '';
            });
            
            // Ocultar resultados
            document.getElementById('quiz-results').style.display = 'none';
            
            // Volver al inicio del quiz
            document.querySelector('.quiz-container h2').scrollIntoView({ behavior: 'smooth' });
        }

        // Navegación suave
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scrolling para anchors
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>