<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS - Clase 3: Desarrollo Iterativo e Incremental</title>
    <meta name="description" content="Fundamentos conceptuales del desarrollo iterativo e incremental, timeboxing, y gestión de proyectos ágiles">
    <meta name="keywords" content="análisis, sistemas, metodología, AMS, desarrollo iterativo, incremental, timeboxing, ágil">
    <meta name="author" content="Curso AMS">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            /* Colores principales */
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --info-color: #17a2b8;
            
            /* Sistema de colores para modo claro */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Gradientes */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        [data-theme="dark"] {
            /* Sistema de colores para modo oscuro */
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-card: rgba(26, 26, 26, 0.95);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --border-color: #4a5568;
            --shadow: rgba(0, 0, 0, 0.3);
            
            /* Gradientes modo oscuro */
            --gradient-primary: linear-gradient(135deg, #232526 0%, #414345 100%);
            --gradient-secondary: linear-gradient(45deg, #2c3e50, #34495e);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--gradient-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Botón de tema */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header del curso */
        .course-header {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .course-title {
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px var(--shadow);
        }

        .course-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .meta-card {
            background: var(--gradient-secondary);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .meta-card h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .progress-fill {
            height: 100%;
            background: var(--success-color);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Secciones de contenido */
        .content-section {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
            transition: transform 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .content-section:hover {
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--secondary-color);
            color: var(--text-primary);
        }

        .section-title::before {
            margin-right: 10px;
        }

        /* Objetivos de aprendizaje */
        .objectives {
            background: linear-gradient(45deg, var(--success-color), #2ecc71);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .objectives h2 {
            margin-bottom: 20px;
            text-align: center;
        }

        .objectives ul {
            list-style: none;
            display: grid;
            gap: 15px;
        }

        .objectives li {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            position: relative;
            padding-left: 45px;
        }

        .objectives li::before {
            content: '✓';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #fff;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* Cajas de información */
        .info-box {
            background: var(--bg-secondary);
            border: 2px solid var(--info-color);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
            border-left: 6px solid var(--info-color);
        }

        .synopsis-box {
            background: linear-gradient(45deg, var(--info-color), #138496);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid var(--border-color);
        }

        .warning-box {
            background: linear-gradient(45deg, var(--warning-color), #e67e22);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid var(--border-color);
        }

        /* Contenedor de diagramas */
        .diagram-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        /* Sistema de Quiz estandarizado */
        .quiz-container {
            background: linear-gradient(45deg, var(--warning-color), #e67e22);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            border: 1px solid var(--border-color);
        }

        .quiz-container h2 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .quiz-instructions {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .question {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .question h4 {
            margin-bottom: 15px;
            font-size: 1.1em;
            color: white;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(255, 255, 255, 0.4);
            border-color: white;
            transform: translateX(5px);
        }

        .option.correct {
            background: var(--success-color) !important;
            border-color: #27ae60 !important;
        }

        .option.incorrect {
            background: var(--accent-color) !important;
            border-color: #c0392b !important;
        }

        /* Botones */
        .btn {
            display: inline-block;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Resultados del quiz */
        .quiz-results {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
            display: none;
        }

        .results-chart {
            width: 200px;
            height: 200px;
            margin: 20px auto;
        }

        .score-text {
            font-size: 2em;
            font-weight: bold;
            margin: 20px 0;
        }

        /* Recursos adicionales */
        .resources {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            border: 1px solid var(--border-color);
        }

        .resources h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .resources ul {
            list-style: none;
        }

        .resources li {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .resources li:last-child {
            border-bottom: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .course-header {
                padding: 25px;
            }
            
            .course-title {
                font-size: 2em;
            }
            
            .content-section {
                padding: 25px;
            }
            
            .quiz-container {
                padding: 25px;
            }
            
            .theme-toggle {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
            }
        }

        /* Animaciones */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content-section {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Scroll suave */
        html {
            scroll-behavior: smooth;
        }

        /* Estilos específicos para contenido */
        .concept-box {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid var(--border-color);
        }

        .concept-box h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .highlight-box {
            background: linear-gradient(45deg, var(--info-color), #138496);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 1px solid var(--border-color);
        }

        .highlight-box h3 {
            margin-bottom: 15px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .benefit-card {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
        }

        .benefit-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
        }

        .timeline-item {
            background: var(--bg-secondary);
            padding: 20px;
            margin: 15px 0;
            border-radius: 15px;
            border-left: 4px solid var(--secondary-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .phase {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .toggle-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .synoptic-chart {
            background: var(--bg-secondary);
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .central-concept {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 30px;
        }

        .synoptic-branches {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .synoptic-branch {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--border-color);
        }

        .synoptic-branch h4 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        /* Accessibility improvements */
        .skip-to-main {
            position: absolute;
            left: -10000px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            border-radius: 0 0 5px 0;
            font-weight: bold;
            z-index: 10000;
        }
        
        .skip-to-main:focus {
            position: fixed;
            left: 10px;
            top: 10px;
            width: auto;
            height: auto;
            overflow: visible;
        }
        
        /* Screen reader only text */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Diagram description */
        .diagram-description {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-style: italic;
            color: var(--text-secondary);
            border-left: 4px solid var(--primary-color);
        }
        
        /* Focus indicators for keyboard navigation */
        .quiz-container .option:focus,
        .btn:focus,
        .theme-toggle:focus {
            outline: 3px solid var(--secondary-color);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Skip to main content link for screen readers -->
    <a href="#main-content" class="skip-to-main" aria-label="Saltar al contenido principal" aria-hidden="true">Saltar al contenido principal</a>
    
    <!-- Botón de cambio de tema -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema" type="button" aria-hidden="true">
        <span id="theme-icon" aria-hidden="true">🌓</span>
    </button>

    <div class="container">
        <!-- Contenido principal -->
        <main id="main-content">
        
        <!-- Header del curso -->
        <header class="course-header">
            <h1 class="course-title"><span aria-hidden="true">🔄</span> Clase 3: Desarrollo Iterativo e Incremental</h1>
            <p class="course-subtitle">Fundamentos conceptuales, timeboxing y gestión de proyectos ágiles</p>
            
            <div class="course-meta" aria-label="Información del curso">
                <div class="meta-card">
                    <h4><span aria-hidden="true">📚</span> Curso</h4>
                    <p>Análisis y Metodología de Sistemas</p>
                </div>
                <div class="meta-card">
                    <h4><span aria-hidden="true">📊</span> Progreso</h4>
                    <p>Esta es la clase número 3 de un total de 16 clases</p>
                </div>
                <div class="meta-card">
                    <h4><span aria-hidden="true">⏱️</span> Duración</h4>
                    <p>La duración estimada es de 90 minutos</p>
                </div>
                <div class="meta-card">
                    <h4><span aria-hidden="true">🎯</span> Nivel</h4>
                    <p>Intermedio</p>
                </div>
            </div>
            
            <div class="progress-bar" role="progressbar" aria-valuenow="18.75" aria-valuemin="0" aria-valuemax="100" aria-label="Progreso del curso: 18 punto 75 por ciento completado">
                <div class="progress-fill" style="width: 18.75%" aria-hidden="true"></div>
            </div>
        </header>

        <!-- Objetivos de aprendizaje -->
        <section class="objectives" aria-labelledby="objectives-heading">
            <h2 id="objectives-heading"><span aria-hidden="true">🎯</span> Objetivos de Aprendizaje</h2>
            <ul>
                <li>Comprender los principios fundamentales del desarrollo iterativo e incremental</li>
                <li>Analizar las ventajas y desafíos de este enfoque metodológico</li>
                <li>Distinguir entre desarrollo iterativo e incremental</li>
                <li>Conocer técnicas de planificación y gestión de iteraciones</li>
                <li>Evaluar métricas y control de progreso en proyectos iterativos</li>
            </ul>
        </section>
        
        <!-- Sección 1: Fundamentos Conceptuales -->
        <section class="content-section" aria-labelledby="section-1-heading">
            <h2 id="section-1-heading" class="section-title"><span aria-hidden="true">📚</span> 1. Fundamentos Conceptuales</h2>
            
            <div class="highlight-box" role="region" aria-labelledby="concept-central-heading">
                <h3 id="concept-central-heading"><span aria-hidden="true">🔑</span> Concepto Central</h3>
                <p>El desarrollo iterativo e incremental es un enfoque que organiza el trabajo en ciclos cortos y repetitivos (iteraciones), donde cada ciclo produce un incremento funcional del sistema. Este método permite la adaptación continua, la gestión temprana de riesgos y la entrega de valor constante a los stakeholders.</p>
            </div>

            <h3 id="diferenciacion-heading">1.1 Diferenciación: Iterativo vs Incremental</h3>
            
            <div class="concept-box" role="region" aria-labelledby="iterativo-heading">
                <h4 id="iterativo-heading"><span aria-hidden="true">🔄</span> Desarrollo Iterativo</h4>
                <p><strong>Definición:</strong> Se refiere a la repetición cíclica de actividades de desarrollo (análisis, diseño, implementación, pruebas) en períodos cortos de tiempo.</p>
                <p><strong>Características:</strong></p>
                <ul>
                    <li>Ciclos de retroalimentación frecuentes</li>
                    <li>Refinamiento continuo de soluciones</li>
                    <li>Adaptación basada en aprendizaje</li>
                    <li>Gestión proactiva de riesgos</li>
                </ul>
            </div>

            <div class="concept-box" role="region" aria-labelledby="incremental-heading">
                <h4 id="incremental-heading"><span aria-hidden="true">📈</span> Desarrollo Incremental</h4>
                <p><strong>Definición:</strong> Se refiere a la construcción del sistema mediante la adición sucesiva de componentes funcionales, donde cada incremento agrega valor al producto.</p>
                <p><strong>Características:</strong></p>
                <ul>
                    <li>Entrega progresiva de funcionalidad</li>
                    <li>Valor acumulativo en cada entrega</li>
                    <li>Integración continua de componentes</li>
                    <li>Validación temprana con usuarios</li>
                </ul>
            </div>

            <div class="synoptic-chart" role="img" aria-labelledby="synoptic-heading" aria-describedby="synoptic-description">
                <h4 id="synoptic-heading" class="central-concept">
                    DESARROLLO ITERATIVO E INCREMENTAL
                </h4>
                <p id="synoptic-description" class="sr-only">Diagrama sinóptico que muestra los cuatro aspectos principales del desarrollo iterativo e incremental: principios, beneficios, técnicas y métricas.</p>
                <div class="synoptic-branches">
                    <div class="synoptic-branch">
                        <h5><span aria-hidden="true">🎯</span> PRINCIPIOS</h5>
                        <ul style="text-align: left; list-style: none; padding: 0;">
                            <li><span aria-hidden="true">•</span> Ciclos cortos</li>
                            <li><span aria-hidden="true">•</span> Retroalimentación temprana</li>
                            <li><span aria-hidden="true">•</span> Adaptación continua</li>
                            <li><span aria-hidden="true">•</span> Entrega de valor</li>
                        </ul>
                    </div>
                    <div class="synoptic-branch">
                        <h5><span aria-hidden="true">📊</span> BENEFICIOS</h5>
                        <ul style="text-align: left; list-style: none; padding: 0;">
                            <li><span aria-hidden="true">•</span> Gestión de riesgos</li>
                            <li><span aria-hidden="true">•</span> Flexibilidad</li>
                            <li><span aria-hidden="true">•</span> Calidad mejorada</li>
                            <li><span aria-hidden="true">•</span> Satisfacción del cliente</li>
                        </ul>
                    </div>
                    <div class="synoptic-branch">
                        <h5><span aria-hidden="true">🛠️</span> TÉCNICAS</h5>
                        <ul style="text-align: left; list-style: none; padding: 0;">
                            <li><span aria-hidden="true">•</span> <abbr title="Desarrollo en cajas de tiempo">Timeboxing</abbr></li>
                            <li><span aria-hidden="true">•</span> Priorización</li>
                            <li><span aria-hidden="true">•</span> Retrospectivas</li>
                            <li><span aria-hidden="true">•</span> Integración continua</li>
                        </ul>
                    </div>
                    <div class="synoptic-branch">
                        <h5><span aria-hidden="true">📈</span> MÉTRICAS</h5>
                        <ul style="text-align: left; list-style: none; padding: 0;">
                            <li><span aria-hidden="true">•</span> <abbr title="Velocidad del equipo">Velocity</abbr></li>
                            <li><span aria-hidden="true">•</span> <abbr title="Gráfico de trabajo restante">Burndown</abbr></li>
                            <li><span aria-hidden="true">•</span> <abbr title="Gráfico de trabajo completado">Burnup</abbr></li>
                            <li><span aria-hidden="true">•</span> <abbr title="Flujo acumulativo">Cumulative flow</abbr></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        </section>
        
        <!-- Sección 2: Principios y Prácticas -->
        <section class="content-section" aria-labelledby="section-2-heading">
            <h2 id="section-2-heading" class="section-title"><span aria-hidden="true">⚙️</span> 2. Principios y Prácticas Fundamentales</h2>
            
            <h3 id="timeboxing-heading">2.1 Timeboxing y Planificación por Iteraciones</h3>
            <p>El <strong>timeboxing</strong> es una técnica fundamental que establece períodos fijos de tiempo para las iteraciones. Típicamente, estas iteraciones duran de 1 a 4 semanas. Esta práctica genera múltiples beneficios organizacionales y psicológicos:</p>
            
            <div class="benefits-grid" role="group" aria-labelledby="timeboxing-heading">
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">⏰</span> Ley de Parkinson</h4>
                    <p>Las fechas fijas evitan que el trabajo se expanda innecesariamente. Frederick Brooks señala que: <em>"el trabajo se expande para llenar el tiempo disponible"</em>. Por lo tanto, los plazos cortos fuerzan la eficiencia.</p>
                </div>
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">🎯</span> Foco y Priorización</h4>
                    <p>Las iteraciones cortas obligan a tomar decisiones sobre qué es realmente prioritario. Esto permite identificar el mayor valor de negocio o técnico para el período establecido.</p>
                </div>
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">😊</span> Satisfacción del Equipo</h4>
                    <p>Los ciclos cortos proporcionan sensaciones regulares de finalización y logro. Esto mantiene la motivación alta y genera confianza en el equipo.</p>
                </div>
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">🤝</span> Confianza de Stakeholders</h4>
                    <p>Las entregas frecuentes y predecibles construyen confianza con el negocio y otras partes interesadas. Esto demuestra la capacidad de ejecución del equipo.</p>
                </div>
            </div>

            <h3 id="priorizacion-valor-heading">2.2 Priorización Basada en Valor de Negocio</h3>
            <p>Cada iteración debe maximizar el valor entregado. Los criterios típicos incluyen:</p>
            
            <div class="concept-box">
                <h4 id="criterios-priorizacion-heading">Criterios de Priorización:</h4>
                <ul>
                    <li><strong>Valor de negocio:</strong> Retorno de inversión esperado, impacto en usuarios</li>
                    <li><strong>Riesgo técnico:</strong> Complejidad, dependencias, incertidumbre</li>
                    <li><strong>Esfuerzo requerido:</strong> Estimación de trabajo necesario</li>
                    <li><strong>Dependencias:</strong> Relaciones con otros componentes o equipos</li>
                    <li><strong>Feedback del usuario:</strong> Necesidades expresadas por stakeholders</li>
                </ul>
            </div>

            <h3 id="entrega-continua-heading">2.3 Entrega Continua de Valor</h3>
            <p>Cada iteración debe producir algo tangible y potencialmente entregable. Esto requiere:</p>
            
            <div class="timeline-item" onclick="toggleDetails('iteration-planning')" role="button" tabindex="0" aria-expanded="false" aria-controls="iteration-planning">
                <div class="phase"><span aria-hidden="true">📋</span> Planificación de Iteración</div>
                <p>Selección de elementos del backlog, estimación y definición de objetivos específicos</p>
                <div id="iteration-planning" class="toggle-content">
                    <p><strong>Actividades clave:</strong></p>
                    <ul>
                        <li>Revisión del backlog priorizado</li>
                        <li>Estimación de esfuerzo para cada elemento</li>
                        <li>Definición de objetivos de la iteración</li>
                        <li>Asignación de tareas al equipo</li>
                    </ul>
                </div>
            </div>
            
            <div class="timeline-item" onclick="toggleDetails('daily-execution')" role="button" tabindex="0" aria-expanded="false" aria-controls="daily-execution">
                <div class="phase"><span aria-hidden="true">🔨</span> Ejecución Diaria</div>
                <p>Desarrollo, pruebas, integración y sincronización del equipo</p>
                <div id="daily-execution" class="toggle-content">
                    <p><strong>Prácticas diarias:</strong></p>
                    <ul>
                        <li>Sincronización del equipo mediante reuniones diarias de seguimiento</li>
                        <li>Desarrollo y pruebas unitarias</li>
                        <li>Integración continua</li>
                        <li>Resolución de impedimentos</li>
                    </ul>
                </div>
            </div>
            
            <div class="timeline-item" onclick="toggleDetails('iteration-review')" role="button" tabindex="0" aria-expanded="false" aria-controls="iteration-review">
                <div class="phase"><span aria-hidden="true">👥</span> Revisión y Retrospectiva</div>
                <p>Demostración del incremento y reflexión sobre el proceso</p>
                <div id="iteration-review" class="toggle-content">
                    <p><strong>Objetivos de revisión:</strong></p>
                    <ul>
                        <li>Demostración del incremento funcional</li>
                        <li>Recolección de retroalimentación de las partes interesadas</li>
                        <li>Análisis de velocidad y métricas</li>
                        <li>Identificación de mejoras del proceso</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Sección 3: Comparación Iterativo vs Cascada -->
        <section class="content-section" aria-labelledby="section-3-heading">
            <h2 id="section-3-heading" class="section-title"><span aria-hidden="true">🆚</span> 3. Comparación: Iterativo vs Cascada</h2>
            
            <p>El contraste entre el desarrollo iterativo e incremental y el modelo en cascada ilustra diferencias fundamentales en filosofía y práctica:</p>
            
            <table class="comparison-table" role="table" aria-labelledby="comparison-caption">
                <caption id="comparison-caption" class="sr-only">Tabla comparativa entre el Modelo en Cascada y el Desarrollo Iterativo/Incremental, mostrando las diferencias en estructura, requisitos, retroalimentación, gestión de riesgos, flexibilidad, entrega de valor y documentación.</caption>
                <thead>
                    <tr>
                        <th scope="col">Aspecto</th>
                        <th scope="col">Modelo en Cascada</th>
                        <th scope="col">Desarrollo Iterativo/Incremental</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Estructura</th>
                        <td>Fases secuenciales lineales</td>
                        <td>Ciclos cortos repetitivos</td>
                    </tr>
                    <tr>
                        <th scope="row">Requisitos</th>
                        <td>Definición completa inicial</td>
                        <td>Evolución y refinamiento continuo</td>
                    </tr>
                    <tr>
                        <th scope="row">Retroalimentación</th>
                        <td>Al final del proyecto</td>
                        <td>En cada iteración</td>
                    </tr>
                    <tr>
                        <th scope="row">Gestión de Riesgos</th>
                        <td>Tardía, en fases finales</td>
                        <td>Temprana y continua</td>
                    </tr>
                    <tr>
                        <th scope="row">Flexibilidad</th>
                        <td>Baja, cambios costosos</td>
                        <td>Alta, adaptación incorporada</td>
                    </tr>
                    <tr>
                        <th scope="row">Entrega de Valor</th>
                        <td>Una sola entrega final</td>
                        <td>Entregas frecuentes incrementales</td>
                    </tr>
                    <tr>
                        <th scope="row">Documentación</th>
                        <td>Exhaustiva antes de implementar</td>
                        <td>Evolutiva, enfoque en software funcionando</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box" role="region" aria-labelledby="brooks-quote-heading">
                <h3 id="brooks-quote-heading"><span aria-hidden="true">💡</span> Reflexión de Frederick Brooks</h3>
                <p><em>"Las estructuras conceptuales que construimos hoy son demasiado complicadas para especificarse con precisión por adelantado. También son demasiado complejas para construirse sin errores. Por tanto, debemos utilizar un enfoque radicalmente diferente: desarrollo iterativo e incremental."</em></p>
                <p><strong>Fuente:</strong> "No Silver Bullet", The Mythical Man-Month</p>
            </div>
        </section>

        <!-- Sección 4: Métricas y Herramientas -->
        <section class="content-section" aria-labelledby="section-4-heading">
            <h2 id="section-4-heading" class="section-title"><span aria-hidden="true">📊</span> 4. Métricas y Herramientas de Control</h2>
            
            <div class="diagram-container" role="img" aria-labelledby="metricas-diagram-title" aria-describedby="metricas-diagram-desc">
                <h4 id="metricas-diagram-title"><span aria-hidden="true">📈</span> Métricas Clave del Desarrollo Iterativo</h4>
                
                <!-- Descripción del gráfico -->
                <div id="metricas-diagram-desc" class="diagram-description">
                    Diagrama jerárquico que muestra las métricas clave del desarrollo iterativo. El nodo central se llama "Métricas de Desarrollo Iterativo" y se conecta a cuatro métricas principales. 
                    Primera métrica: <abbr title="Velocidad del equipo">Velocity</abbr>, que incluye puntos de historia por iteración y capacidad del equipo.
                    Segunda métrica: gráfico <abbr title="Trabajo restante">Burndown</abbr>, que comprende trabajo restante versus tiempo y tendencia de progreso.
                    Tercera métrica: gráfico <abbr title="Trabajo completado">Burnup</abbr>, que abarca trabajo completado acumulado y alcance total del proyecto.
                    Cuarta métrica: flujo acumulativo, que incluye estados de elementos de trabajo y identificación de cuellos de botella.
                    Cada métrica principal está codificada por colores para facilitar su identificación visual.
                </div>
                
                <div class="mermaid" aria-hidden="true">
                    graph LR
                        A[Métricas de Desarrollo Iterativo] --> B[Velocity]
                        A --> C[Burndown Chart]
                        A --> D[Burnup Chart]
                        A --> E[Cumulative Flow]
                        
                        B --> B1[Story Points por Iteración]
                        B --> B2[Capacidad del Equipo]
                        
                        C --> C1[Trabajo Restante vs Tiempo]
                        C --> C2[Tendencia de Progreso]
                        
                        D --> D1[Trabajo Completado Acumulado]
                        D --> D2[Alcance Total del Proyecto]
                        
                        E --> E1[Estados de Work Items]
                        E --> E2[Cuellos de Botella]
                        
                        style A fill:#e8f5e8
                        style B fill:#e8f0ff
                        style C fill:#fff0e8
                        style D fill:#f0e8ff
                        style E fill:#ffe8e8
                </div>
            </div>

            <div class="benefits-grid">
                <div class="benefit-card">
                    <h4><span aria-hidden="true">📏</span> <abbr title="Velocidad del equipo">Velocity</abbr></h4>
                    <p>Mide la cantidad de trabajo (story points) completado por el equipo en una iteración. Es fundamental para planificación y forecasting de entregas futuras.</p>
                </div>
                <div class="benefit-card">
                    <h4><span aria-hidden="true">📉</span> Gráfico <abbr title="Trabajo restante">Burndown</abbr></h4>
                    <p>Muestra gráficamente cómo se reduce el trabajo restante a lo largo del tiempo. Ayuda a identificar si el equipo va en camino de cumplir los objetivos.</p>
                </div>
                <div class="benefit-card">
                    <h4><span aria-hidden="true">📈</span> Gráfico <abbr title="Trabajo completado">Burnup</abbr></h4>
                    <p>Visualiza el trabajo completado acumulativo y el alcance total del proyecto. Útil para detectar cambios de alcance y progreso real.</p>
                </div>
                <div class="benefit-card">
                    <h4><span aria-hidden="true">🌊</span> Flujo Acumulativo</h4>
                    <p>Representa el flujo de work items a través de diferentes estados. Identifica cuellos de botella y problemas en el proceso de desarrollo.</p>
                </div>
            </div>

            <h3 id="roadmap-heading">4.1 Product Roadmap y Release Planning</h3>
            
            <div class="concept-box" role="region" aria-labelledby="product-roadmap-definition-heading">
                <h4 id="product-roadmap-definition-heading"><span aria-hidden="true">🗺️</span> ¿Qué es un Product Roadmap?</h4>
                <p><strong>Definición:</strong> Un Product Roadmap es un documento estratégico visual que comunica la dirección y el progreso del desarrollo de un producto a lo largo del tiempo. Actúa como un plan de alto nivel que alinea a los equipos de desarrollo, stakeholders y ejecutivos sobre las prioridades del producto.</p>
                <p><strong>Propósito:</strong> Proporcionar una visión compartida de hacia dónde se dirige el producto, qué características se desarrollarán y cuándo, basándose en los objetivos de negocio y las necesidades de los usuarios.</p>
            </div>

            <div class="concept-box" role="region" aria-labelledby="product-roadmap-heading">
                <h4 id="product-roadmap-heading">Componentes del Product Roadmap:</h4>
                <ul role="list" aria-label="Lista de componentes del Product Roadmap">
                    <li role="listitem"><strong>Visión del producto:</strong> Dirección estratégica y objetivos principales</li>
                    <li role="listitem"><strong>Temas épicos:</strong> Agrupaciones de funcionalidad mayor</li>
                    <li role="listitem"><strong>Timeline aproximado:</strong> Estimaciones de alto nivel por trimestres</li>
                    <li role="listitem"><strong>Dependencias clave:</strong> Integraciones, recursos, hitos externos</li>
                </ul>
            </div>

            <div class="concept-box" role="region" aria-labelledby="release-planning-definition-heading">
                <h4 id="release-planning-definition-heading"><span aria-hidden="true">🚀</span> ¿Qué es Release Planning?</h4>
                <p><strong>Definición:</strong> Release Planning es el proceso de planificación que determina qué características y funcionalidades se incluirán en una versión específica del producto y cuándo estará lista para ser entregada a los usuarios finales.</p>
                <p><strong>Propósito:</strong> Traducir la visión estratégica del roadmap en planes de trabajo ejecutables, estableciendo fechas de entrega realistas y coordinando los recursos necesarios para cada release.</p>
            </div>

            <div class="concept-box" role="region" aria-labelledby="release-planning-heading">
                <h4 id="release-planning-heading">Elementos del Release Planning:</h4>
                <ul role="list" aria-label="Lista de elementos del Release Planning">
                    <li role="listitem"><strong>Incrementos entregables:</strong> Versiones específicas con valor de negocio</li>
                    <li role="listitem"><strong>Criterios de aceptación:</strong> Definición de "terminado" para cada release</li>
                    <li role="listitem"><strong>Estimación de capacidad:</strong> Velocity histórica y capacidad del equipo</li>
                    <li role="listitem"><strong>Gestión de riesgo:</strong> Identificación y mitigación de riesgos por release</li>
                </ul>
            </div>

        </section>

        <!-- Sección 5: Técnicas Avanzadas -->
        <section class="content-section" aria-labelledby="section-5-heading">
            <h2 id="section-5-heading" class="section-title"><span aria-hidden="true">⏱️</span> 5. Técnicas Avanzadas de Timeboxing y Gestión Iterativa</h2>
            
            <div class="highlight-box">
                <h3><span aria-hidden="true">🎯</span> Timeboxing: Más Allá de los Fundamentos</h3>
                <p>El timeboxing no es simplemente establecer fechas límite. Es una disciplina que requiere técnicas específicas para maximizar la productividad y mantener el enfoque del equipo en los objetivos más importantes.</p>
            </div>

            <h3 id="tecnicas-timeboxing-heading">5.1 Técnicas de Timeboxing Efectivo</h3>
            
            <div class="benefits-grid">
                <div class="benefit-card">
                    <h4><span aria-hidden="true">⚡</span> Técnica Pomodoro Adaptada</h4>
                    <p><strong>Aplicación:</strong> Sesiones de trabajo de 25-50 minutos con descansos estructurados.</p>
                    <p><strong>Beneficio:</strong> Mantiene la concentración y reduce el burnout durante sesiones intensivas de desarrollo.</p>
                    <ul style="text-align: left; margin-top: 10px; margin-left: 10px; font-size: 0.9em;">
                        <li>25 minutos: Tareas simples</li>
                        <li>50 minutos: Tareas complejas</li>
                        <li>90 minutos: Sesiones de arquitectura</li>
                    </ul>
                </div>
                
                <div class="benefit-card">
                    <h4><span aria-hidden="true">📊</span> Buffer Time Planning</h4>
                    <p><strong>Regla 80/20:</strong> Asignar 80% del tiempo a tareas planificadas, 20% para imprevistos.</p>
                    <p><strong>Implementación:</strong> En una iteración de 10 días, dedicar 8 días a tareas específicas y 2 días como buffer.</p>
                    <ul style="text-align: left; margin-top: 10px; margin-left: 10px; font-size: 0.9em;">
                        <li>Reduce estrés del equipo</li>
                        <li>Permite manejar impedimentos</li>
                        <li>Mejora predictibilidad</li>
                    </ul>
                </div>
                
                <div class="benefit-card">
                    <h4><span aria-hidden="true">🔄</span> Time Slicing</h4>
                    <p><strong>Concepto:</strong> Dividir tareas grandes en fragmentos de tiempo manejables.</p>
                    <p><strong>Práctica:</strong> Una tarea de 3 días se divide en 6 sesiones de medio día con objetivos específicos.</p>
                    <ul style="text-align: left; margin-top: 10px; margin-left: 10px; font-size: 0.9em;">
                        <li>Mayor visibilidad de progreso</li>
                        <li><abbr title="Retroalimentación">Feedback</abbr> más frecuente</li>
                        <li>Detección temprana de problemas</li>
                    </ul>
                </div>
                
                <div class="benefit-card">
                    <h4><span aria-hidden="true">⏰</span> Deadline Pressure Management</h4>
                    <p><strong>Técnica:</strong> Crear "mini-deadlines" internos antes del deadline real.</p>
                    <p><strong>Ejemplo:</strong> Si el deadline es viernes, establecer deadline interno el miércoles.</p>
                    <ul style="text-align: left; margin-top: 10px; margin-left: 10px; font-size: 0.9em;">
                        <li>Tiempo para ajustes de calidad</li>
                        <li>Reduce ansiedad del equipo</li>
                        <li>Permite validación extra</li>
                    </ul>
                </div>
            </div>

            <h3 id="priorizacion-avanzada-heading">5.2 Priorización Avanzada: Técnicas MoSCoW y Value-Based</h3>
            
            <div class="concept-box">
                <h4><span aria-hidden="true">🎯</span> Técnica <abbr title="Must have, Should have, Could have, Won't have">MoSCoW</abbr></h4>
                <p><strong>Definición:</strong> MoSCoW es una técnica de priorización que categoriza los requerimientos del proyecto en cuatro grupos según su criticidad e importancia. Fue desarrollada por Dai Clegg en Oracle y permite al equipo y stakeholders tener una comprensión compartida sobre qué es esencial para el éxito del proyecto.</p>
                
                <p><strong>Proceso de Evaluación:</strong> El proceso de priorización con MoSCoW involucra sesiones colaborativas donde Product Owners, stakeholders y el equipo de desarrollo analizan cada funcionalidad y la clasifican según el impacto en el valor del producto y la viabilidad técnica dentro del timeframe establecido.</p>
                
                <div style="margin-top: 15px; padding: 15px; background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107;">
                    <h5><strong>Las Cuatro Categorías MoSCoW:</strong></h5>
                    <p><strong>Must have (Debe tener):</strong> Funcionalidades críticas sin las cuales el incremento no tiene valor comercial o técnico. Si no se incluyen, el proyecto se considera un fracaso.</p>
                    <p><strong>Should have (Debería tener):</strong> Funcionalidades importantes que agregan valor significativo, pero el incremento puede funcionar sin ellas. Se incluyen si el tiempo y recursos lo permiten.</p>
                    <p><strong>Could have (Podría tener):</strong> Funcionalidades deseables que mejorarían la experiencia del usuario, pero que pueden postergarse sin impacto crítico en el negocio.</p>
                    <p><strong>Won't have (No tendrá - esta vez):</strong> Funcionalidades explícitamente excluidas de esta iteración, pero que pueden considerarse para futuras versiones.</p>
                </div>
                
                <div style="margin-top: 15px; padding: 15px; background: rgba(52, 152, 219, 0.1); border-radius: 8px;">
                    <strong>Ejemplo práctico en una iteración de e-commerce:</strong>
                    <ul style="margin-top: 10px;">
                        <li><strong>Must:</strong> Login de usuario, agregar productos al carrito</li>
                        <li><strong>Should:</strong> Filtros de búsqueda avanzada</li>
                        <li><strong>Could:</strong> Recomendaciones personalizadas</li>
                        <li><strong>Won't:</strong> Integración con redes sociales</li>
                    </ul>
                </div>
            </div>

            <div class="concept-box">
                <h4><span aria-hidden="true">💰</span> Value-Based Prioritization</h4>
                <p><strong>Definición:</strong> La Priorización Basada en Valor es un enfoque sistemático que evalúa y ordena las funcionalidades del producto según su contribución al valor total, considerando tanto beneficios como costos asociados. Este método permite tomar decisiones objetivas sobre qué desarrollar primero.</p>
                
                <p><strong>Proceso de Evaluación:</strong> El equipo asigna puntuaciones numéricas (típicamente escala 1-10) a cuatro dimensiones clave para cada funcionalidad. Luego aplica la fórmula de valor para obtener un score objetivo que facilita la comparación y ranking de prioridades.</p>
                
                <div style="margin-top: 15px; padding: 15px; background: rgba(40, 167, 69, 0.1); border-left: 4px solid #28a745;">
                    <h5><strong>Dimensiones de Evaluación:</strong></h5>
                    <ul>
                        <li><strong>Beneficio del Cliente:</strong> Impacto directo en la satisfacción, usabilidad y valor percibido por el usuario final</li>
                        <li><strong>Beneficio del Negocio:</strong> Contribución a ingresos, reducción de costos, ventaja competitiva o posicionamiento estratégico</li>
                        <li><strong>Costo:</strong> Esfuerzo de desarrollo, recursos necesarios, complejidad técnica y tiempo requerido</li>
                        <li><strong>Riesgo:</strong> Incertidumbre técnica, dependencias externas, posibilidad de fallas o impacto en otros sistemas</li>
                    </ul>
                </div>
                
                <p><strong>Fórmula de Valor:</strong> Valor = (Beneficio del Cliente + Beneficio del Negocio) / (Costo + Riesgo)</p>
                <p><em>Un score más alto indica mayor prioridad para desarrollo.</em></p>
                
                <table class="comparison-table" style="margin-top: 15px;">
                    <thead>
                        <tr>
                            <th>Funcionalidad</th>
                            <th>Beneficio Cliente (1-10)</th>
                            <th>Beneficio Negocio (1-10)</th>
                            <th>Costo (1-10)</th>
                            <th>Riesgo (1-10)</th>
                            <th>Score</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sistema de pagos</td>
                            <td>10</td>
                            <td>9</td>
                            <td>8</td>
                            <td>6</td>
                            <td>1.36</td>
                        </tr>
                        <tr>
                            <td>Chat en vivo</td>
                            <td>7</td>
                            <td>6</td>
                            <td>5</td>
                            <td>3</td>
                            <td>1.63</td>
                        </tr>
                        <tr>
                            <td>Reportes avanzados</td>
                            <td>4</td>
                            <td>8</td>
                            <td>9</td>
                            <td>4</td>
                            <td>0.92</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 id="estimacion-heading">5.3 Técnicas de Estimación para Timeboxing</h3>
            
            <div class="timeline-item" onclick="toggleDetails('planning-poker')">
                <div class="phase"><span aria-hidden="true">🃏</span> Planning Poker</div>
                <p>Técnica colaborativa de estimación usando secuencia de Fibonacci</p>
                <div id="planning-poker" class="toggle-content">
                    <p><strong>Proceso paso a paso:</strong></p>
                    <ol>
                        <li><strong>Presentación:</strong> Product Owner presenta la user story</li>
                        <li><strong>Discusión:</strong> Equipo hace preguntas y aclara dudas</li>
                        <li><strong>Estimación privada:</strong> Cada miembro selecciona una carta</li>
                        <li><strong>Revelación simultánea:</strong> Todos muestran cartas al mismo tiempo</li>
                        <li><strong>Discusión de diferencias:</strong> Estimaciones muy diferentes se discuten</li>
                        <li><strong>Re-estimación:</strong> Se repite hasta conseguir consenso</li>
                    </ol>
                    <p><strong>Valores de cartas:</strong> 0, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ∞, ?</p>
                </div>
            </div>
            
            <div class="timeline-item" onclick="toggleDetails('three-point')">
                <div class="phase"><span aria-hidden="true">📊</span> Estimación de Tres Puntos</div>
                <p>Técnica que considera escenarios optimista, pesimista y más probable</p>
                <div id="three-point" class="toggle-content">
                    <p><strong>Fórmula <abbr title="Evaluación y revisión de programas">PERT</abbr>:</strong> Estimación igual a optimista más cuatro veces probable más pesimista, dividido entre seis</p>
                    <p><strong>Ejemplo práctico:</strong></p>
                    <ul>
                        <li><strong>Optimista:</strong> 2 días (todo sale perfecto)</li>
                        <li><strong>Probable:</strong> 5 días (desarrollo normal)</li>
                        <li><strong>Pesimista:</strong> 10 días (muchos problemas)</li>
                        <li><strong>Estimación <abbr title="Evaluación y revisión de programas">PERT</abbr>:</strong> dos más cuatro por cinco más diez, dividido entre seis, igual a cinco punto tres días</li>
                    </ul>
                    <p><strong>Desviación estándar:</strong> (Pesimista - Optimista) / 6 = 1.33 días</p>
                </div>
            </div>
            
            <div class="timeline-item" onclick="toggleDetails('affinity-estimation')">
                <div class="phase"><span aria-hidden="true">🎯</span> Affinity Estimation</div>
                <p>Estimación rápida por agrupación de historias similares</p>
                <div id="affinity-estimation" class="toggle-content">
                    <p><strong>Proceso:</strong></p>
                    <ol>
                        <li><strong>Preparación:</strong> Escribir user stories en post-its</li>
                        <li><strong>Agrupación inicial:</strong> Colocar historias similares juntas</li>
                        <li><strong>Creación de categorías:</strong> Definir tamaños extra pequeño, pequeño, mediano, grande y extra grande</li>
                        <li><strong>Distribución:</strong> Mover historias a buckets apropiados</li>
                        <li><strong>Calibración:</strong> Asignar story points a cada bucket</li>
                    </ol>
                    <p><strong>Ventajas:</strong> Muy rápido para backlogs grandes, estimación relativa natural</p>
                </div>
            </div>

            <h3 id="metricas-temporales-heading">5.4 Métricas Avanzadas de Control Temporal</h3>
            
            <div class="diagram-container" role="img" aria-labelledby="temporales-diagram-title" aria-describedby="temporales-diagram-desc">
                <h4 id="temporales-diagram-title"><span aria-hidden="true">📈</span> Dashboard de Métricas Temporales</h4>
                
                <!-- Descripción alternativa para lectores de pantalla -->
                <div id="temporales-diagram-desc" class="sr-only">
                    Diagrama de dashboard que organiza las métricas de control temporal en tres categorías principales. 
                    Desde el nodo central "Métricas de Control Temporal" se ramifican:
                    1. Métricas de Entrada: incluye Lead Time (tiempo total de proceso), Cycle Time (tiempo activo de trabajo), y Throughput (capacidad de procesamiento);
                    Segunda categoría, métricas de proceso: comprende trabajo en curso o <abbr title="Work In Progress">WIP</abbr>, tasa de elementos bloqueados, y tasa de retrabajo.
                    3. Métricas de Salida: abarca Delivery Frequency (frecuencia de entrega), Change Failure Rate (tasa de fallas en cambios), y Mean Time to Recovery (tiempo promedio de recuperación).
                    Cada categoría está representada con colores distintivos para facilitar su comprensión visual.
                </div>
                
                <div class="mermaid" aria-hidden="true">
                    graph LR
                        A[Métricas de Control Temporal] --> B[Métricas de Entrada]
                        A --> C[Métricas de Proceso]
                        A --> D[Métricas de Salida]
                        
                        B --> B1[Lead Time]
                        B --> B2[Cycle Time]
                        B --> B3[Throughput]
                        
                        C --> C1[Work In Progress - WIP]
                        C --> C2[Blocked Items Rate]
                        C --> C3[Rework Rate]
                        
                        D --> D1[Delivery Frequency]
                        D --> D2[Change Failure Rate]
                        D --> D3[Mean Time to Recovery]
                        
                        style A fill:#e8f5e8
                        style B fill:#e8f0ff
                        style C fill:#fff0e8
                        style D fill:#f0e8ff
                </div>
            </div>

            <div class="benefits-grid" role="group" aria-labelledby="metricas-temporales-heading">
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">⏱️</span> Lead Time vs Cycle Time</h4>
                    <p><strong>Lead Time:</strong> Tiempo total desde solicitud hasta entrega</p>
                    <p><strong>Cycle Time:</strong> Tiempo de trabajo activo en la tarea</p>
                    <p><strong>Optimización:</strong> Reducir Lead Time mejorando handoffs y eliminando wait times.</p>
                </div>
                
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">🚦</span> Control <abbr title="Work In Progress - Trabajo en curso">WIP</abbr></h4>
                    <p><strong>Ley de Little:</strong> el tiempo de entrega es igual al trabajo en curso dividido por la productividad</p>
                    <p><strong>Práctica:</strong> Limitar elementos en progreso para mejorar flow y reducir context switching.</p>
                    <p><strong>Regla:</strong> el trabajo en curso óptimo es igual al número de desarrolladores multiplicado por uno punto cinco</p>
                </div>
                
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">📊</span> Throughput y Predictibilidad</h4>
                    <p><strong>Throughput:</strong> Número de items completados por unidad de tiempo</p>
                    <p><strong>Estabilidad:</strong> Throughput estable = mayor predictibilidad</p>
                    <p><strong>Meta:</strong> Optimizar para throughput sostenible, no máximo.</p>
                </div>
                
                <div class="benefit-card" role="article">
                    <h4><span aria-hidden="true">🔧</span> Métricas de Calidad Temporal</h4>
                    <p><strong>Rework Rate:</strong> % de trabajo que debe rehacerse</p>
                    <p><strong>Defect Escape Rate:</strong> Bugs que llegan a producción</p>
                    <p><strong>Technical Debt Ratio:</strong> Tiempo dedicado a deuda técnica vs nuevas funcionalidades</p>
                </div>
            </div>

            <h3 id="retrospectivas-heading">5.5 Técnicas de Retrospectiva y Mejora Continua</h3>
            
            <div class="concept-box">
                <h4 id="tecnicas-retrospectiva-heading"><span aria-hidden="true">🔄</span> Técnicas de Retrospectiva Avanzadas</h4>
                
                <div style="margin-top: 15px;">
                    <h5 id="starfish-heading">1. Técnica Starfish (Estrella de Mar)</h5>
                    <ul>
                        <li><strong>Keep doing:</strong> Prácticas que funcionan bien</li>
                        <li><strong>Less of:</strong> Prácticas que reducir</li>
                        <li><strong>More of:</strong> Prácticas que ampliar</li>
                        <li><strong>Stop doing:</strong> Prácticas que eliminar</li>
                        <li><strong>Start doing:</strong> Nuevas prácticas que probar</li>
                    </ul>
                </div>
                
                <div style="margin-top: 15px;">
                    <h5 id="timeline-heading">2. Timeline Retrospective</h5>
                    <p>Crear línea temporal de la iteración marcando eventos significativos:</p>
                    <ul>
                        <li><span aria-hidden="true">📈</span> Momentos de alta energía y productividad</li>
                        <li><span aria-hidden="true">📉</span> Momentos de baja energía o frustración</li>
                        <li><span aria-hidden="true">🎯</span> Hitos y logros importantes</li>
                        <li><span aria-hidden="true">🚫</span> Impedimentos y blockers</li>
                    </ul>
                </div>
                
                <div style="margin-top: 15px;">
                    <h5 id="five-whys-heading">3. Five Whys para Root Cause Analysis</h5>
                    <p><strong>Ejemplo:</strong></p>
                    <ol>
                        <li><strong>¿Por qué llegamos tarde?</strong> Porque hubo muchos bugs</li>
                        <li><strong>¿Por qué hubo muchos bugs?</strong> Porque las pruebas fueron insuficientes</li>
                        <li><strong>¿Por qué las pruebas fueron insuficientes?</strong> Porque no había tiempo</li>
                        <li><strong>¿Por qué no había tiempo?</strong> Porque sobreestimamos la capacidad</li>
                        <li><strong>¿Por qué sobreestimamos?</strong> Porque no consideramos trabajo de deuda técnica</li>
                    </ol>
                </div>
            </div>

            <div class="warning-box">
                <h3 id="antipatrones-heading"><span aria-hidden="true">⚠️</span> Antipatrones Comunes en Timeboxing</h3>
                <ul>
                    <li><strong>Timebox Stuffing:</strong> Intentar meter más trabajo del que cabe en una iteración</li>
                    <li><strong>Zero-Buffer Planning:</strong> No dejar tiempo para imprevistos</li>
                    <li><strong>Scope Creep Mid-Sprint:</strong> Agregar trabajo durante la iteración</li>
                    <li><strong>Technical Debt Accumulation:</strong> Ignorar calidad para cumplir deadlines</li>
                    <li><strong>Heroic Programming:</strong> Depender de esfuerzos extraordinarios para cumplir</li>
                    <li><strong>Meeting Overload:</strong> Exceso de reuniones que consumen tiempo productivo</li>
                </ul>
            </div>
        </section>

        </main>
        
        <!-- Sistema de Quiz estandarizado -->
        <section class="quiz-container" role="complementary" aria-labelledby="quiz-heading">
            <h2 id="quiz-heading"><span aria-hidden="true">🧠</span> Evaluación - 20 Preguntas Multiple Choice</h2>
            
            <div class="quiz-instructions" role="region" aria-labelledby="quiz-instructions-heading">
                <h3 id="quiz-instructions-heading" class="sr-only">Instrucciones del Quiz</h3>
                <p><strong>Instrucciones:</strong></p>
                <p><span aria-hidden="true">•</span> Cada pregunta tiene 4 opciones: A, B, C y D</p>
                <p><span aria-hidden="true">•</span> Selecciona la respuesta que consideres correcta</p>
                <p><span aria-hidden="true">•</span> Al finalizar podrás ver tu puntuación y las respuestas correctas</p>
                <p><span aria-hidden="true">•</span> Se requiere responder todas las preguntas para obtener el resultado</p>
            </div>

            <!-- Las 20 preguntas -->
            <div id="quiz-questions">
                <!-- Pregunta 1 -->
                <div class="question">
                    <h4>1. ¿Cuál es la principal diferencia entre desarrollo iterativo e incremental?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción A">A</abbr>) Iterativo se refiere a ciclos largos, incremental a ciclos cortos</div>
                        <div class="option" onclick="selectOption(this, true)"><abbr title="Opción B">B</abbr>) Iterativo enfatiza la repetición de actividades, incremental la adición progresiva de funcionalidad</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción C">C</abbr>) Son sinónimos y pueden usarse indistintamente</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción D">D</abbr>) Iterativo es para proyectos grandes, incremental para proyectos pequeños</div>
                    </div>
                </div>
                
                <!-- Pregunta 2 -->
                <div class="question">
                    <h4>2. Según la Ley de Parkinson mencionada en el contexto iterativo, ¿qué efecto tienen las fechas fijas cortas?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción A">A</abbr>) Aumentan el estrés del equipo innecesariamente</div>
                        <div class="option" onclick="selectOption(this, true)"><abbr title="Opción B">B</abbr>) Evitan que el trabajo se expanda para llenar el tiempo disponible</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción C">C</abbr>) Reducen la calidad por presión temporal</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción D">D</abbr>) Son irrelevantes para la productividad</div>
                    </div>
                </div>
                
                <!-- Pregunta 3 -->
                <div class="question">
                    <h4>3. ¿Cuál es el principal problema del modelo en cascada que mitiga el desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción A">A</abbr>) El costo elevado de desarrollo</div>
                        <div class="option" onclick="selectOption(this, true)"><abbr title="Opción B">B</abbr>) La gestión tardía de riesgos y falta de retroalimentación temprana</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción C">C</abbr>) La necesidad de documentación técnica</div>
                        <div class="option" onclick="selectOption(this, false)"><abbr title="Opción D">D</abbr>) La complejidad de gestión de equipos</div>
                    </div>
                </div>
                
                <!-- Pregunta 4 -->
                <div class="question">
                    <h4>4. ¿Qué métrica indica la cantidad de trabajo completado por un equipo en una iteración?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Burndown chart</div>
                        <div class="option" onclick="selectOption(this, true)">B) Velocity</div>
                        <div class="option" onclick="selectOption(this, false)">C) Cumulative flow diagram</div>
                        <div class="option" onclick="selectOption(this, false)">D) Sprint backlog</div>
                    </div>
                </div>
                
                <!-- Pregunta 5 -->
                <div class="question">
                    <h4>5. ¿Cuál es el propósito principal de las retrospectivas en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Evaluar el desempeño individual de los miembros del equipo</div>
                        <div class="option" onclick="selectOption(this, true)">B) Reflexionar sobre el proceso y identificar mejoras continuas</div>
                        <div class="option" onclick="selectOption(this, false)">C) Planificar las tareas de la siguiente iteración</div>
                        <div class="option" onclick="selectOption(this, false)">D) Revisar el código desarrollado durante la iteración</div>
                    </div>
                </div>
                
                <!-- Pregunta 6 -->
                <div class="question">
                    <h4>6. ¿Cuál es la duración típica recomendada para las iteraciones en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) 1 día a 1 semana</div>
                        <div class="option" onclick="selectOption(this, true)">B) 1 a 4 semanas</div>
                        <div class="option" onclick="selectOption(this, false)">C) 1 a 3 meses</div>
                        <div class="option" onclick="selectOption(this, false)">D) No hay duración estándar</div>
                    </div>
                </div>
                
                <!-- Pregunta 7 -->
                <div class="question">
                    <h4>7. ¿Qué concepto describe mejor el timeboxing?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Estimación de tareas en horas</div>
                        <div class="option" onclick="selectOption(this, true)">B) Establecer períodos fijos de tiempo para las iteraciones</div>
                        <div class="option" onclick="selectOption(this, false)">C) Medición del tiempo dedicado a cada actividad</div>
                        <div class="option" onclick="selectOption(this, false)">D) Planificación de horarios de trabajo del equipo</div>
                    </div>
                </div>
                
                <!-- Pregunta 8 -->
                <div class="question">
                    <h4>8. ¿Cuál es la principal ventaja de la entrega continua de valor en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Reduce los costos de desarrollo</div>
                        <div class="option" onclick="selectOption(this, true)">B) Permite retroalimentación temprana y frecuente de los stakeholders</div>
                        <div class="option" onclick="selectOption(this, false)">C) Elimina la necesidad de documentación</div>
                        <div class="option" onclick="selectOption(this, false)">D) Simplifica la arquitectura del sistema</div>
                    </div>
                </div>
                
                <!-- Pregunta 9 -->
                <div class="question">
                    <h4>9. ¿Qué muestra un burndown chart?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) El trabajo completado acumulativo</div>
                        <div class="option" onclick="selectOption(this, true)">B) Cómo se reduce el trabajo restante a lo largo del tiempo</div>
                        <div class="option" onclick="selectOption(this, false)">C) La velocity del equipo por iteración</div>
                        <div class="option" onclick="selectOption(this, false)">D) Los cambios de alcance del proyecto</div>
                    </div>
                </div>
                
                <!-- Pregunta 10 -->
                <div class="question">
                    <h4>10. ¿Cuál es un criterio fundamental para la priorización en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Orden alfabético de las funcionalidades</div>
                        <div class="option" onclick="selectOption(this, true)">B) Valor de negocio y retorno de inversión</div>
                        <div class="option" onclick="selectOption(this, false)">C) Preferencias personales del desarrollador</div>
                        <div class="option" onclick="selectOption(this, false)">D) Facilidad técnica de implementación</div>
                    </div>
                </div>
                
                <!-- Pregunta 11 -->
                <div class="question">
                    <h4>11. ¿Qué diferencia hay en la gestión de riesgos entre cascada e iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) No hay diferencias significativas</div>
                        <div class="option" onclick="selectOption(this, true)">B) En cascada es tardía, en iterativo es temprana y continua</div>
                        <div class="option" onclick="selectOption(this, false)">C) En cascada es mejor porque es más sistemática</div>
                        <div class="option" onclick="selectOption(this, false)">D) En iterativo se ignoran los riesgos</div>
                    </div>
                </div>
                
                <!-- Pregunta 12 -->
                <div class="question">
                    <h4>12. ¿Qué información proporciona un cumulative flow diagram?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Solo la velocity del equipo</div>
                        <div class="option" onclick="selectOption(this, true)">B) El flujo de work items a través de diferentes estados y cuellos de botella</div>
                        <div class="option" onclick="selectOption(this, false)">C) Únicamente el trabajo restante</div>
                        <div class="option" onclick="selectOption(this, false)">D) Solo las horas trabajadas por día</div>
                    </div>
                </div>
                
                <!-- Pregunta 13 -->
                <div class="question">
                    <h4>13. ¿Cuál es el enfoque de la documentación en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Documentación exhaustiva antes de implementar</div>
                        <div class="option" onclick="selectOption(this, true)">B) Documentación evolutiva con enfoque en software funcionando</div>
                        <div class="option" onclick="selectOption(this, false)">C) No se requiere documentación</div>
                        <div class="option" onclick="selectOption(this, false)">D) Solo documentación técnica al final</div>
                    </div>
                </div>
                
                <!-- Pregunta 14 -->
                <div class="question">
                    <h4>14. ¿Qué actividad es clave en la planificación de iteración?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Escribir código inmediatamente</div>
                        <div class="option" onclick="selectOption(this, true)">B) Review del backlog priorizado y estimación de esfuerzo</div>
                        <div class="option" onclick="selectOption(this, false)">C) Definir la arquitectura completa del sistema</div>
                        <div class="option" onclick="selectOption(this, false)">D) Crear toda la documentación técnica</div>
                    </div>
                </div>
                
                <!-- Pregunta 15 -->
                <div class="question">
                    <h4>15. ¿Qué caracteriza a las entregas en desarrollo incremental?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Una sola entrega al final del proyecto</div>
                        <div class="option" onclick="selectOption(this, true)">B) Entregas frecuentes incrementales con valor acumulativo</div>
                        <div class="option" onclick="selectOption(this, false)">C) Entregas solo cuando se completa una fase</div>
                        <div class="option" onclick="selectOption(this, false)">D) Entregas sin valor funcional</div>
                    </div>
                </div>
                
                <!-- Pregunta 16 -->
                <div class="question">
                    <h4>16. ¿Qué beneficio proporciona la integración continua en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Elimina la necesidad de pruebas</div>
                        <div class="option" onclick="selectOption(this, true)">B) Detección temprana de problemas de integración</div>
                        <div class="option" onclick="selectOption(this, false)">C) Reduce el tiempo de desarrollo a cero</div>
                        <div class="option" onclick="selectOption(this, false)">D) Garantiza que no habrá bugs</div>
                    </div>
                </div>
                
                <!-- Pregunta 17 -->
                <div class="question">
                    <h4>17. ¿Qué muestra un burnup chart que no muestra un burndown chart?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) El trabajo restante</div>
                        <div class="option" onclick="selectOption(this, true)">B) Los cambios de alcance del proyecto</div>
                        <div class="option" onclick="selectOption(this, false)">C) La velocity del equipo</div>
                        <div class="option" onclick="selectOption(this, false)">D) Los impedimentos del equipo</div>
                    </div>
                </div>
                
                <!-- Pregunta 18 -->
                <div class="question">
                    <h4>18. ¿Cuál es el propósito del daily standup en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Reportar horas trabajadas al jefe</div>
                        <div class="option" onclick="selectOption(this, true)">B) Sincronización del equipo y identificación de impedimentos</div>
                        <div class="option" onclick="selectOption(this, false)">C) Planificar toda la iteración</div>
                        <div class="option" onclick="selectOption(this, false)">D) Revisar código en detalle</div>
                    </div>
                </div>
                
                <!-- Pregunta 19 -->
                <div class="question">
                    <h4>19. ¿Qué elemento define el "Definition of Done" en desarrollo iterativo?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Solo que el código compile</div>
                        <div class="option" onclick="selectOption(this, true)">B) Criterios de aceptación claros para considerar una funcionalidad terminada</div>
                        <div class="option" onclick="selectOption(this, false)">C) Que el desarrollador diga que terminó</div>
                        <div class="option" onclick="selectOption(this, false)">D) Que se haya documentado completamente</div>
                    </div>
                </div>
                
                <!-- Pregunta 20 -->
                <div class="question">
                    <h4>20. Según Frederick Brooks, ¿por qué es necesario el desarrollo iterativo e incremental?</h4>
                    <div class="options">
                        <div class="option" onclick="selectOption(this, false)">A) Es más barato que otros enfoques</div>
                        <div class="option" onclick="selectOption(this, true)">B) Los sistemas son demasiado complejos para especificarse completamente por adelantado</div>
                        <div class="option" onclick="selectOption(this, false)">C) Es una moda en la industria</div>
                        <div class="option" onclick="selectOption(this, false)">D) Requiere menos personal</div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-success" onclick="submitQuiz()" type="button"><span aria-hidden="true">📊</span> Ver Resultados</button>
                <button class="btn btn-primary" onclick="resetQuiz()" type="button"><span aria-hidden="true">🔄</span> Reiniciar Quiz</button>
            </div>

            <!-- Resultados del quiz -->
            <div class="quiz-results" id="quiz-results">
                <h3><span aria-hidden="true">📊</span> Resultados de la Evaluación</h3>
                <div class="results-chart">
                    <canvas id="results-chart" width="200" height="200"></canvas>
                </div>
                <div class="score-text" id="score-text"></div>
                <div id="feedback-text"></div>
            </div>
        </section>

        <!-- Recursos adicionales -->
        <section class="resources" role="complementary" aria-labelledby="resources-heading">
            <h2 id="resources-heading"><span aria-hidden="true">📚</span> Recursos Adicionales</h2>
            <ul>
                <li><strong><span aria-hidden="true">📖</span> Bibliografía:</strong> Larman, C. (2003). UML y Patrones | Pressman, R. (1998). Ingeniería de Software | Brooks, F. "No Silver Bullet" - The Mythical Man-Month</li>
                <li><strong><span aria-hidden="true">🔗</span> Enlaces útiles:</strong> Manifesto Ágil - Principios fundamentales | Martin Fowler - Iterative Development | MIT Sloan Study sobre factores de éxito</li>
                <li><strong><span aria-hidden="true">▶️</span> Próxima clase:</strong> Clase 4: Fundamentos de Metodologías Ágiles - Manifiesto Ágil, valores y principios</li>
                <li><strong><span aria-hidden="true">🔍</span> Palabras clave:</strong> Iterativo, Incremental, Timeboxing, Velocity, Burndown, Retrospectivas, Priorización, Valor de negocio</li>
            </ul>
        </section>
    </div>

    <!-- Scripts JavaScript -->
    <script>
        // Configuración de Mermaid
        const mermaidConfig = {
            startOnLoad: false,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            },
            themeVariables: {
                primaryColor: '#3498db',
                primaryTextColor: '#2c3e50',
                primaryBorderColor: '#2980b9',
                lineColor: '#34495e'
            }
        };
        mermaid.initialize(mermaidConfig);

        // Sistema de temas
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Actualizar icono
            const icon = document.getElementById('theme-icon');
            icon.textContent = newTheme === 'dark' ? '☀️' : '🌙';
        }

        // Cargar tema guardado
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            
            const icon = document.getElementById('theme-icon');
            icon.textContent = savedTheme === 'dark' ? '☀️' : '🌙';
        }

        // Sistema de Quiz
        let selectedAnswers = {};
        const totalQuestions = 20;

        function selectOption(element, isCorrect) {
            const questionDiv = element.closest('.question');
            const questionNumber = Array.from(document.querySelectorAll('.question')).indexOf(questionDiv) + 1;
            
            // Remover selección anterior
            questionDiv.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
                opt.setAttribute('aria-checked', 'false');
            });
            
            // Seleccionar nueva opción
            element.classList.add('selected');
            element.setAttribute('aria-checked', 'true');
            
            // Anunciar selección para lectores de pantalla
            element.setAttribute('aria-label', 'Opción seleccionada: ' + element.textContent);
            
            // Guardar respuesta
            selectedAnswers[questionNumber] = isCorrect;
        }

        function submitQuiz() {
            const answeredQuestions = Object.keys(selectedAnswers).length;
            
            if (answeredQuestions < totalQuestions) {
                alert(`Por favor responde todas las preguntas. Has respondido ${answeredQuestions} de ${totalQuestions}.`);
                return;
            }

            // Calcular resultados
            const correctAnswers = Object.values(selectedAnswers).filter(answer => answer === true).length;
            const incorrectAnswers = totalQuestions - correctAnswers;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);

            // Mostrar respuestas correctas e incorrectas
            document.querySelectorAll('.question').forEach((questionDiv, index) => {
                const questionNumber = index + 1;
                const selectedOption = questionDiv.querySelector('.option.selected');
                const isCorrect = selectedAnswers[questionNumber];
                
                questionDiv.querySelectorAll('.option').forEach(opt => {
                    const optionIsCorrect = opt.onclick.toString().includes('true');
                    
                    if (optionIsCorrect) {
                        opt.classList.add('correct');
                    } else if (opt.classList.contains('selected') && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                });
            });

            // Mostrar resultados
            displayResults(correctAnswers, incorrectAnswers, percentage);
        }

        function displayResults(correct, incorrect, percentage) {
            const resultsDiv = document.getElementById('quiz-results');
            const scoreText = document.getElementById('score-text');
            const feedbackText = document.getElementById('feedback-text');
            
            // Mostrar puntuación
            scoreText.textContent = `${correct}/${totalQuestions} (${percentage}%)`;
            
            // Feedback basado en la puntuación
            let feedback = '';
            if (percentage >= 90) {
                feedback = '🎉 ¡Excelente! Dominas muy bien el tema.';
            } else if (percentage >= 80) {
                feedback = '👏 ¡Muy bien! Tienes un buen entendimiento.';
            } else if (percentage >= 70) {
                feedback = '👍 Bien. Te recomendamos repasar algunos conceptos.';
            } else if (percentage >= 60) {
                feedback = '📚 Necesitas estudiar más el material.';
            } else {
                feedback = '⚠️ Te recomendamos repasar todo el contenido de la clase.';
            }
            
            feedbackText.innerHTML = `<p><strong>${feedback}</strong></p>`;
            
            // Crear gráfico de resultados
            createResultsChart(correct, incorrect);
            
            // Mostrar resultados
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function createResultsChart(correct, incorrect) {
            const canvas = document.getElementById('results-chart');
            const ctx = canvas.getContext('2d');
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Configuración del gráfico
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;
            
            // Calcular ángulos
            const correctAngle = (correct / totalQuestions) * 2 * Math.PI;
            const incorrectAngle = (incorrect / totalQuestions) * 2 * Math.PI;
            
            // Dibujar sector de respuestas correctas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, 0, correctAngle);
            ctx.closePath();
            ctx.fillStyle = '#27ae60';
            ctx.fill();
            
            // Dibujar sector de respuestas incorrectas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, correctAngle, correctAngle + incorrectAngle);
            ctx.closePath();
            ctx.fillStyle = '#e74c3c';
            ctx.fill();
            
            // Añadir texto en el centro
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${correct}/${totalQuestions}`, centerX, centerY + 5);
            
            // Leyenda
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillStyle = '#27ae60';
            ctx.fillText(`✓ Correctas: ${correct}`, 10, canvas.height - 30);
            ctx.fillStyle = '#e74c3c';
            ctx.fillText(`✗ Incorrectas: ${incorrect}`, 10, canvas.height - 10);
        }

        function resetQuiz() {
            // Limpiar respuestas
            selectedAnswers = {};
            
            // Remover todas las clases de selección y resultados
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Ocultar resultados
            document.getElementById('quiz-results').style.display = 'none';
            
            // Scroll al inicio del quiz
            document.querySelector('.quiz-container').scrollIntoView({ behavior: 'smooth' });
        }

        // Funcionalidad de toggle para detalles
        function toggleDetails(id) {
            const element = document.getElementById(id);
            const trigger = document.querySelector(`[aria-controls="${id}"]`);
            const isVisible = element.style.display === 'block';
            
            element.style.display = isVisible ? 'none' : 'block';
            
            // Actualizar atributos ARIA
            if (trigger) {
                trigger.setAttribute('aria-expanded', !isVisible);
                const actionText = isVisible ? 'expandir' : 'contraer';
                trigger.setAttribute('aria-label', `${actionText} detalles de ${trigger.textContent}`);
            }
        }

        // Renderizar diagramas Mermaid
        function renderMermaid() {
            mermaid.run();
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            setTimeout(renderMermaid, 500);
        });

        // Scroll suave para navegación
        function smoothScroll(target) {
            document.querySelector(target).scrollIntoView({
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>