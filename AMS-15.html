<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6NNLV89K44"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NNLV89K44');
    </script>

    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-53D9MP2H');</script>
    <!-- End Google Tag Manager -->

    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS - Clase 15: Especificación Detallada con Metodología Cockburn</title>
    <meta name="description" content="Metodología completa de Alistair Cockburn para especificación de casos de uso: formato completamente vestido, escenarios, extensiones y ejemplos con Liskov Project">
    <meta name="keywords" content="análisis, sistemas, metodología, AMS, casos de uso, Cockburn, patrones, especificación, Liskov Project">
    <meta name="author" content="Curso AMS">
    <script src="js/mermaid.min.js"></script>
    <style>
        :root {
            /* Colores principales */
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --info-color: #17a2b8;
            
            /* Sistema de colores para modo claro */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Gradientes */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        [data-theme="dark"] {
            /* Sistema de colores para modo oscuro */
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-card: rgba(26, 26, 26, 0.95);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --border-color: #4a5568;
            --shadow: rgba(0, 0, 0, 0.3);
            
            /* Gradientes modo oscuro */
            --gradient-primary: linear-gradient(135deg, #232526 0%, #414345 100%);
            --gradient-secondary: linear-gradient(45deg, #2c3e50, #34495e);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--gradient-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Botón de tema */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header del curso */
        .course-header {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .course-title {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .course-subtitle {
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .course-meta {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 25px;
        }

        .meta-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            transition: transform 0.2s ease;
        }

        .meta-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        [data-theme="dark"] .progress-bar {
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .objectives {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            padding: 30px;
            border-radius: 15px;
            color: #000000;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(255, 245, 157, 0.4);
            border: 2px solid #ffeb3b;
        }

        .objectives h2 {
            color: #000000;
            border: none;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: bold;
        }

        .objectives ul {
            list-style: none;
            padding: 0;
        }

        .objectives ul li {
            padding: 12px 0;
            padding-left: 30px;
            position: relative;
            font-size: 1.05em;
            line-height: 1.6;
            color: #000000;
            font-weight: 500;
        }

        .objectives ul li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: bold;
            font-size: 1.2em;
        }

        .course-header h1 {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .course-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        /* Barra de progreso */
        .progress-container {
            background: var(--bg-secondary);
            border-radius: 25px;
            padding: 8px;
            margin: 1rem 0;
            box-shadow: inset 0 2px 4px var(--shadow);
        }

        .progress-bar {
            background: var(--gradient-secondary);
            height: 20px;
            border-radius: 20px;
            width: 93.75%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            transition: width 1s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Tarjetas de contenido */
        .content-card {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px var(--shadow);
        }

        .content-card h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--secondary-color);
            font-size: 1.8rem;
        }

        .content-card h3 {
            color: var(--secondary-color);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        /* Objetivos - CSS duplicado removido, usar el de arriba */

        /* Listas y contenido */
        .content-card ul, .content-card ol {
            padding-left: 2rem;
            margin: 1rem 0;
        }

        .content-card li {
            margin: 0.5rem 0;
            line-height: 1.8;
        }

        /* Tablas */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px var(--shadow);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--gradient-secondary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tr:hover {
            background: var(--bg-secondary);
        }

        /* Elementos destacados */
        .highlight {
            background: linear-gradient(135deg, var(--warning-color)10, var(--warning-color)20);
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            border-radius: 0 10px 10px 0;
            margin: 1rem 0;
        }

        .info-box {
            background: linear-gradient(135deg, var(--info-color)10, var(--info-color)20);
            border-left: 4px solid var(--info-color);
            padding: 1rem;
            border-radius: 0 10px 10px 0;
            margin: 1rem 0;
        }

        /* Diagramas Mermaid */
        .mermaid {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 1rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
        }

        /* Quiz */
        .quiz-container {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px var(--shadow);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .quiz-header h3 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .question {
            background: var(--bg-secondary);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 4px solid var(--secondary-color);
        }

        .question h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .options {
            display: grid;
            gap: 0.5rem;
        }

        .option {
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin: 0;
        }

        .quiz-button {
            background: var(--gradient-secondary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1rem 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .quiz-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            text-align: center;
            padding: 2rem;
            background: var(--bg-secondary);
            border-radius: 15px;
            margin-top: 1rem;
        }

        .score {
            font-size: 2rem;
            font-weight: bold;
            margin: 1rem 0;
        }

        .score.excellent { color: var(--success-color); }
        .score.good { color: var(--info-color); }
        .score.needs-improvement { color: var(--warning-color); }
        .score.poor { color: var(--accent-color); }

        #resultsChart {
            max-width: 300px;
            margin: 1rem auto;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .course-header {
                padding: 1.5rem;
            }
            
            .course-header h1 {
                font-size: 2rem;
            }
            
            .content-card {
                padding: 1.5rem;
            }
            
            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 45px;
                height: 45px;
            }

            table {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .course-header h1 {
                font-size: 1.8rem;
            }
            
            .content-card {
                padding: 1rem;
            }
            
            .quiz-button {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53D9MP2H"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema">
        🌙
    </button>

    <div class="container">
        <!-- Header del Curso -->
                        <header class="course-header">
            <h1 class="course-title">📚 Diagramas de Actividades</h1>
            <p class="course-subtitle">Modelado de flujos de trabajo y procesos de negocio</p>
            <div class="course-meta">
                <span class="meta-item">📚 Unidad 4: Diseño</span>
                <span class="meta-item">🎯 Clase 15</span>
                <span class="meta-item">⏱️ 90 minutos</span>
                <span class="meta-item">📈 Nivel: Avanzado</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 93.75%"></div>
            </div>
        </header>

        <!-- Objetivos de Aprendizaje -->
        <div class="objectives">
            <h2>🎯 Objetivos de Aprendizaje</h2>
            <ul>
                <li>Dominar el formato "Completamente Vestido" de Alistair Cockburn</li>
                <li>Especificar casos de uso con precondiciones y postcondiciones rigurosas</li>
                <li>Documentar escenarios principales y extensiones (flujos alternativos) detalladamente</li>
                <li>Aplicar la metodología Cockburn a casos de uso complejos de Liskov Project</li>
                <li>Gestionar múltiples actores, garantías de éxito y garantías mínimas</li>
                <li>Conectar la especificación textual con los diagramas de casos de uso (AMS-14)</li>
            </ul>
        </div>

        <!-- Introducción -->
        <section class="content-card" style="background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);">
            <h2>📚 1. De Diagramas a Especificaciones Detalladas</h2>

            <p>En <strong>AMS-14</strong> aprendimos a crear <strong>diagramas de casos de uso</strong> que representan visualmente las funcionalidades del sistema. Los diagramas responden:</p>
            <ul>
                <li><strong>¿QUIÉN?</strong> → Actores que interactúan con el sistema</li>
                <li><strong>¿QUÉ?</strong> → Funcionalidades que ofrece el sistema</li>
                <li><strong>¿RELACIONES?</strong> → Include, Extend, Generalization</li>
            </ul>

            <p style="margin-top: 20px;">Sin embargo, los diagramas por sí solos NO responden:</p>
            <ul>
                <li>❓ <strong>¿CÓMO?</strong> → ¿Cuál es el flujo detallado de interacción?</li>
                <li>❓ <strong>¿CUÁNDO?</strong> → ¿Qué precondiciones deben cumplirse?</li>
                <li>❓ <strong>¿RESULTADO?</strong> → ¿Qué se garantiza al terminar?</li>
                <li>❓ <strong>¿QUÉ PASA SI...?</strong> → ¿Cómo manejar errores y casos especiales?</li>
            </ul>

            <div class="info-box" style="margin-top: 20px;">
                <h4>💡 Complementariedad Esencial:</h4>
                <p><strong>Diagrama de Casos de Uso (AMS-14)</strong> = Mapa de ciudad (visión general)</p>
                <p><strong>Especificación Textual Cockburn (AMS-15)</strong> = Instrucciones GPS paso a paso (detalle de ejecución)</p>
                <p style="margin-top: 10px;"><strong>Ambos son necesarios</strong> para una especificación completa del sistema.</p>
            </div>

            <h3 style="margin-top: 30px;">Niveles de Detalle en Casos de Uso</h3>
            <p>No todos los casos de uso requieren el mismo nivel de detalle. Cockburn define tres formatos:</p>

            <table style="width: 100%; margin: 20px 0; border-collapse: collapse;">
                <thead>
                    <tr style="background: var(--secondary-color); color: white;">
                        <th style="padding: 12px; text-align: left;">Formato</th>
                        <th style="padding: 12px; text-align: left;">Descripción</th>
                        <th style="padding: 12px; text-align: left;">Cuándo Usar</th>
                        <th style="padding: 12px; text-align: center;">Esfuerzo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 12px;"><strong>Brief (Breve)</strong></td>
                        <td style="padding: 12px;">2-3 oraciones resumiendo el objetivo</td>
                        <td style="padding: 12px;">CU de bajo riesgo, obvios</td>
                        <td style="padding: 12px; text-align: center;">⚡ Bajo</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px;"><strong>Casual (Informal)</strong></td>
                        <td style="padding: 12px;">Párrafos describiendo flujo principal</td>
                        <td style="padding: 12px;">CU de complejidad media</td>
                        <td style="padding: 12px; text-align: center;">⚡⚡ Medio</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 12px;"><strong>Fully Dressed<br>(Completamente Vestido)</strong></td>
                        <td style="padding: 12px;">Todos los campos completos con precondiciones, extensiones, garantías</td>
                        <td style="padding: 12px;">CU críticos, complejos, alto riesgo</td>
                        <td style="padding: 12px; text-align: center;">⚡⚡⚡ Alto</td>
                    </tr>
                </tbody>
            </table>

            <div class="warning-box">
                <h4>⚠️ Decisión Estratégica:</h4>
                <p>No especifiques TODOS los casos de uso en formato completamente vestido. Esto es costoso y genera documentación difícil de mantener.</p>
                <p><strong>Regla práctica:</strong></p>
                <ul>
                    <li>✅ <strong>Fully Dressed:</strong> 20-30% de CU (los más críticos/complejos)</li>
                    <li>✅ <strong>Casual:</strong> 50-60% de CU (complejidad media)</li>
                    <li>✅ <strong>Brief:</strong> 10-20% de CU (simples, obvios)</li>
                </ul>
            </div>

            <h3 style="margin-top: 30px;">Ejemplo de los Tres Niveles - Liskov Project</h3>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #4CAF50;">
                    <h4 style="color: #4CAF50;">Brief: "Cerrar Sesión"</h4>
                    <p style="font-size: 0.95em; margin-top: 10px;">El usuario solicita cerrar sesión. El sistema invalida el token de autenticación y redirige a la página de login.</p>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #FF9800;">
                    <h4 style="color: #FF9800;">Casual: "Actualizar Task"</h4>
                    <p style="font-size: 0.95em; margin-top: 10px;">El Developer selecciona una tarea del sprint actual. Modifica el estado (ej: "In Progress" → "Code Review"), actualiza la descripción si es necesario, y registra tiempo trabajado. El sistema valida que la transición de estado sea válida según el workflow configurado, actualiza el burndown automáticamente, y notifica al Scrum Master si la tarea pasa a "Blocked".</p>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #2196F3;">
                    <h4 style="color: #2196F3;">Fully Dressed: "Planificar Sprint"</h4>
                    <p style="font-size: 0.95em; margin-top: 10px;">Requiere especificación completa con:</p>
                    <ul style="font-size: 0.9em; margin-left: 20px;">
                        <li>Precondiciones (backlog priorizado)</li>
                        <li>12 pasos en flujo principal</li>
                        <li>4 extensiones (conflictos, ausencias, etc.)</li>
                        <li>Garantías de éxito y mínimas</li>
                        <li>Requisitos especiales (performance)</li>
                    </ul>
                    <p style="font-size: 0.9em; margin-top: 10px;"><strong>→ Lo veremos en detalle</strong> en la siguiente sección</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN 2: Template Completo Cockburn -->
        <section class="content-card">
            <h2>📋 2. Template "Completamente Vestido" de Cockburn</h2>

            <p>El formato <strong>Fully Dressed</strong> de Alistair Cockburn es el más completo y riguroso para especificar casos de uso. Contiene <strong>12 campos fundamentales</strong> que cubren todos los aspectos de la interacción:</p>

            <h3 style="margin-top: 30px;">🏗️ Los 12 Campos del Template Cockburn</h3>

            <table style="width: 100%; margin: 20px 0;">
                <thead>
                    <tr style="background: var(--secondary-color); color: white;">
                        <th style="width: 25%; padding: 12px;">Campo</th>
                        <th style="width: 50%; padding: 12px;">Propósito</th>
                        <th style="width: 25%; padding: 12px;">Obligatorio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>1. Identificador + Título</strong></td>
                        <td style="padding: 10px;">Nombre único y descriptivo (verbo + objeto)</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>2. Nivel</strong></td>
                        <td style="padding: 10px;">Summary / User-Goal / Subfunction</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>3. Actor Primario</strong></td>
                        <td style="padding: 10px;">Quién inicia el caso de uso</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>4. Actores Secundarios</strong></td>
                        <td style="padding: 10px;">Sistemas/actores que proveen servicios</td>
                        <td style="padding: 10px; text-align: center;">⚠️ Si aplica</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>5. Stakeholders e Intereses</strong></td>
                        <td style="padding: 10px;">Quién tiene interés en el resultado y qué espera</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>6. Precondiciones</strong></td>
                        <td style="padding: 10px;">Estado del sistema ANTES de ejecutar</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>7. Garantías de Éxito</strong></td>
                        <td style="padding: 10px;">Estado del sistema DESPUÉS de éxito</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>8. Garantías Mínimas</strong></td>
                        <td style="padding: 10px;">Estado garantizado INCLUSO si falla</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>9. Trigger (Disparador)</strong></td>
                        <td style="padding: 10px;">Evento que inicia el caso de uso</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>10. Escenario Principal</strong></td>
                        <td style="padding: 10px;">Flujo exitoso paso a paso (numerado)</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>11. Extensiones</strong></td>
                        <td style="padding: 10px;">Flujos alternativos y manejo de errores</td>
                        <td style="padding: 10px; text-align: center;">✅ Sí</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>12. Requisitos Especiales</strong></td>
                        <td style="padding: 10px;">Requisitos no funcionales (performance, UI, etc.)</td>
                        <td style="padding: 10px; text-align: center;">⚠️ Si aplica</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box" style="margin-top: 20px;">
                <h4>💡 Otros Campos Opcionales (no siempre necesarios):</h4>
                <ul>
                    <li><strong>Lista de Variaciones Tecnológicas:</strong> Diferentes implementaciones posibles</li>
                    <li><strong>Frecuencia de Uso:</strong> ¿Cuántas veces se ejecuta? (ej: 50 veces/día)</li>
                    <li><strong>Cuestiones Abiertas:</strong> Preguntas pendientes de resolver</li>
                </ul>
            </div>

            <h3 style="margin-top: 40px;">📖 Explicación Detallada de Cada Campo</h3>

            <div style="margin-top: 20px;">
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #2196F3; margin-bottom: 20px;">
                    <h4 style="color: #2196F3;">1️⃣ Identificador + Título</h4>
                    <p><strong>Formato:</strong> <code>CU-XX: Verbo + Objeto</code></p>
                    <p><strong>Ejemplo:</strong> <code>CU-08: Planificar Sprint</code></p>
                    <p><strong>Regla:</strong> El título debe responder "<em>¿Qué logra el actor?</em>" en lenguaje de negocio.</p>
                    <div class="warning-box" style="margin-top: 10px;">
                        <strong>❌ MAL:</strong> "Ejecutar algoritmo de asignación de tareas"<br>
                        <strong>✅ BIEN:</strong> "Asignar tareas al equipo"
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #4CAF50; margin-bottom: 20px;">
                    <h4 style="color: #4CAF50;">2️⃣ Nivel (Goal Level)</h4>
                    <p>Cockburn define 3 niveles según el alcance del objetivo:</p>
                    <ul>
                        <li><strong>☁️ Summary (Nube):</strong> Objetivo de negocio amplio, compuesto por múltiples CU<br>
                            <em>Ejemplo: "Gestionar Proyecto Completo" (dura semanas/meses)</em>
                        </li>
                        <li><strong>🌊 User-Goal (Mar):</strong> Objetivo que el usuario quiere lograr en una sesión<br>
                            <em>Ejemplo: "Planificar Sprint" (dura 1-3 horas, es el nivel más común)</em>
                        </li>
                        <li><strong>🐟 Subfunction (Pez):</strong> Paso técnico dentro de un User-Goal<br>
                            <em>Ejemplo: "Validar Disponibilidad del Equipo" (es llamado por otro CU)</em>
                        </li>
                    </ul>
                    <p><strong>💡 Regla práctica:</strong> El 80% de tus CU completamente vestidos deben ser <strong>User-Goal</strong>.</p>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #FF9800; margin-bottom: 20px;">
                    <h4 style="color: #FF9800;">3️⃣ Actor Primario</h4>
                    <p>El actor que <strong>inicia</strong> el caso de uso y tiene el <strong>objetivo</strong> de lograrlo.</p>
                    <p><strong>Ejemplo Liskov:</strong> <code>Scrum Master</code></p>
                    <div class="info-box" style="margin-top: 10px;">
                        <strong>Tip:</strong> Usa el ROL, no el nombre de la persona. "Scrum Master", no "Juan Pérez".
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #9C27B0; margin-bottom: 20px;">
                    <h4 style="color: #9C27B0;">4️⃣ Actores Secundarios</h4>
                    <p>Sistemas o actores que <strong>proveen servicios</strong> al caso de uso, pero NO lo inician.</p>
                    <p><strong>Ejemplo Liskov:</strong></p>
                    <ul>
                        <li><code>Sistema de Notificaciones</code> (envía emails al equipo)</li>
                        <li><code>GitHub API</code> (sincroniza issues)</li>
                        <li><code>Slack API</code> (notifica en canales)</li>
                    </ul>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #E91E63; margin-bottom: 20px;">
                    <h4 style="color: #E91E63;">5️⃣ Stakeholders e Intereses</h4>
                    <p>Lista de <strong>quién se beneficia o se ve afectado</strong> por este caso de uso y <strong>qué espera</strong>.</p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <table style="width: 100%; font-size: 0.9em;">
                        <tr>
                            <td style="width: 30%; padding: 8px;"><strong>Scrum Master</strong></td>
                            <td style="padding: 8px;">Quiere sprint planificado con capacidad realista y riesgos identificados</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 8px;"><strong>Developers</strong></td>
                            <td style="padding: 8px;">Quieren claridad sobre qué tareas abordar, sin sobrecarga</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px;"><strong>Product Owner</strong></td>
                            <td style="padding: 8px;">Quiere que las historias priorizadas entren en el sprint</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 8px;"><strong>Gerencia</strong></td>
                            <td style="padding: 8px;">Quiere visibilidad del progreso y predictibilidad</td>
                        </tr>
                    </table>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #00BCD4; margin-bottom: 20px;">
                    <h4 style="color: #00BCD4;">6️⃣ Precondiciones</h4>
                    <p>Condiciones que deben ser <strong>VERDADERAS ANTES</strong> de que el CU pueda ejecutarse.</p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <ul>
                        <li>✅ Scrum Master está autenticado en el sistema</li>
                        <li>✅ Backlog del producto contiene al menos 5 historias priorizadas</li>
                        <li>✅ Equipo de desarrollo está configurado con disponibilidad por miembro</li>
                        <li>✅ Sprint anterior está cerrado (o es el primer sprint)</li>
                    </ul>
                    <div class="warning-box" style="margin-top: 10px;">
                        <strong>⚠️ Importante:</strong> Las precondiciones NO se validan en el flujo del CU. Se asumen como VERDADERAS desde el inicio.
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #4CAF50; margin-bottom: 20px;">
                    <h4 style="color: #4CAF50;">7️⃣ Garantías de Éxito (Success Guarantees / Postcondiciones)</h4>
                    <p>Estado del sistema <strong>DESPUÉS de una ejecución exitosa</strong>. Es el "contrato" que el sistema cumple.</p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <ul>
                        <li>✅ Sprint creado con fecha inicio/fin, objetivo definido</li>
                        <li>✅ Historias seleccionadas asignadas al sprint (sprint backlog creado)</li>
                        <li>✅ Capacidad del equipo calculada y registrada</li>
                        <li>✅ Burndown chart inicializado con puntos comprometidos</li>
                        <li>✅ Notificaciones enviadas a todo el equipo (email + Slack)</li>
                        <li>✅ Estado del sprint = "In Progress"</li>
                    </ul>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #F44336; margin-bottom: 20px;">
                    <h4 style="color: #F44336;">8️⃣ Garantías Mínimas (Minimal Guarantees)</h4>
                    <p>Estado garantizado <strong>INCLUSO SI EL CU FALLA</strong> o el actor lo abandona. Protege la integridad del sistema.</p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <ul>
                        <li>✅ No se crean sprints duplicados con fechas solapadas</li>
                        <li>✅ No se modifican historias del backlog original</li>
                        <li>✅ Todos los intentos fallidos se registran en el log del sistema</li>
                        <li>✅ Si el usuario abandona a mitad de camino, el sprint queda en estado "Draft" (no "In Progress")</li>
                    </ul>
                    <div class="info-box" style="margin-top: 10px;">
                        <strong>💡 Tip:</strong> Las garantías mínimas protegen contra corrupción de datos, transacciones a medio completar, y estados inconsistentes.
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #FF5722; margin-bottom: 20px;">
                    <h4 style="color: #FF5722;">9️⃣ Trigger (Disparador)</h4>
                    <p>El <strong>evento específico</strong> que inicia el caso de uso.</p>
                    <p><strong>Ejemplo Liskov:</strong></p>
                    <ul>
                        <li>Scrum Master selecciona "New Sprint" desde el dashboard de Liskov</li>
                        <li><strong>O:</strong> Daily standup automática detecta que el sprint anterior terminó (trigger temporal)</li>
                    </ul>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #3F51B5; margin-bottom: 20px;">
                    <h4 style="color: #3F51B5;">🔟 Escenario Principal (Main Success Scenario)</h4>
                    <p>Flujo de interacción <strong>paso a paso</strong> cuando TODO sale bien. Se numera y alterna entre Actor y Sistema.</p>
                    <div class="info-box" style="margin-top: 10px;">
                        <strong>Regla de Cockburn:</strong> Cada paso debe ser una "<strong>interacción completa</strong>" que acerque al objetivo. No incluyas detalles de UI ("usuario hace clic en botón azul").
                    </div>
                    <p style="margin-top: 15px;"><strong>Ejemplo Liskov - "Planificar Sprint" (simplificado):</strong></p>
                    <ol style="line-height: 2;">
                        <li>Scrum Master selecciona "Planificar Nuevo Sprint"</li>
                        <li>Sistema muestra backlog priorizado y capacidad disponible del equipo</li>
                        <li>Scrum Master define nombre del sprint, fecha inicio/fin, y objetivo</li>
                        <li>Sistema valida que las fechas no se solapen con otro sprint activo</li>
                        <li>Scrum Master selecciona historias del backlog para incluir en el sprint</li>
                        <li>Sistema calcula puntos totales y compara con capacidad del equipo</li>
                        <li>Scrum Master confirma la planificación</li>
                        <li>Sistema crea el sprint, asigna historias, inicializa burndown, y notifica al equipo</li>
                    </ol>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #795548; margin-bottom: 20px;">
                    <h4 style="color: #795548;">1️⃣1️⃣ Extensiones (Extensions / Alternative Flows)</h4>
                    <p>Flujos <strong>alternativos</strong> y <strong>manejo de errores</strong>. Se referencian por el número de paso del escenario principal donde ocurren.</p>
                    <p><strong>Formato:</strong> <code>Paso#Condición: Acciones → Resultado</code></p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 0.9em; margin-top: 10px;">
                        <strong>4a. Fechas se solapan con sprint existente:</strong><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;4a1. Sistema muestra error "Ya existe un sprint activo en esas fechas"<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;4a2. Scrum Master ajusta las fechas<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;4a3. Vuelve al paso 4<br><br>

                        <strong>5a. Backlog vacío o sin historias priorizadas:</strong><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;5a1. Sistema muestra advertencia "No hay historias listas para planificar"<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;5a2. Caso de uso termina sin crear sprint<br><br>

                        <strong>6a. Puntos seleccionados superan capacidad en >20%:</strong><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;6a1. Sistema muestra alerta "Sprint sobrecargado: 55 pts vs 40 pts de capacidad"<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;6a2. Scrum Master decide:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Remover historias (vuelve al paso 5)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- O continuar con sobrecarga (marca sprint como "riesgoso")<br><br>

                        <strong>*a. En cualquier momento, Scrum Master cancela:</strong><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;*a1. Sistema descarta cambios sin crear sprint<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;*a2. Caso de uso termina
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #607D8B; margin-bottom: 20px;">
                    <h4 style="color: #607D8B;">1️⃣2️⃣ Requisitos Especiales</h4>
                    <p>Requisitos <strong>no funcionales</strong> específicos de este CU: performance, usabilidad, seguridad, etc.</p>
                    <p><strong>Ejemplo Liskov - "Planificar Sprint":</strong></p>
                    <ul>
                        <li><strong>Performance:</strong> Carga del backlog debe completarse en <2 segundos (hasta 500 historias)</li>
                        <li><strong>Usabilidad:</strong> Interfaz debe permitir drag-and-drop de historias</li>
                        <li><strong>Accesibilidad:</strong> Compatible con lectores de pantalla</li>
                        <li><strong>Auditabilidad:</strong> Todos los cambios deben registrarse en el log con timestamp y usuario</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- SECCIÓN 3: Casos de Uso Completos de Liskov Project -->
        <section class="content-card" style="background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);">
            <h2>🚀 3. Casos de Uso Completos: Liskov Project</h2>
            <p>A continuación, veremos <strong>3 casos de uso del Proyecto Liskov</strong> especificados en formato <strong>Completamente Vestido</strong> de Cockburn:</p>

            <div style="margin: 30px 0; text-align: center;">
                <h3 style="color: #1976D2; margin-bottom: 15px;">📊 Contexto Visual: Diagrama General de Casos de Uso de Liskov</h3>
                <img src="images/casos-de-uso/uc-22-liskov-overview.png"
                     alt="Diagrama completo de casos de uso del sistema Liskov Project"
                     style="max-width: 100%; height: auto; border: 2px solid var(--border-color); border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <p style="margin-top: 10px; font-size: 0.95em; color: var(--text-secondary);">
                    Este diagrama muestra todos los casos de uso de Liskov organizados por módulos. Los 3 casos especificados a continuación están marcados en el módulo de <strong>Sprint Management</strong>.
                </p>
            </div>

            <h3 style="color: #1976D2; margin-top: 40px; margin-bottom: 20px;">📦 Diagramas por Módulo</h3>
            <p style="margin-bottom: 30px; font-size: 1.05em;">A continuación se presentan los diagramas de casos de uso organizados por cada módulo funcional de Liskov:</p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 30px; margin-bottom: 40px;">
                <!-- Módulo 1: Backlog Management -->
                <div style="background: #E3F2FD; padding: 20px; border-radius: 10px; border-left: 4px solid #2196F3;">
                    <h4 style="color: #2196F3; margin-bottom: 15px;">📋 Módulo 1: Backlog Management</h4>
                    <img src="images/casos-de-uso/uc-27-modulo-backlog-management.png"
                         alt="Diagrama de casos de uso: Módulo Backlog Management"
                         style="width: 100%; height: auto; border: 2px solid #2196F3; border-radius: 8px;">
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        <strong>Actores principales:</strong> Product Owner, Scrum Master, Developer<br>
                        <strong>Casos de uso:</strong> Crear User Story, Priorizar Backlog, Estimar Story Points, Crear Epic
                    </p>
                </div>

                <!-- Módulo 2: Sprint Management -->
                <div style="background: #FFF3E0; padding: 20px; border-radius: 10px; border-left: 4px solid #FF6F00;">
                    <h4 style="color: #FF6F00; margin-bottom: 15px;">🏃 Módulo 2: Sprint Management</h4>
                    <img src="images/casos-de-uso/uc-28-modulo-sprint-management.png"
                         alt="Diagrama de casos de uso: Módulo Sprint Management"
                         style="width: 100%; height: auto; border: 2px solid #FF6F00; border-radius: 8px;">
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        <strong>Actores principales:</strong> Scrum Master, Developer + APIs externas<br>
                        <strong>Casos de uso:</strong> Planificar Sprint, Daily Standup, Cerrar Sprint, Review, Retrospective
                    </p>
                </div>

                <!-- Módulo 3: Task Management -->
                <div style="background: #E8F5E9; padding: 20px; border-radius: 10px; border-left: 4px solid #4CAF50;">
                    <h4 style="color: #4CAF50; margin-bottom: 15px;">✅ Módulo 3: Task Management</h4>
                    <img src="images/casos-de-uso/uc-29-modulo-task-management.png"
                         alt="Diagrama de casos de uso: Módulo Task Management"
                         style="width: 100%; height: auto; border: 2px solid #4CAF50; border-radius: 8px;">
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        <strong>Actores principales:</strong> Developer, Scrum Master + GitHub API<br>
                        <strong>Casos de uso:</strong> Crear Task, Asignar Task, Actualizar Estado, Registrar Tiempo
                    </p>
                </div>

                <!-- Módulo 4: Reporting -->
                <div style="background: #F3E5F5; padding: 20px; border-radius: 10px; border-left: 4px solid #7B1FA2;">
                    <h4 style="color: #7B1FA2; margin-bottom: 15px;">📊 Módulo 4: Reporting & Metrics</h4>
                    <img src="images/casos-de-uso/uc-30-modulo-reporting.png"
                         alt="Diagrama de casos de uso: Módulo Reporting"
                         style="width: 100%; height: auto; border: 2px solid #7B1FA2; border-radius: 8px;">
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        <strong>Actores principales:</strong> Scrum Master, Product Owner, Gerente, Stakeholder<br>
                        <strong>Casos de uso:</strong> Generar Reporte Sprint, Velocity, Distribución Trabajo, Dashboard Ejecutivo
                    </p>
                </div>

                <!-- Módulo 5: Integrations -->
                <div style="background: #FFF9C4; padding: 20px; border-radius: 10px; border-left: 4px solid #FFC107;">
                    <h4 style="color: #F57C00; margin-bottom: 15px;">🔗 Módulo 5: Integrations</h4>
                    <img src="images/casos-de-uso/uc-31-modulo-integrations.png"
                         alt="Diagrama de casos de uso: Módulo Integrations"
                         style="width: 100%; height: auto; border: 2px solid #FFC107; border-radius: 8px;">
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        <strong>Actores principales:</strong> Administrator, Developer + APIs externas (GitHub, Slack, Jira)<br>
                        <strong>Casos de uso:</strong> Configurar GitHub, Sincronizar Issues, Slack Notifications, Migrar Jira
                    </p>
                </div>
            </div>

            <div class="info-box" style="margin-top: 30px;">
                <h4>💡 Organización Modular de Casos de Uso</h4>
                <p>Los 5 módulos de Liskov están diseñados siguiendo el principio de <strong>alta cohesión y bajo acoplamiento</strong>:</p>
                <ul style="line-height: 2;">
                    <li><strong>Backlog Management:</strong> Gestión de requisitos y priorización (pre-sprint)</li>
                    <li><strong>Sprint Management:</strong> Ejecución del ciclo Scrum (core del sistema)</li>
                    <li><strong>Task Management:</strong> Gestión granular del trabajo diario</li>
                    <li><strong>Reporting:</strong> Análisis retrospectivo y métricas</li>
                    <li><strong>Integrations:</strong> Conexión con ecosistema externo</li>
                </ul>
                <p style="margin-top: 10px;">Esta separación facilita el desarrollo paralelo, testing independiente, y escalabilidad del sistema.</p>
            </div>
        </section>

        <!-- CU 1: Planificar Sprint -->
        <section class="content-card">
            <h3 style="font-size: 1.8em; color: #1976D2; border-bottom: 3px solid #1976D2; padding-bottom: 10px;">📅 CU-08: Planificar Sprint</h3>

            <div style="margin: 20px 0; text-align: center; background: #E3F2FD; padding: 20px; border-radius: 10px;">
                <img src="images/casos-de-uso/uc-24-planificar-sprint-detallado.png"
                     alt="Diagrama de caso de uso: Planificar Sprint"
                     style="max-width: 100%; height: auto; border: 2px solid #1976D2; border-radius: 8px;">
                <p style="margin-top: 10px; font-size: 0.9em; color: #1976D2;">
                    <strong>Diagrama UML:</strong> Muestra actores (Scrum Master, APIs externas) y subfunciones incluidas (Validar Fechas, Calcular Capacidad, Autenticar Usuario).
                </p>
            </div>

            <table style="width: 100%; margin: 20px 0; border: 2px solid #1976D2;">
                <tr style="background: #E3F2FD;">
                    <td style="padding: 10px; width: 30%; font-weight: bold;">Identificador</td>
                    <td style="padding: 10px;">CU-08</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Título</td>
                    <td style="padding: 10px;">Planificar Sprint</td>
                </tr>
                <tr style="background: #E3F2FD;">
                    <td style="padding: 10px; font-weight: bold;">Nivel</td>
                    <td style="padding: 10px;">🌊 User-Goal (Objetivo del Usuario)</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Actor Primario</td>
                    <td style="padding: 10px;">Scrum Master</td>
                </tr>
                <tr style="background: #E3F2FD;">
                    <td style="padding: 10px; font-weight: bold;">Actores Secundarios</td>
                    <td style="padding: 10px;">Sistema de Notificaciones, GitHub API, Slack API</td>
                </tr>
            </table>

            <h4 style="color: #E91E63; margin-top: 20px;">👥 Stakeholders e Intereses:</h4>
            <ul style="line-height: 2;">
                <li><strong>Scrum Master:</strong> Quiere crear un sprint balanceado, con capacidad realista y riesgos identificados</li>
                <li><strong>Developers:</strong> Quieren claridad sobre tareas asignadas, evitando sobrecarga</li>
                <li><strong>Product Owner:</strong> Quiere maximizar valor entregado, priorizando historias críticas</li>
                <li><strong>Gerencia:</strong> Quiere predictibilidad y visibilidad del progreso</li>
            </ul>

            <h4 style="color: #00BCD4; margin-top: 20px;">⚙️ Precondiciones:</h4>
            <ul style="line-height: 2;">
                <li>✅ Scrum Master está autenticado en Liskov</li>
                <li>✅ Backlog del producto contiene ≥5 historias priorizadas y estimadas</li>
                <li>✅ Equipo de desarrollo está configurado (nombre, velocity histórica, disponibilidad)</li>
                <li>✅ Sprint anterior está cerrado, O es el primer sprint del proyecto</li>
            </ul>

            <h4 style="color: #4CAF50; margin-top: 20px;">✅ Garantías de Éxito (Postcondiciones):</h4>
            <ul style="line-height: 2;">
                <li>✅ Sprint creado con ID único, nombre, fecha inicio/fin, y objetivo de negocio</li>
                <li>✅ Sprint Backlog creado con N historias seleccionadas asignadas al sprint</li>
                <li>✅ Capacidad del equipo calculada (velocity × disponibilidad) y registrada</li>
                <li>✅ Burndown Chart inicializado con puntos comprometidos y línea ideal</li>
                <li>✅ Estado del sprint = "In Progress"</li>
                <li>✅ Notificaciones enviadas al equipo vía email y canal Slack #sprint-planning</li>
                <li>✅ GitHub Issues sincronizados con etiqueta "sprint-N"</li>
            </ul>

            <h4 style="color: #F44336; margin-top: 20px;">🛡️ Garantías Mínimas:</h4>
            <ul style="line-height: 2;">
                <li>✅ No se crean sprints duplicados con fechas solapadas</li>
                <li>✅ Backlog original del producto NO se modifica</li>
                <li>✅ Intentos fallidos registrados en log de auditoría con timestamp y usuario</li>
                <li>✅ Si el usuario abandona a mitad de proceso, sprint queda en estado "Draft" (no "In Progress")</li>
            </ul>

            <h4 style="color: #FF5722; margin-top: 20px;">🔔 Trigger (Disparador):</h4>
            <p style="padding: 10px; background: #FBE9E7; border-left: 4px solid #FF5722;">
                Scrum Master selecciona "New Sprint" desde el Sprint Dashboard de Liskov
            </p>

            <h4 style="color: #3F51B5; margin-top: 20px;">📖 Escenario Principal (Flujo Exitoso):</h4>
            <ol style="line-height: 2.2; font-size: 1.05em;">
                <li>Scrum Master selecciona "Planificar Nuevo Sprint"</li>
                <li>Sistema muestra:
                    <ul>
                        <li>Backlog priorizado (Top 20 historias)</li>
                        <li>Velocity histórica del equipo (últimos 3 sprints)</li>
                        <li>Capacidad disponible calculada (Story Points)</li>
                        <li>Fechas sugeridas (próximas 2 semanas según configuración del proyecto)</li>
                    </ul>
                </li>
                <li>Scrum Master define:
                    <ul>
                        <li>Nombre del sprint (ej: "Sprint 12 - Dashboard Redesign")</li>
                        <li>Fecha inicio y fin (14 días)</li>
                        <li>Objetivo del sprint (1-2 oraciones)</li>
                    </ul>
                </li>
                <li>Sistema valida que las fechas NO se solapen con otro sprint activo</li>
                <li>Scrum Master arrastra historias del backlog al Sprint Backlog (drag-and-drop)</li>
                <li>Por cada historia añadida, sistema actualiza contador de Story Points y muestra indicador visual:
                    <ul>
                        <li>🟢 Verde: ≤100% capacidad</li>
                        <li>🟡 Amarillo: 100-120% capacidad</li>
                        <li>🔴 Rojo: >120% capacidad</li>
                    </ul>
                </li>
                <li>Scrum Master revisa resumen del sprint:
                    <ul>
                        <li>8 historias seleccionadas</li>
                        <li>42 Story Points comprometidos</li>
                        <li>Capacidad: 45 SP (93% utilización)</li>
                    </ul>
                </li>
                <li>Scrum Master confirma "Create Sprint"</li>
                <li>Sistema ejecuta transacción atómica:
                    <ul>
                        <li>Crea registro del sprint en BD</li>
                        <li>Asigna historias al sprint (actualiza FK sprint_id)</li>
                        <li>Calcula burndown ideal (línea recta desde 42 SP a 0 en 14 días)</li>
                        <li>Sincroniza con GitHub (crea milestone "Sprint 12")</li>
                        <li>Envía notificaciones (email + Slack webhook)</li>
                        <li>Cambia estado a "In Progress"</li>
                    </ul>
                </li>
                <li>Sistema muestra confirmación: "✅ Sprint 12 creado exitosamente" y redirige al Sprint Dashboard</li>
            </ol>

            <h4 style="color: #795548; margin-top: 20px;">🔀 Extensiones (Flujos Alternativos):</h4>
            <div style="background: #F5F5F5; padding: 20px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.95em; line-height: 2;">
                <strong>4a. Fechas se solapan con sprint existente:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;4a1. Sistema muestra error modal: "⚠️ Conflicto: Ya existe Sprint 11 activo (15/Feb - 28/Feb)"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;4a2. Scrum Master ajusta fechas de inicio/fin<br>
                &nbsp;&nbsp;&nbsp;&nbsp;4a3. Vuelve al paso 4<br><br>

                <strong>5a. Backlog vacío o sin historias estimadas:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;5a1. Sistema muestra advertencia: "⚠️ No hay historias listas (estado Ready + estimadas)"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;5a2. Sistema sugiere "Ir a Backlog Refinement"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;5a3. Caso de uso termina sin crear sprint<br><br>

                <strong>6a. Scrum Master excede capacidad en >20%:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;6a1. Sistema muestra alerta: "🔴 Sprint sobrecargado: 55 SP vs 45 SP de capacidad (122%)"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;6a2. Scrum Master decide:<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;• Remover historias hasta estar <120% (vuelve al paso 5)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;• O confirmar con sobrecarga (sistema marca sprint como "At Risk")<br><br>

                <strong>9a. Falla sincronización con GitHub API (timeout, auth error):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a1. Sistema crea el sprint IGUALMENTE (la sincronización NO es crítica)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a2. Sistema registra error en log: "GitHub sync failed: timeout 5000ms"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a3. Sistema agenda retry automático en 5 minutos<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a4. Muestra advertencia al Scrum Master: "⚠️ Sprint creado, sincronización con GitHub pendiente"<br><br>

                <strong>9b. Falla envío de notificaciones (Slack webhook down):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;9b1. Sistema crea el sprint IGUALMENTE<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9b2. Sistema registra error en log y agenda retry<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9b3. Muestra advertencia al Scrum Master<br><br>

                <strong>*a. En cualquier momento antes del paso 8, Scrum Master cancela:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a1. Sistema muestra confirmación: "¿Descartar cambios?"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a2. Si confirma: descarta cambios, NO crea sprint, vuelve al dashboard<br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a3. Si cancela: vuelve al paso donde estaba
            </div>

            <h4 style="color: #607D8B; margin-top: 20px;">⚡ Requisitos Especiales:</h4>
            <ul style="line-height: 2;">
                <li><strong>Performance:</strong> Carga del backlog (Top 100 historias) debe completarse en <2 segundos</li>
                <li><strong>Usabilidad:</strong> Interfaz drag-and-drop debe ser fluida (60 FPS) con feedback visual inmediato</li>
                <li><strong>Accesibilidad:</strong> Compatible con lectores de pantalla (ARIA labels completos)</li>
                <li><strong>Auditabilidad:</strong> Registrar en log: timestamp, usuario, historias seleccionadas, capacidad, cambios</li>
                <li><strong>Seguridad:</strong> Solo usuarios con rol "Scrum Master" o "Admin" pueden crear sprints</li>
            </ul>

            <h4 style="color: #9E9E9E; margin-top: 20px;">📊 Frecuencia de Uso:</h4>
            <p>1 vez cada 2 semanas por proyecto (al inicio de cada sprint)</p>
        </section>

        <!-- CU 2: Ejecutar Daily Standup -->
        <section class="content-card">
            <h3 style="font-size: 1.8em; color: #FF6F00; border-bottom: 3px solid #FF6F00; padding-bottom: 10px;">🗣️ CU-09: Ejecutar Daily Standup</h3>

            <div style="margin: 20px 0; text-align: center; background: #FFF3E0; padding: 20px; border-radius: 10px;">
                <img src="images/casos-de-uso/uc-25-daily-standup-detallado.png"
                     alt="Diagrama de caso de uso: Ejecutar Daily Standup"
                     style="max-width: 100%; height: auto; border: 2px solid #FF6F00; border-radius: 8px;">
                <p style="margin-top: 10px; font-size: 0.9em; color: #FF6F00;">
                    <strong>Diagrama UML:</strong> Actores Scrum Master y Developer, con extensión condicional para "Registrar Impedimentos" cuando hay blockers.
                </p>
            </div>

            <table style="width: 100%; margin: 20px 0; border: 2px solid #FF6F00;">
                <tr style="background: #FFF3E0;">
                    <td style="padding: 10px; width: 30%; font-weight: bold;">Identificador</td>
                    <td style="padding: 10px;">CU-09</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Título</td>
                    <td style="padding: 10px;">Ejecutar Daily Standup</td>
                </tr>
                <tr style="background: #FFF3E0;">
                    <td style="padding: 10px; font-weight: bold;">Nivel</td>
                    <td style="padding: 10px;">🌊 User-Goal (Objetivo del Usuario)</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Actor Primario</td>
                    <td style="padding: 10px;">Scrum Master</td>
                </tr>
                <tr style="background: #FFF3E0;">
                    <td style="padding: 10px; font-weight: bold;">Actores Secundarios</td>
                    <td style="padding: 10px;">Sistema de Notificaciones, Slack API</td>
                </tr>
            </table>

            <h4 style="color: #E91E63; margin-top: 20px;">👥 Stakeholders e Intereses:</h4>
            <ul style="line-height: 2;">
                <li><strong>Scrum Master:</strong> Quiere facilitar reunión eficiente, identificar impedimentos rápidamente</li>
                <li><strong>Developers:</strong> Quieren compartir progreso, pedir ayuda en bloqueos, coordinar trabajo del día</li>
                <li><strong>Product Owner:</strong> Quiere visibilidad del progreso diario sin interrumpir al equipo</li>
            </ul>

            <h4 style="color: #00BCD4; margin-top: 20px;">⚙️ Precondiciones:</h4>
            <ul style="line-height: 2;">
                <li>✅ Existe un sprint activo (estado "In Progress")</li>
                <li>✅ Al menos 1 developer está asignado al equipo</li>
                <li>✅ Scrum Master está autenticado en Liskov</li>
            </ul>

            <h4 style="color: #4CAF50; margin-top: 20px;">✅ Garantías de Éxito:</h4>
            <ul style="line-height: 2;">
                <li>✅ Daily standup registrada con fecha, hora, duración, y asistentes</li>
                <li>✅ Actualizaciones de estado de tareas registradas por developer</li>
                <li>✅ Impedimentos identificados creados como registros en BD con asignación a Scrum Master</li>
                <li>✅ Burndown Chart actualizado con progreso real del día</li>
                <li>✅ Resumen enviado al canal Slack #daily-standup</li>
            </ul>

            <h4 style="color: #F44336; margin-top: 20px;">🛡️ Garantías Mínimas:</h4>
            <ul style="line-height: 2;">
                <li>✅ Estado del sprint NO se corrompe si la reunión se cancela</li>
                <li>✅ Tareas individuales mantienen su estado anterior si no se actualizan</li>
                <li>✅ Log de auditoría registra inicio/fin de la reunión</li>
            </ul>

            <h4 style="color: #FF5722; margin-top: 20px;">🔔 Trigger:</h4>
            <p style="padding: 10px; background: #FBE9E7; border-left: 4px solid #FF5722;">
                <strong>Opción 1:</strong> Scrum Master selecciona "Start Daily Standup" desde Sprint Dashboard<br>
                <strong>Opción 2:</strong> Sistema genera recordatorio automático a las 9:00 AM (configurable)
            </p>

            <h4 style="color: #3F51B5; margin-top: 20px;">📖 Escenario Principal:</h4>
            <ol style="line-height: 2.2; font-size: 1.05em;">
                <li>Scrum Master inicia Daily Standup</li>
                <li>Sistema muestra tablero de standup con:
                    <ul>
                        <li>Lista de developers del equipo</li>
                        <li>Tareas asignadas a cada uno (del sprint actual)</li>
                        <li>Burndown actualizado al día anterior</li>
                        <li>Temporizador visual (countdown 15 minutos sugerido)</li>
                    </ul>
                </li>
                <li>Por cada Developer (iterar):
                    <ul>
                        <li>3a. Sistema resalta al developer actual</li>
                        <li>3b. Scrum Master o Developer responde las 3 preguntas:
                            <ul>
                                <li>¿Qué hice ayer? → Selecciona tareas completadas/progresadas</li>
                                <li>¿Qué haré hoy? → Selecciona tareas a trabajar</li>
                                <li>¿Tengo impedimentos? → Describe bloqueos (texto libre)</li>
                            </ul>
                        </li>
                        <li>3c. Sistema actualiza estado de tareas mencionadas (si aplica)</li>
                    </ul>
                </li>
                <li>Scrum Master marca la reunión como "Completada"</li>
                <li>Sistema calcula:
                    <ul>
                        <li>Story Points completados en las últimas 24h</li>
                        <li>Actualiza burndown con punto real del día</li>
                        <li>Compara progreso real vs ideal</li>
                    </ul>
                </li>
                <li>Sistema genera resumen:
                    <ul>
                        <li>Duración: 12 minutos</li>
                        <li>Asistentes: 5/6 developers</li>
                        <li>Tareas completadas: 3 (8 SP)</li>
                        <li>Tareas en progreso: 7</li>
                        <li>Impedimentos nuevos: 1</li>
                    </ul>
                </li>
                <li>Sistema envía resumen a Slack #daily-standup y registra en BD</li>
                <li>Sistema muestra confirmación y vuelve al Sprint Dashboard actualizado</li>
            </ol>

            <h4 style="color: #795548; margin-top: 20px;">🔀 Extensiones:</h4>
            <div style="background: #F5F5F5; padding: 20px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.95em; line-height: 2;">
                <strong>1a. No hay sprint activo:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;1a1. Sistema muestra error: "⚠️ No hay sprint activo. Crea un sprint primero."<br>
                &nbsp;&nbsp;&nbsp;&nbsp;1a2. Caso de uso termina<br><br>

                <strong>3b1. Developer reporta impedimento crítico (blocker):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b1a. Sistema crea registro de impedimento con prioridad "High"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b1b. Sistema notifica inmediatamente a Scrum Master vía Slack DM<br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b1c. Marca tarea asociada como "Blocked"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b1d. Continúa con siguiente developer<br><br>

                <strong>3b2. Developer ausente (no conectado):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b2a. Sistema marca asistencia como "Ausente"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b2b. Scrum Master puede agregar notas manualmente<br>
                &nbsp;&nbsp;&nbsp;&nbsp;3b2c. Continúa con siguiente developer<br><br>

                <strong>4a. Reunión excede 20 minutos:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;4a1. Sistema muestra alerta visual: "⏰ Standup extendido (20 min)"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;4a2. Scrum Master puede ignorar o finalizar anticipadamente<br><br>

                <strong>7a. Falla envío a Slack:</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;7a1. Sistema registra resumen IGUALMENTE en BD<br>
                &nbsp;&nbsp;&nbsp;&nbsp;7a2. Muestra advertencia: "⚠️ Resumen guardado, sincronización Slack pendiente"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;7a3. Agenda retry automático
            </div>

            <h4 style="color: #607D8B; margin-top: 20px;">⚡ Requisitos Especiales:</h4>
            <ul style="line-height: 2;">
                <li><strong>Performance:</strong> Carga del tablero standup en <1 segundo</li>
                <li><strong>Usabilidad:</strong> Interfaz debe ser simple, solo 3 preguntas visibles, sin distracciones</li>
                <li><strong>Tiempo:</strong> Temporizador visible para mantener reunión <15 minutos</li>
            </ul>

            <h4 style="color: #9E9E9E; margin-top: 20px;">📊 Frecuencia de Uso:</h4>
            <p>1 vez por día laboral durante el sprint activo (típicamente 10 veces por sprint de 2 semanas)</p>
        </section>

        <!-- CU 3: Generar Reporte de Sprint -->
        <section class="content-card">
            <h3 style="font-size: 1.8em; color: #7B1FA2; border-bottom: 3px solid #7B1FA2; padding-bottom: 10px;">📊 CU-15: Generar Reporte de Sprint</h3>

            <div style="margin: 20px 0; text-align: center; background: #F3E5F5; padding: 20px; border-radius: 10px;">
                <img src="images/casos-de-uso/uc-26-generar-reporte-detallado.png"
                     alt="Diagrama de caso de uso: Generar Reporte de Sprint"
                     style="max-width: 100%; height: auto; border: 2px solid #7B1FA2; border-radius: 8px;">
                <p style="margin-top: 10px; font-size: 0.9em; color: #7B1FA2;">
                    <strong>Diagrama UML:</strong> Múltiples actores primarios (Scrum Master, Product Owner, Gerente), subfunciones incluidas (Calcular Métricas, Generar Gráficos, Exportar PDF) y extensión opcional (Enviar Email).
                </p>
            </div>

            <table style="width: 100%; margin: 20px 0; border: 2px solid #7B1FA2;">
                <tr style="background: #F3E5F5;">
                    <td style="padding: 10px; width: 30%; font-weight: bold;">Identificador</td>
                    <td style="padding: 10px;">CU-15</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Título</td>
                    <td style="padding: 10px;">Generar Reporte de Sprint</td>
                </tr>
                <tr style="background: #F3E5F5;">
                    <td style="padding: 10px; font-weight: bold;">Nivel</td>
                    <td style="padding: 10px;">🌊 User-Goal (Objetivo del Usuario)</td>
                </tr>
                <tr>
                    <td style="padding: 10px; font-weight: bold;">Actor Primario</td>
                    <td style="padding: 10px;">Scrum Master, Product Owner, Gerente</td>
                </tr>
                <tr style="background: #F3E5F5;">
                    <td style="padding: 10px; font-weight: bold;">Actores Secundarios</td>
                    <td style="padding: 10px;">Sistema de Reportes (módulo interno)</td>
                </tr>
            </table>

            <h4 style="color: #E91E63; margin-top: 20px;">👥 Stakeholders e Intereses:</h4>
            <ul style="line-height: 2;">
                <li><strong>Scrum Master:</strong> Quiere analizar retrospectivamente el sprint para Sprint Review/Retrospective</li>
                <li><strong>Product Owner:</strong> Quiere medir velocity, predictibilidad, y valor entregado</li>
                <li><strong>Gerencia:</strong> Quiere métricas de productividad, cumplimiento, y tendencias</li>
                <li><strong>Stakeholders externos:</strong> Quieren reporte ejecutivo simple (1 página)</li>
            </ul>

            <h4 style="color: #00BCD4; margin-top: 20px;">⚙️ Precondiciones:</h4>
            <ul style="line-height: 2;">
                <li>✅ Usuario está autenticado con permisos de lectura en el proyecto</li>
                <li>✅ Existe al menos 1 sprint cerrado O en progreso en el proyecto</li>
            </ul>

            <h4 style="color: #4CAF50; margin-top: 20px;">✅ Garantías de Éxito:</h4>
            <ul style="line-height: 2;">
                <li>✅ Reporte generado en formato PDF/Excel (según elección del usuario)</li>
                <li>✅ Reporte contiene 8 secciones:
                    <ul>
                        <li>Resumen ejecutivo (objetivo, fechas, capacidad)</li>
                        <li>Burndown chart visual</li>
                        <li>Velocity histórica (últimos 6 sprints)</li>
                        <li>Historias completadas vs comprometidas</li>
                        <li>Distribución de trabajo por developer</li>
                        <li>Impedimentos registrados y tiempo de resolución</li>
                        <li>Métricas de calidad (bugs, code reviews)</li>
                        <li>Tendencias y recomendaciones automatizadas</li>
                    </ul>
                </li>
                <li>✅ Reporte descargado localmente O enviado por email</li>
                <li>✅ Registro de generación guardado en log con timestamp y usuario</li>
            </ul>

            <h4 style="color: #F44336; margin-top: 20px;">🛡️ Garantías Mínimas:</h4>
            <ul style="line-height: 2;">
                <li>✅ Datos del sprint NO se modifican al generar reporte (solo lectura)</li>
                <li>✅ Si falla la generación, se registra error en log con detalles técnicos</li>
            </ul>

            <h4 style="color: #FF5722; margin-top: 20px;">🔔 Trigger:</h4>
            <p style="padding: 10px; background: #FBE9E7; border-left: 4px solid #FF5722;">
                <strong>Opción 1:</strong> Usuario selecciona "Generate Report" desde Sprint Dashboard o Reports Dashboard<br>
                <strong>Opción 2:</strong> Sistema genera reporte automático al cerrar un sprint
            </p>

            <h4 style="color: #3F51B5; margin-top: 20px;">📖 Escenario Principal:</h4>
            <ol style="line-height: 2.2; font-size: 1.05em;">
                <li>Usuario selecciona "Generate Sprint Report"</li>
                <li>Sistema muestra formulario de configuración:
                    <ul>
                        <li>Selector de sprint(s): individual o comparativo (hasta 6 sprints)</li>
                        <li>Formato: PDF (ejecutivo) o Excel (detallado con datos raw)</li>
                        <li>Secciones a incluir: checkboxes para las 8 secciones</li>
                        <li>Opciones avanzadas: incluir daily standups, incluir métricas de GitHub</li>
                    </ul>
                </li>
                <li>Usuario selecciona:
                    <ul>
                        <li>Sprint 12</li>
                        <li>Formato: PDF</li>
                        <li>Todas las secciones marcadas</li>
                    </ul>
                </li>
                <li>Usuario confirma "Generate Report"</li>
                <li>Sistema muestra progress bar: "Generando reporte... 0%"</li>
                <li>Sistema ejecuta en paralelo:
                    <ul>
                        <li>6a. Consulta BD: historias, tareas, impedimentos, daily standups (2 seg)</li>
                        <li>6b. Calcula métricas: velocity, burndown, distribución de trabajo (1 seg)</li>
                        <li>6c. Genera gráficos: burndown, velocity trend, pie charts (2 seg)</li>
                        <li>6d. Consulta GitHub API: commits, PRs, code reviews (3 seg)</li>
                        <li>6e. Renderiza template PDF con datos + gráficos (2 seg)</li>
                    </ul>
                </li>
                <li>Sistema actualiza progress bar a 100%</li>
                <li>Sistema muestra modal de éxito:
                    <ul>
                        <li>"✅ Reporte generado: Sprint_12_Report_2025-03-01.pdf (2.4 MB)"</li>
                        <li>Botón "Download"</li>
                        <li>Botón "Email Report" (opcional)</li>
                    </ul>
                </li>
                <li>Usuario descarga el reporte</li>
                <li>Sistema registra en log: user_id, sprint_id, formato, timestamp, tamaño archivo</li>
            </ol>

            <h4 style="color: #795548; margin-top: 20px;">🔀 Extensiones:</h4>
            <div style="background: #F5F5F5; padding: 20px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.95em; line-height: 2;">
                <strong>2a. No hay sprints disponibles (proyecto nuevo):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;2a1. Sistema muestra mensaje: "⚠️ No hay datos suficientes. Completa al menos 1 sprint."<br>
                &nbsp;&nbsp;&nbsp;&nbsp;2a2. Caso de uso termina<br><br>

                <strong>6d1. GitHub API no responde (timeout):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;6d1a. Sistema genera reporte SIN sección de métricas de GitHub<br>
                &nbsp;&nbsp;&nbsp;&nbsp;6d1b. Incluye nota al final: "⚠️ Datos de GitHub no disponibles"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;6d1c. Continúa con paso 7<br><br>

                <strong>6e1. Generación de PDF falla (librería crashea):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;6e1a. Sistema muestra error: "❌ Error generando PDF. Intenta formato Excel."<br>
                &nbsp;&nbsp;&nbsp;&nbsp;6e1b. Registra stack trace en log de errores<br>
                &nbsp;&nbsp;&nbsp;&nbsp;6e1c. Vuelve al paso 2 (formulario pre-llenado)<br><br>

                <strong>9a. Usuario selecciona "Email Report":</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a1. Sistema muestra modal: "Enviar a:" (lista de emails del equipo pre-cargada)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a2. Usuario agrega/quita emails y confirma<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a3. Sistema envía email con reporte adjunto<br>
                &nbsp;&nbsp;&nbsp;&nbsp;9a4. Muestra confirmación: "✅ Reporte enviado a 5 destinatarios"<br><br>

                <strong>*a. Usuario cancela durante generación (mientras progress bar está activo):</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a1. Sistema intenta detener proceso de generación (best effort)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a2. Sistema descarta archivo temporal<br>
                &nbsp;&nbsp;&nbsp;&nbsp;*a3. Vuelve al dashboard sin registrar en log
            </div>

            <h4 style="color: #607D8B; margin-top: 20px;">⚡ Requisitos Especiales:</h4>
            <ul style="line-height: 2;">
                <li><strong>Performance:</strong> Generación de reporte PDF para 1 sprint debe completarse en <10 segundos</li>
                <li><strong>Escalabilidad:</strong> Soportar reportes comparativos de hasta 6 sprints sin degradación</li>
                <li><strong>Formato:</strong> PDF debe ser profesional, con logo del proyecto, colores corporativos</li>
                <li><strong>Accesibilidad:</strong> PDF debe tener metadatos correctos (título, autor, fecha creación)</li>
                <li><strong>Seguridad:</strong> Solo usuarios con permisos "Reporter" o superiores pueden generar reportes</li>
            </ul>

            <h4 style="color: #9E9E9E; margin-top: 20px;">📊 Frecuencia de Uso:</h4>
            <p>2-3 veces por sprint (al cierre del sprint, durante Sprint Review, y bajo demanda de gerencia)</p>
        </section>

        <!-- SECCIÓN 4: Ejercicio Práctico -->
        <section class="content-card" style="background: linear-gradient(135deg, #FFF9C4 0%, #FFF59D 100%);">
            <h2>✏️ 4. Ejercicio Práctico: Especifica tu Propio Caso de Uso</h2>

            <p style="font-size: 1.1em; margin-bottom: 20px;">Ahora es tu turno. Elige <strong>uno de los siguientes casos de uso de Liskov Project</strong> y especifícalo en formato <strong>Completamente Vestido de Cockburn</strong>:</p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #00BCD4;">
                    <h4 style="color: #00BCD4;">Opción A: Actualizar Estado de Task</h4>
                    <p><strong>Actor Primario:</strong> Developer</p>
                    <p><strong>Descripción:</strong> Un developer actualiza el estado de una tarea (ej: "To Do" → "In Progress" → "Code Review" → "Done"), registra tiempo trabajado, y añade comentarios.</p>
                    <p><strong>Complejidad:</strong> Media (8-10 pasos, 3-4 extensiones)</p>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #4CAF50;">
                    <h4 style="color: #4CAF50;">Opción B: Crear User Story en Backlog</h4>
                    <p><strong>Actor Primario:</strong> Product Owner</p>
                    <p><strong>Descripción:</strong> Product Owner crea una nueva historia de usuario con título, descripción (formato "Como... quiero... para..."), criterios de aceptación, prioridad, y estimación inicial.</p>
                    <p><strong>Complejidad:</strong> Media (7-9 pasos, 2-3 extensiones)</p>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #FF9800;">
                    <h4 style="color: #FF9800;">Opción C: Cerrar Sprint (Sprint Review)</h4>
                    <p><strong>Actor Primario:</strong> Scrum Master</p>
                    <p><strong>Descripción:</strong> Al finalizar el sprint, Scrum Master cierra formalmente el sprint, mueve historias incompletas al backlog, calcula velocity real, genera reporte automático, y prepara datos para retrospective.</p>
                    <p><strong>Complejidad:</strong> Alta (10-12 pasos, 4-5 extensiones)</p>
                </div>
            </div>

            <h3 style="margin-top: 40px;">📝 Plantilla para tu Especificación</h3>
            <p>Usa esta estructura para completar tu caso de uso:</p>

            <div style="background: white; padding: 30px; border-radius: 10px; border: 2px dashed #FF9800; margin: 20px 0;">
                <h4 style="color: #1976D2;">📋 [ID]: [Título del Caso de Uso]</h4>
                <div style="margin: 20px 0; padding: 15px; background: #F5F5F5; border-left: 4px solid #2196F3;">
                    <p><strong>Identificador:</strong> CU-XX</p>
                    <p><strong>Título:</strong> [Verbo + Objeto]</p>
                    <p><strong>Nivel:</strong> 🌊 User-Goal</p>
                    <p><strong>Actor Primario:</strong> [Rol]</p>
                    <p><strong>Actores Secundarios:</strong> [Sistemas/Actores de soporte]</p>
                </div>

                <h4 style="color: #E91E63; margin-top: 20px;">👥 Stakeholders e Intereses:</h4>
                <ul style="line-height: 2;">
                    <li><strong>[Stakeholder 1]:</strong> [Qué espera/necesita]</li>
                    <li><strong>[Stakeholder 2]:</strong> [Qué espera/necesita]</li>
                    <li><strong>[Stakeholder 3]:</strong> [Qué espera/necesita]</li>
                </ul>

                <h4 style="color: #00BCD4; margin-top: 20px;">⚙️ Precondiciones:</h4>
                <ul>
                    <li>✅ [Condición que debe ser verdadera ANTES]</li>
                    <li>✅ [Otra condición necesaria]</li>
                </ul>

                <h4 style="color: #4CAF50; margin-top: 20px;">✅ Garantías de Éxito (Postcondiciones):</h4>
                <ul>
                    <li>✅ [Estado del sistema DESPUÉS del éxito]</li>
                    <li>✅ [Otro resultado garantizado]</li>
                </ul>

                <h4 style="color: #F44336; margin-top: 20px;">🛡️ Garantías Mínimas:</h4>
                <ul>
                    <li>✅ [Estado garantizado INCLUSO si falla]</li>
                    <li>✅ [Protección de integridad]</li>
                </ul>

                <h4 style="color: #FF5722; margin-top: 20px;">🔔 Trigger (Disparador):</h4>
                <p style="padding: 10px; background: #FBE9E7; border-left: 4px solid #FF5722;">
                    [Evento específico que inicia el caso de uso]
                </p>

                <h4 style="color: #3F51B5; margin-top: 20px;">📖 Escenario Principal (Flujo Exitoso):</h4>
                <ol style="line-height: 2.2;">
                    <li>[Actor] hace [acción inicial]</li>
                    <li>Sistema [responde con...]</li>
                    <li>[Actor] [siguiente acción]</li>
                    <li>Sistema [procesa y...]</li>
                    <li>...</li>
                </ol>

                <h4 style="color: #795548; margin-top: 20px;">🔀 Extensiones (Flujos Alternativos):</h4>
                <div style="background: #F5F5F5; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 0.95em;">
                    <strong>[Paso]a. [Condición de error o alternativa]:</strong><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;[Paso]a1. Sistema [maneja el error]<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;[Paso]a2. Actor [responde]<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;[Paso]a3. [Vuelve al paso X o termina]<br><br>

                    <strong>*a. En cualquier momento, [Actor] cancela:</strong><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;*a1. Sistema [descarta cambios]<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;*a2. Caso de uso termina
                </div>

                <h4 style="color: #607D8B; margin-top: 20px;">⚡ Requisitos Especiales:</h4>
                <ul>
                    <li><strong>Performance:</strong> [Requisito de tiempo de respuesta]</li>
                    <li><strong>Usabilidad:</strong> [Requisito de experiencia de usuario]</li>
                    <li><strong>Seguridad:</strong> [Requisito de permisos/autenticación]</li>
                </ul>

                <h4 style="color: #9E9E9E; margin-top: 20px;">📊 Frecuencia de Uso:</h4>
                <p>[Cuántas veces se ejecuta este caso de uso]</p>
            </div>

            <div class="info-box" style="margin-top: 30px;">
                <h4>💡 Consejos para Completar el Ejercicio:</h4>
                <ul>
                    <li>✅ <strong>Usa lenguaje de negocio:</strong> No digas "hacer click en botón azul", di "selecciona la tarea"</li>
                    <li>✅ <strong>Cada paso = 1 interacción completa:</strong> Alterna entre Actor y Sistema</li>
                    <li>✅ <strong>Sé específico en extensiones:</strong> Identifica errores realistas (timeouts, validaciones, permisos)</li>
                    <li>✅ <strong>Piensa en garantías mínimas:</strong> ¿Qué pasa si el usuario cierra el navegador a mitad de camino?</li>
                    <li>✅ <strong>Consulta los 3 ejemplos de Liskov anteriores</strong> como referencia de estilo y nivel de detalle</li>
                </ul>
            </div>

            <div class="warning-box" style="margin-top: 20px;">
                <h4>⚠️ Errores Comunes a Evitar:</h4>
                <ul>
                    <li>❌ Mezclar lógica de implementación en el escenario principal ("el sistema ejecuta query SELECT...")</li>
                    <li>❌ Olvidar stakeholders no obvios (ej: auditoría, compliance, equipo de soporte)</li>
                    <li>❌ Precondiciones que en realidad son validaciones (esas van en el flujo o extensiones)</li>
                    <li>❌ Extensiones sin referencia al paso del escenario principal (debe ser 3a, 5b, etc.)</li>
                    <li>❌ Escenario principal de más de 15 pasos (probablemente es muy complejo, divide en 2 CU)</li>
                </ul>
            </div>
        </section>

        <!-- Quiz -->
        <section class="quiz-container">
            <div class="quiz-header">
                <h3>🧠 Evaluación de Conocimientos</h3>
                <p>Demuestra tu comprensión de la metodología Cockburn y casos de uso completamente vestidos</p>
            </div>

            <form id="quiz-form">
                <div class="question">
                    <h4>1. ¿Cuál es el principio fundamental de la metodología de Alistair Cockburn?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q1" value="a">
                            Complejidad técnica máxima
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="b">
                            Claridad en la comunicación
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="c">
                            Documentación exhaustiva
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="d">
                            Automatización completa
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>2. ¿Qué elemento NO es parte del formato "completamente vestido"?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q2" value="a">
                            Actores primarios
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="b">
                            Código fuente
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="c">
                            Precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="d">
                            Garantías de éxito
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>3. Las precondiciones en un caso de uso representan:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q3" value="a">
                            El estado final del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="b">
                            Las condiciones que deben cumplirse antes de la ejecución
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="c">
                            Los errores posibles del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="d">
                            Los requisitos de hardware
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>4. El patrón de inclusión se utiliza cuando:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q4" value="a">
                            Se necesita heredar comportamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="b">
                            Múltiples casos de uso comparten comportamiento común
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="c">
                            Se requiere procesamiento paralelo
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="d">
                            El sistema tiene múltiples interfaces
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>5. ¿Qué caracteriza a los casos de uso complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q5" value="a">
                            Un solo actor y flujo lineal
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="b">
                            Múltiples actores y flujos paralelos
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="c">
                            Ausencia de precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="d">
                            Documentación mínima
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>6. Las garantías de éxito especifican:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q6" value="a">
                            Los pasos del escenario principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="b">
                            El estado del sistema tras ejecución exitosa
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="c">
                            Los actores involucrados
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="d">
                            Los requisitos de rendimiento
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>7. El patrón de extensión se emplea para:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q7" value="a">
                            Eliminar código duplicado
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="b">
                            Modelar variaciones opcionales del comportamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="c">
                            Definir la arquitectura del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="d">
                            Especificar la interfaz de usuario
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>8. ¿Qué elemento es crítico en la gestión de estados complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q8" value="a">
                            La velocidad de procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="b">
                            Las transiciones de estado válidas
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="c">
                            El número de usuarios concurrentes
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="d">
                            La cantidad de memoria disponible
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>9. Los actores secundarios en un caso de uso son:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q9" value="a">
                            Los usuarios principales del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="b">
                            Sistemas o usuarios que proporcionan servicios
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="c">
                            Los administradores del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="d">
                            Los desarrolladores del software
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>10. ¿Cuál es la importancia de la trazabilidad en casos de uso avanzados?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q10" value="a">
                            Permite el seguimiento desde objetivos de negocio hasta implementación
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="b">
                            Reduce el tiempo de desarrollo
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="c">
                            Elimina la necesidad de documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="d">
                            Automatiza el proceso de testing
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>11. En el modelado de flujos paralelos es esencial definir:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q11" value="a">
                            Solo el flujo principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="b">
                            Los puntos de sincronización
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="c">
                            Únicamente los errores posibles
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="d">
                            Solo las precondiciones
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>12. Las garantías mínimas en un caso de uso establecen:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q12" value="a">
                            El estado garantizado incluso si el caso de uso falla
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="b">
                            Los requisitos mínimos de hardware
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="c">
                            El tiempo mínimo de ejecución
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="d">
                            El número mínimo de usuarios
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>13. ¿Qué factor NO debe considerarse en la integración de casos de uso con arquitectura?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q13" value="a">
                            Patrones arquitectónicos
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="b">
                            Restricciones tecnológicas
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="c">
                            Color de la interfaz de usuario
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="d">
                            Requerimientos no funcionales
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>14. El nivel "Objetivo del Usuario" en casos de uso se refiere a:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q14" value="a">
                            Funciones muy específicas y detalladas
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="b">
                            Tareas que proporcionan valor al usuario principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="c">
                            Resúmenes de alto nivel del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="d">
                            Configuraciones técnicas del sistema
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>15. ¿Cuál es la ventaja principal del patrón de generalización?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q15" value="a">
                            Aumenta la complejidad del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="b">
                            Permite reutilizar estructura común entre casos específicos
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="c">
                            Elimina la necesidad de documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="d">
                            Reduce el número de actores
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>16. En casos de uso complejos, los mecanismos de recuperación son importantes para:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q16" value="a">
                            Acelerar el procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="b">
                            Manejar situaciones de error y restaurar estados válidos
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="c">
                            Reducir el consumo de memoria
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="d">
                            Simplificar la interfaz de usuario
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>17. ¿Qué característica define mejor un escenario en la metodología Cockburn?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q17" value="a">
                            Una secuencia de código
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="b">
                            Una conversación entre actores
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="c">
                            Una especificación técnica
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="d">
                            Un diagrama de flujo
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>18. Las extensiones en un caso de uso manejan principalmente:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q18" value="a">
                            Solo los flujos principales
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="b">
                            Flujos alternativos y manejo de errores
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="c">
                            Únicamente las precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="d">
                            Solo las postcondiciones
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>19. ¿Cuál es el propósito de los invariantes del sistema en casos de uso complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q19" value="a">
                            Definir condiciones que siempre deben ser verdaderas
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="b">
                            Especificar la velocidad de procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="c">
                            Determinar el número de usuarios
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="d">
                            Establecer el diseño de la interfaz
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>20. La flexibilidad estructural en la metodología Cockburn permite:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q20" value="a">
                            Usar solo un formato rígido
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="b">
                            Adaptarse a diferentes niveles de complejidad del proyecto
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="c">
                            Eliminar la documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="d">
                            Reducir el número de stakeholders
                        </label>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <button type="button" class="quiz-button" onclick="submitQuiz()">
                        📊 Enviar Respuestas
                    </button>
                    <button type="button" class="quiz-button" onclick="resetQuiz()" style="background: var(--accent-color);">
                        🔄 Reiniciar Quiz
                    </button>
                </div>
            </form>

            <div id="quiz-results" class="results" style="display: none;">
                <h3>📈 Resultados del Quiz</h3>
                <div id="score-display" class="score"></div>
                <canvas id="resultsChart" width="300" height="300"></canvas>
                <div id="feedback"></div>
                <button class="quiz-button" onclick="resetQuiz()">🔄 Intentar Nuevamente</button>
            </div>
        </section>
    </div>

    <script>
        // Gestión del tema
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeToggle.textContent = '🌙';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Variable para rastrear si Mermaid ya fue inicializado
        window.mermaidInitialized = false;

        // Función para inicializar Mermaid una sola vez
        function initializeMermaid() {
            if (window.mermaidInitialized) return;

            const savedTheme = localStorage.getItem('theme');
            const mermaidTheme = savedTheme === 'dark' ? 'dark' : 'default';

            mermaid.initialize({
                startOnLoad: false,
                theme: mermaidTheme
            });

            window.mermaidInitialized = true;

            // Renderizar manualmente para asegurar que funciona en iframes
            try {
                mermaid.run();
            } catch (error) {
                console.error('Error rendering Mermaid:', error);
            }
        }

        // Cargar tema guardado
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.querySelector('.theme-toggle');

            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
            }

            // Inicializar Mermaid
            // Inicializar Mermaid con un pequeño delay para iframes

            setTimeout(initializeMermaid, 100);
        });

        // Respuestas correctas del quiz
        const correctAnswers = {
            q1: 'b', q2: 'b', q3: 'b', q4: 'b', q5: 'b',
            q6: 'b', q7: 'b', q8: 'b', q9: 'b', q10: 'a',
            q11: 'b', q12: 'a', q13: 'c', q14: 'b', q15: 'b',
            q16: 'b', q17: 'b', q18: 'b', q19: 'a', q20: 'b'
        };

        function submitQuiz() {
            const form = document.getElementById('quiz-form');
            const formData = new FormData(form);
            const results = document.getElementById('quiz-results');
            const scoreDisplay = document.getElementById('score-display');
            const feedback = document.getElementById('feedback');

            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;

            // Calcular puntuación
            for (let [question, correctAnswer] of Object.entries(correctAnswers)) {
                if (formData.get(question) === correctAnswer) {
                    score++;
                }
            }

            // Mostrar resultados
            const percentage = (score / totalQuestions) * 100;
            scoreDisplay.textContent = `${score}/${totalQuestions} (${percentage.toFixed(1)}%)`;

            // Determinar clase CSS basada en el porcentaje
            if (percentage >= 90) {
                scoreDisplay.className = 'score excellent';
                feedback.innerHTML = '<p><strong>¡Excelente!</strong> Tienes un dominio excepcional de los casos de uso avanzados.</p>';
            } else if (percentage >= 75) {
                scoreDisplay.className = 'score good';
                feedback.innerHTML = '<p><strong>¡Muy bien!</strong> Muestras un buen entendimiento de las técnicas avanzadas.</p>';
            } else if (percentage >= 60) {
                scoreDisplay.className = 'score needs-improvement';
                feedback.innerHTML = '<p><strong>Bien.</strong> Tienes conceptos básicos, pero revisa los patrones de diseño.</p>';
            } else {
                scoreDisplay.className = 'score poor';
                feedback.innerHTML = '<p><strong>Necesitas repasar.</strong> Te recomendamos revisar la metodología Cockburn nuevamente.</p>';
            }

            // Ocultar formulario y mostrar resultados
            form.style.display = 'none';
            results.style.display = 'block';

            // Crear gráfico de resultados
            createResultsChart(score, totalQuestions - score);
        }

        function resetQuiz() {
            const form = document.getElementById('quiz-form');
            const results = document.getElementById('quiz-results');

            form.reset();
            form.style.display = 'block';
            results.style.display = 'none';
        }

        function createResultsChart(correct, incorrect) {
            const canvas = document.getElementById('resultsChart');
            const ctx = canvas.getContext('2d');
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 100;
            
            const total = correct + incorrect;
            const correctAngle = (correct / total) * 2 * Math.PI;
            
            // Dibujar segmento de respuestas correctas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, -Math.PI / 2, -Math.PI / 2 + correctAngle);
            ctx.closePath();
            ctx.fillStyle = '#27ae60';
            ctx.fill();
            
            // Dibujar segmento de respuestas incorrectas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, -Math.PI / 2 + correctAngle, -Math.PI / 2 + 2 * Math.PI);
            ctx.closePath();
            ctx.fillStyle = '#e74c3c';
            ctx.fill();
            
            // Añadir texto en el centro
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${correct}/${total}`, centerX, centerY);
        }
    </script>
</body>
</html>