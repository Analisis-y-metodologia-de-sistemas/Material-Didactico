<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS - Clase 15: Casos de Uso Avanzados</title>
    <meta name="description" content="Metodología de Alistair Cockburn, patrones de casos de uso, y técnicas avanzadas de especificación">
    <meta name="keywords" content="análisis, sistemas, metodología, AMS, casos de uso, Cockburn, patrones">
    <meta name="author" content="Curso AMS">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            /* Colores principales */
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --info-color: #17a2b8;
            
            /* Sistema de colores para modo claro */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Gradientes */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        [data-theme="dark"] {
            /* Sistema de colores para modo oscuro */
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-card: rgba(26, 26, 26, 0.95);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --border-color: #4a5568;
            --shadow: rgba(0, 0, 0, 0.3);
            
            /* Gradientes modo oscuro */
            --gradient-primary: linear-gradient(135deg, #232526 0%, #414345 100%);
            --gradient-secondary: linear-gradient(45deg, #2c3e50, #34495e);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--gradient-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Botón de tema */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header del curso */
        .course-header {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px var(--shadow);
        }

        .course-header h1 {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .course-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        /* Barra de progreso */
        .progress-container {
            background: var(--bg-secondary);
            border-radius: 25px;
            padding: 8px;
            margin: 1rem 0;
            box-shadow: inset 0 2px 4px var(--shadow);
        }

        .progress-bar {
            background: var(--gradient-secondary);
            height: 20px;
            border-radius: 20px;
            width: 93.75%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            transition: width 1s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Tarjetas de contenido */
        .content-card {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px var(--shadow);
        }

        .content-card h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--secondary-color);
            font-size: 1.8rem;
        }

        .content-card h3 {
            color: var(--secondary-color);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        /* Objetivos */
        .objectives {
            background: linear-gradient(135deg, var(--success-color)10, var(--success-color)20);
            border-left: 5px solid var(--success-color);
        }

        .objectives h3 {
            color: var(--success-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .objectives ul {
            list-style: none;
            padding: 0;
        }

        .objectives li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .objectives li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Listas y contenido */
        .content-card ul, .content-card ol {
            padding-left: 2rem;
            margin: 1rem 0;
        }

        .content-card li {
            margin: 0.5rem 0;
            line-height: 1.8;
        }

        /* Tablas */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px var(--shadow);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--gradient-secondary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tr:hover {
            background: var(--bg-secondary);
        }

        /* Elementos destacados */
        .highlight {
            background: linear-gradient(135deg, var(--warning-color)10, var(--warning-color)20);
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            border-radius: 0 10px 10px 0;
            margin: 1rem 0;
        }

        .info-box {
            background: linear-gradient(135deg, var(--info-color)10, var(--info-color)20);
            border-left: 4px solid var(--info-color);
            padding: 1rem;
            border-radius: 0 10px 10px 0;
            margin: 1rem 0;
        }

        /* Diagramas Mermaid */
        .mermaid {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 1rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
        }

        /* Quiz */
        .quiz-container {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px var(--shadow);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .quiz-header h3 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .question {
            background: var(--bg-secondary);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 4px solid var(--secondary-color);
        }

        .question h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .options {
            display: grid;
            gap: 0.5rem;
        }

        .option {
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin: 0;
        }

        .quiz-button {
            background: var(--gradient-secondary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1rem 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .quiz-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            text-align: center;
            padding: 2rem;
            background: var(--bg-secondary);
            border-radius: 15px;
            margin-top: 1rem;
        }

        .score {
            font-size: 2rem;
            font-weight: bold;
            margin: 1rem 0;
        }

        .score.excellent { color: var(--success-color); }
        .score.good { color: var(--info-color); }
        .score.needs-improvement { color: var(--warning-color); }
        .score.poor { color: var(--accent-color); }

        #resultsChart {
            max-width: 300px;
            margin: 1rem auto;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .course-header {
                padding: 1.5rem;
            }
            
            .course-header h1 {
                font-size: 2rem;
            }
            
            .content-card {
                padding: 1.5rem;
            }
            
            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 45px;
                height: 45px;
            }

            table {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .course-header h1 {
                font-size: 1.8rem;
            }
            
            .content-card {
                padding: 1rem;
            }
            
            .quiz-button {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema">
        🌙
    </button>

    <div class="container">
        <!-- Header del Curso -->
        <header class="course-header">
            <h1>Análisis y Metodología de Sistemas</h1>
            <p class="course-subtitle">Clase 15: Casos de Uso Avanzados</p>
            <div class="progress-container">
                <div class="progress-bar">
                    93.75% Completado
                </div>
            </div>
        </header>

        <!-- Objetivos de Aprendizaje -->
        <section class="content-card objectives">
            <h3>🎯 Objetivos de Aprendizaje</h3>
            <ul>
                <li>Dominar la metodología de Alistair Cockburn para casos de uso</li>
                <li>Aplicar técnicas avanzadas de especificación de escenarios</li>
                <li>Utilizar patrones de diseño en casos de uso complejos</li>
                <li>Gestionar precondiciones y postcondiciones efectivamente</li>
                <li>Implementar casos de uso con múltiples actores y escenarios</li>
            </ul>
        </section>

        <!-- Introducción -->
        <section class="content-card">
            <h2>📚 Introducción a Casos de Uso Avanzados</h2>
            <p>Los casos de uso avanzados representan una evolución natural de las técnicas básicas de especificación de requerimientos. En esta clase, exploraremos metodologías sofisticadas que nos permitirán modelar sistemas complejos con mayor precisión y detalle.</p>
            
            <div class="info-box">
                <strong>Nota Importante:</strong> Las técnicas avanzadas de casos de uso son fundamentales para proyectos de gran escala donde la precisión en la especificación de requerimientos es crítica para el éxito del proyecto.
            </div>

            <h3>Arquitectura del Conocimiento</h3>
            <div class="mermaid">
graph TD
    A[Casos de Uso Básicos] --> B[Metodología Cockburn]
    B --> C[Formato Completamente Vestido]
    C --> D[Escenarios Detallados]
    D --> E[Precondiciones/Postcondiciones]
    E --> F[Patrones de Diseño]
    F --> G[Casos de Uso Complejos]
    
    B --> H[Niveles de Detalle]
    H --> I[Objetivo del Usuario]
    H --> J[Subfunction]
    H --> K[Summary]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style G fill:#fff3e0
</div>
        </section>

        <!-- Metodología de Alistair Cockburn -->
        <section class="content-card">
            <h2>🎭 Metodología de Alistair Cockburn</h2>
            
            <h3>Fundamentos Teóricos</h3>
            <p>Alistair Cockburn desarrolló una metodología integral para la especificación de casos de uso que se caracteriza por su estructura rigurosa y su enfoque en la claridad comunicativa. Esta metodología se basa en tres principios fundamentales:</p>
            
            <ol>
                <li><strong>Claridad en la Comunicación:</strong> Cada caso de uso debe ser comprensible para todos los stakeholders</li>
                <li><strong>Trazabilidad Completa:</strong> Desde los objetivos de negocio hasta los detalles de implementación</li>
                <li><strong>Flexibilidad Estructural:</strong> Adaptable a diferentes niveles de complejidad del proyecto</li>
            </ol>

            <h3>El Formato "Completamente Vestido"</h3>
            <p>El formato completamente vestido incluye todos los elementos necesarios para una especificación completa:</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Elemento</th>
                        <th>Descripción</th>
                        <th>Importancia</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Título</td>
                        <td>Nombre descriptivo del caso de uso</td>
                        <td>Alta</td>
                    </tr>
                    <tr>
                        <td>Actores Primarios</td>
                        <td>Usuarios principales que inician el caso</td>
                        <td>Crítica</td>
                    </tr>
                    <tr>
                        <td>Actores Secundarios</td>
                        <td>Sistemas o usuarios que proporcionan servicios</td>
                        <td>Media</td>
                    </tr>
                    <tr>
                        <td>Precondiciones</td>
                        <td>Estado del sistema antes de la ejecución</td>
                        <td>Alta</td>
                    </tr>
                    <tr>
                        <td>Garantías de Éxito</td>
                        <td>Estado del sistema tras ejecución exitosa</td>
                        <td>Crítica</td>
                    </tr>
                    <tr>
                        <td>Escenario Principal</td>
                        <td>Flujo de eventos exitoso</td>
                        <td>Crítica</td>
                    </tr>
                    <tr>
                        <td>Extensiones</td>
                        <td>Flujos alternativos y manejo de errores</td>
                        <td>Alta</td>
                    </tr>
                </tbody>
            </table>

            <h3>Estructura de Escenarios</h3>
            <div class="highlight">
                Los escenarios en la metodología Cockburn se estructuran como una conversación entre actores, donde cada paso representa una interacción significativa que acerca al sistema al objetivo del caso de uso.
            </div>

            <h3>Precondiciones y Postcondiciones</h3>
            <p>Las precondiciones y postcondiciones forman el contrato del caso de uso:</p>
            
            <ul>
                <li><strong>Precondiciones:</strong> Condiciones que deben ser verdaderas antes de ejecutar el caso de uso</li>
                <li><strong>Postcondiciones (Garantías de Éxito):</strong> Estado garantizado del sistema tras una ejecución exitosa</li>
                <li><strong>Garantías Mínimas:</strong> Estado garantizado incluso si el caso de uso falla</li>
            </ul>
        </section>

        <!-- Patrones de Diseño en Casos de Uso -->
        <section class="content-card">
            <h2>🔨 Patrones de Diseño en Casos de Uso</h2>
            
            <h3>Patrón de Inclusión</h3>
            <p>Utilizado cuando múltiples casos de uso comparten un comportamiento común que debe ser extraído para evitar duplicación.</p>
            
            <div class="mermaid">
graph LR
    A[Realizar Compra] --> B[Validar Usuario]
    C[Procesar Pago] --> B
    D[Actualizar Inventario] --> B
    
    style B fill:#e3f2fd
    style A fill:#f3e5f5
    style C fill:#f3e5f5
    style D fill:#f3e5f5
</div>

            <h3>Patrón de Extensión</h3>
            <p>Empleado para modelar variaciones opcionales o condicionales en el comportamiento base de un caso de uso.</p>

            <h3>Patrón de Generalización</h3>
            <p>Útil cuando varios casos de uso específicos comparten una estructura general común pero difieren en detalles de implementación.</p>

            <h3>Casos de Uso Complejos</h3>
            <div class="info-box">
                Los casos de uso complejos requieren técnicas especiales de modelado que incluyen la gestión de múltiples actores, flujos paralelos, y estados complejos del sistema.
            </div>
        </section>

        <!-- Técnicas Avanzadas -->
        <section class="content-card">
            <h2>⚙️ Técnicas Avanzadas de Especificación</h2>
            
            <h3>Modelado de Flujos Paralelos</h3>
            <p>Para sistemas que requieren procesamiento concurrente, es necesario especificar claramente los puntos de sincronización y las condiciones de concurrencia.</p>

            <h3>Gestión de Estados Complejos</h3>
            <p>Los sistemas con estados complejos requieren especificación detallada de:</p>
            <ul>
                <li>Transiciones de estado válidas</li>
                <li>Invariantes del sistema</li>
                <li>Condiciones de rollback</li>
                <li>Mecanismos de recuperación</li>
            </ul>

            <h3>Integración con Arquitectura del Sistema</h3>
            <p>Los casos de uso avanzados deben alinearse con la arquitectura del sistema, considerando:</p>
            <ul>
                <li>Patrones arquitectónicos</li>
                <li>Restricciones tecnológicas</li>
                <li>Requerimientos no funcionales</li>
                <li>Consideraciones de rendimiento</li>
            </ul>
        </section>

        <!-- Ejemplo Práctico -->
        <section class="content-card">
            <h2>🏗️ Ejemplo Práctico: Sistema de E-commerce</h2>
            
            <h3>Caso de Uso: Procesar Pedido Complejo</h3>
            
            <div class="highlight">
                <strong>Título:</strong> Procesar Pedido con Múltiples Proveedores<br>
                <strong>Actor Primario:</strong> Cliente<br>
                <strong>Actores Secundarios:</strong> Sistema de Pago, Sistema de Inventario, Proveedores<br>
                <strong>Nivel:</strong> Objetivo del Usuario
            </div>

            <h4>Precondiciones:</h4>
            <ul>
                <li>Cliente autenticado en el sistema</li>
                <li>Carrito de compras contiene al menos un producto</li>
                <li>Método de pago válido configurado</li>
            </ul>

            <h4>Garantías de Éxito:</h4>
            <ul>
                <li>Pedido creado y confirmado</li>
                <li>Pago procesado exitosamente</li>
                <li>Inventario actualizado</li>
                <li>Notificaciones enviadas a proveedores</li>
            </ul>

            <div class="mermaid">
sequenceDiagram
    participant C as Cliente
    participant S as Sistema
    participant P as Pago
    participant I as Inventario
    participant Prov as Proveedores
    
    C->>S: Confirmar Pedido
    S->>I: Verificar Disponibilidad
    I-->>S: Confirmación
    S->>P: Procesar Pago
    P-->>S: Pago Exitoso
    S->>Prov: Notificar Pedido
    S->>C: Confirmación Final
</div>
        </section>

        <!-- Quiz -->
        <section class="quiz-container">
            <div class="quiz-header">
                <h3>🧠 Evaluación de Conocimientos</h3>
                <p>Demuestra tu comprensión de los casos de uso avanzados</p>
            </div>

            <form id="quiz-form">
                <div class="question">
                    <h4>1. ¿Cuál es el principio fundamental de la metodología de Alistair Cockburn?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q1" value="a">
                            Complejidad técnica máxima
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="b">
                            Claridad en la comunicación
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="c">
                            Documentación exhaustiva
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="d">
                            Automatización completa
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>2. ¿Qué elemento NO es parte del formato "completamente vestido"?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q2" value="a">
                            Actores primarios
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="b">
                            Código fuente
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="c">
                            Precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="d">
                            Garantías de éxito
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>3. Las precondiciones en un caso de uso representan:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q3" value="a">
                            El estado final del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="b">
                            Las condiciones que deben cumplirse antes de la ejecución
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="c">
                            Los errores posibles del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="d">
                            Los requisitos de hardware
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>4. El patrón de inclusión se utiliza cuando:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q4" value="a">
                            Se necesita heredar comportamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="b">
                            Múltiples casos de uso comparten comportamiento común
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="c">
                            Se requiere procesamiento paralelo
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="d">
                            El sistema tiene múltiples interfaces
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>5. ¿Qué caracteriza a los casos de uso complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q5" value="a">
                            Un solo actor y flujo lineal
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="b">
                            Múltiples actores y flujos paralelos
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="c">
                            Ausencia de precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="d">
                            Documentación mínima
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>6. Las garantías de éxito especifican:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q6" value="a">
                            Los pasos del escenario principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="b">
                            El estado del sistema tras ejecución exitosa
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="c">
                            Los actores involucrados
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="d">
                            Los requisitos de rendimiento
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>7. El patrón de extensión se emplea para:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q7" value="a">
                            Eliminar código duplicado
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="b">
                            Modelar variaciones opcionales del comportamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="c">
                            Definir la arquitectura del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="d">
                            Especificar la interfaz de usuario
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>8. ¿Qué elemento es crítico en la gestión de estados complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q8" value="a">
                            La velocidad de procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="b">
                            Las transiciones de estado válidas
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="c">
                            El número de usuarios concurrentes
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="d">
                            La cantidad de memoria disponible
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>9. Los actores secundarios en un caso de uso son:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q9" value="a">
                            Los usuarios principales del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="b">
                            Sistemas o usuarios que proporcionan servicios
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="c">
                            Los administradores del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="d">
                            Los desarrolladores del software
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>10. ¿Cuál es la importancia de la trazabilidad en casos de uso avanzados?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q10" value="a">
                            Permite el seguimiento desde objetivos de negocio hasta implementación
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="b">
                            Reduce el tiempo de desarrollo
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="c">
                            Elimina la necesidad de documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="d">
                            Automatiza el proceso de testing
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>11. En el modelado de flujos paralelos es esencial definir:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q11" value="a">
                            Solo el flujo principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="b">
                            Los puntos de sincronización
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="c">
                            Únicamente los errores posibles
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="d">
                            Solo las precondiciones
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>12. Las garantías mínimas en un caso de uso establecen:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q12" value="a">
                            El estado garantizado incluso si el caso de uso falla
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="b">
                            Los requisitos mínimos de hardware
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="c">
                            El tiempo mínimo de ejecución
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="d">
                            El número mínimo de usuarios
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>13. ¿Qué factor NO debe considerarse en la integración de casos de uso con arquitectura?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q13" value="a">
                            Patrones arquitectónicos
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="b">
                            Restricciones tecnológicas
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="c">
                            Color de la interfaz de usuario
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="d">
                            Requerimientos no funcionales
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>14. El nivel "Objetivo del Usuario" en casos de uso se refiere a:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q14" value="a">
                            Funciones muy específicas y detalladas
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="b">
                            Tareas que proporcionan valor al usuario principal
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="c">
                            Resúmenes de alto nivel del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q14" value="d">
                            Configuraciones técnicas del sistema
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>15. ¿Cuál es la ventaja principal del patrón de generalización?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q15" value="a">
                            Aumenta la complejidad del sistema
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="b">
                            Permite reutilizar estructura común entre casos específicos
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="c">
                            Elimina la necesidad de documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q15" value="d">
                            Reduce el número de actores
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>16. En casos de uso complejos, los mecanismos de recuperación son importantes para:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q16" value="a">
                            Acelerar el procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="b">
                            Manejar situaciones de error y restaurar estados válidos
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="c">
                            Reducir el consumo de memoria
                        </label>
                        <label class="option">
                            <input type="radio" name="q16" value="d">
                            Simplificar la interfaz de usuario
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>17. ¿Qué característica define mejor un escenario en la metodología Cockburn?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q17" value="a">
                            Una secuencia de código
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="b">
                            Una conversación entre actores
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="c">
                            Una especificación técnica
                        </label>
                        <label class="option">
                            <input type="radio" name="q17" value="d">
                            Un diagrama de flujo
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>18. Las extensiones en un caso de uso manejan principalmente:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q18" value="a">
                            Solo los flujos principales
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="b">
                            Flujos alternativos y manejo de errores
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="c">
                            Únicamente las precondiciones
                        </label>
                        <label class="option">
                            <input type="radio" name="q18" value="d">
                            Solo las postcondiciones
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>19. ¿Cuál es el propósito de los invariantes del sistema en casos de uso complejos?</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q19" value="a">
                            Definir condiciones que siempre deben ser verdaderas
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="b">
                            Especificar la velocidad de procesamiento
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="c">
                            Determinar el número de usuarios
                        </label>
                        <label class="option">
                            <input type="radio" name="q19" value="d">
                            Establecer el diseño de la interfaz
                        </label>
                    </div>
                </div>

                <div class="question">
                    <h4>20. La flexibilidad estructural en la metodología Cockburn permite:</h4>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q20" value="a">
                            Usar solo un formato rígido
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="b">
                            Adaptarse a diferentes niveles de complejidad del proyecto
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="c">
                            Eliminar la documentación
                        </label>
                        <label class="option">
                            <input type="radio" name="q20" value="d">
                            Reducir el número de stakeholders
                        </label>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <button type="button" class="quiz-button" onclick="submitQuiz()">
                        📊 Enviar Respuestas
                    </button>
                    <button type="button" class="quiz-button" onclick="resetQuiz()" style="background: var(--accent-color);">
                        🔄 Reiniciar Quiz
                    </button>
                </div>
            </form>

            <div id="quiz-results" class="results" style="display: none;">
                <h3>📈 Resultados del Quiz</h3>
                <div id="score-display" class="score"></div>
                <canvas id="resultsChart" width="300" height="300"></canvas>
                <div id="feedback"></div>
                <button class="quiz-button" onclick="resetQuiz()">🔄 Intentar Nuevamente</button>
            </div>
        </section>
    </div>

    <script>
        // Gestión del tema
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeToggle.textContent = '🌙';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Cargar tema guardado
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
            }

            // Inicializar Mermaid
            mermaid.initialize({ 
                startOnLoad: true,
                theme: savedTheme === 'dark' ? 'dark' : 'default'
            });
        });

        // Respuestas correctas del quiz
        const correctAnswers = {
            q1: 'b', q2: 'b', q3: 'b', q4: 'b', q5: 'b',
            q6: 'b', q7: 'b', q8: 'b', q9: 'b', q10: 'a',
            q11: 'b', q12: 'a', q13: 'c', q14: 'b', q15: 'b',
            q16: 'b', q17: 'b', q18: 'b', q19: 'a', q20: 'b'
        };

        function submitQuiz() {
            const form = document.getElementById('quiz-form');
            const formData = new FormData(form);
            const results = document.getElementById('quiz-results');
            const scoreDisplay = document.getElementById('score-display');
            const feedback = document.getElementById('feedback');

            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;

            // Calcular puntuación
            for (let [question, correctAnswer] of Object.entries(correctAnswers)) {
                if (formData.get(question) === correctAnswer) {
                    score++;
                }
            }

            // Mostrar resultados
            const percentage = (score / totalQuestions) * 100;
            scoreDisplay.textContent = `${score}/${totalQuestions} (${percentage.toFixed(1)}%)`;

            // Determinar clase CSS basada en el porcentaje
            if (percentage >= 90) {
                scoreDisplay.className = 'score excellent';
                feedback.innerHTML = '<p><strong>¡Excelente!</strong> Tienes un dominio excepcional de los casos de uso avanzados.</p>';
            } else if (percentage >= 75) {
                scoreDisplay.className = 'score good';
                feedback.innerHTML = '<p><strong>¡Muy bien!</strong> Muestras un buen entendimiento de las técnicas avanzadas.</p>';
            } else if (percentage >= 60) {
                scoreDisplay.className = 'score needs-improvement';
                feedback.innerHTML = '<p><strong>Bien.</strong> Tienes conceptos básicos, pero revisa los patrones de diseño.</p>';
            } else {
                scoreDisplay.className = 'score poor';
                feedback.innerHTML = '<p><strong>Necesitas repasar.</strong> Te recomendamos revisar la metodología Cockburn nuevamente.</p>';
            }

            // Ocultar formulario y mostrar resultados
            form.style.display = 'none';
            results.style.display = 'block';

            // Crear gráfico de resultados
            createResultsChart(score, totalQuestions - score);
        }

        function resetQuiz() {
            const form = document.getElementById('quiz-form');
            const results = document.getElementById('quiz-results');

            form.reset();
            form.style.display = 'block';
            results.style.display = 'none';
        }

        function createResultsChart(correct, incorrect) {
            const canvas = document.getElementById('resultsChart');
            const ctx = canvas.getContext('2d');
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 100;
            
            const total = correct + incorrect;
            const correctAngle = (correct / total) * 2 * Math.PI;
            
            // Dibujar segmento de respuestas correctas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, -Math.PI / 2, -Math.PI / 2 + correctAngle);
            ctx.closePath();
            ctx.fillStyle = '#27ae60';
            ctx.fill();
            
            // Dibujar segmento de respuestas incorrectas
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, -Math.PI / 2 + correctAngle, -Math.PI / 2 + 2 * Math.PI);
            ctx.closePath();
            ctx.fillStyle = '#e74c3c';
            ctx.fill();
            
            // Añadir texto en el centro
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${correct}/${total}`, centerX, centerY);
        }
    </script>
</body>
</html>